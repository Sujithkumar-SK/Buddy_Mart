2025-11-04 17:29:08.103 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-04 17:29:08.196 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 17:29:08.198 +05:30 [INF] Hosting environment: Development
2025-11-04 17:29:08.200 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-04 17:30:15.836 +05:30 [INF] Application is shutting down...
2025-11-04 17:31:06.899 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-04 17:31:06.997 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 17:31:07.000 +05:30 [INF] Hosting environment: Development
2025-11-04 17:31:07.001 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-04 17:31:54.433 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - null null
2025-11-04 17:31:54.838 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - 200 null text/html;charset=utf-8 407.8349ms
2025-11-04 17:31:55.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.css - null null
2025-11-04 17:31:55.952 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-bundle.js - null null
2025-11-04 17:31:56.001 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-standalone-preset.js - null null
2025-11-04 17:31:56.061 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui.css - null null
2025-11-04 17:31:56.362 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.js - null null
2025-11-04 17:31:56.372 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.js - 200 null application/javascript;charset=utf-8 9.0387ms
2025-11-04 17:31:56.385 +05:30 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-11-04 17:31:56.388 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.css - 200 202 text/css 436.2868ms
2025-11-04 17:31:56.399 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-11-04 17:31:56.461 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-11-04 17:31:56.590 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 588.3073ms
2025-11-04 17:31:56.590 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui.css - 200 152035 text/css 529.0557ms
2025-11-04 17:31:56.939 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-11-04 17:31:56.944 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 992.1991ms
2025-11-04 17:31:57.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - null null
2025-11-04 17:31:58.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/favicon-32x32.png - null null
2025-11-04 17:31:58.084 +05:30 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2025-11-04 17:31:58.093 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/favicon-32x32.png - 200 628 image/png 14.5829ms
2025-11-04 17:31:58.212 +05:30 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Failed to generate Operation for action - Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api). See inner exception
 ---> Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Error reading parameter(s) for action Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api) as [FromForm] attribute used with IFormFile. Please refer to https://github.com/domaindrivendev/Swashbuckle.AspNetCore#handle-forms-and-file-uploads for more information
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateParametersAsync(ApiDescription apiDescription, SchemaRepository schemaRespository, Func`3 parameterGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateParametersAsync(ApiDescription apiDescription, SchemaRepository schemaRespository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(ApiDescription apiDescription, SchemaRepository schemaRepository, Func`3 parametersGenerator, Func`3 bodyGenerator, Func`3 applyFilters)
   --- End of inner exception stack trace ---
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(ApiDescription apiDescription, SchemaRepository schemaRepository, Func`3 parametersGenerator, Func`3 bodyGenerator, Func`3 applyFilters)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationAsync(ApiDescription apiDescription, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperationsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository, Func`3 operationsGenerator)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePathsAsync(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-11-04 17:31:58.251 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 704.6264ms
2025-11-04 17:32:48.647 +05:30 [INF] Application is shutting down...
2025-11-04 17:32:58.764 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-04 17:32:58.838 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 17:32:58.841 +05:30 [INF] Hosting environment: Development
2025-11-04 17:32:58.845 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-04 17:33:05.975 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - null null
2025-11-04 17:33:06.150 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - 200 null text/html;charset=utf-8 175.807ms
2025-11-04 17:33:06.287 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.js - null null
2025-11-04 17:33:06.327 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.js - 200 null application/javascript;charset=utf-8 40.1887ms
2025-11-04 17:33:06.725 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - null null
2025-11-04 17:33:07.082 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 356.1934ms
2025-11-04 17:43:48.422 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Vendor/register - application/json 374
2025-11-04 17:43:48.479 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-04 17:43:48.499 +05:30 [INF] CORS policy execution successful.
2025-11-04 17:43:48.529 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.RegisterVendor (Kanini.Ecommerce.Api)'
2025-11-04 17:43:48.689 +05:30 [INF] Route matched with {action = "RegisterVendor", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterVendor(Kanini.Ecommerce.Application.DTOs.VendorRegistrationRequestDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:43:50.021 +05:30 [INF] Vendor registration started for Email: testvendor@example.com
2025-11-04 17:43:50.027 +05:30 [INF] Vendor registration started for Email: testvendor@example.com
2025-11-04 17:43:50.034 +05:30 [INF] Checking if email exists: testvendor@example.com
2025-11-04 17:43:54.022 +05:30 [INF] Executed DbCommand (535ms) [Parameters=[@__email_0='?' (Size = 150)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[Email] = @__email_0 AND [u].[IsDeleted] = CAST(0 AS BIT)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 17:43:54.105 +05:30 [INF] Email testvendor@example.com exists: false
2025-11-04 17:43:54.115 +05:30 [INF] Checking if phone exists: 9876543213
2025-11-04 17:43:54.179 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__phone_0='?' (Size = 10)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]
        WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[Phone] = @__phone_0 AND [u].[IsDeleted] = CAST(0 AS BIT)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 17:43:54.184 +05:30 [INF] Phone 9876543213 exists: false
2025-11-04 17:43:54.189 +05:30 [INF] Checking if business license exists: BL789012
2025-11-04 17:43:54.282 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@__licenseNumber_0='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[BusinessLicenseNumber] = @__licenseNumber_0 AND [v].[IsDeleted] = CAST(0 AS BIT)) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-11-04 17:43:54.288 +05:30 [INF] Business license BL789012 exists: false
2025-11-04 17:43:54.313 +05:30 [INF] Creating user with Email: testvendor@example.com, Role: "Vendor"
2025-11-04 17:43:54.699 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-04 17:43:54.768 +05:30 [INF] User created successfully with UserId: 1001
2025-11-04 17:43:54.778 +05:30 [INF] Creating vendor with BusinessName: Test Electronics Store, UserId: 1001
2025-11-04 17:43:55.110 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 50), @p2='?' (Size = 150), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (Size = 10), @p15='?' (Size = 500), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 50), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vendors] ([BusinessAddress], [BusinessLicenseNumber], [BusinessName], [City], [CreatedBy], [CreatedOn], [CurrentPlan], [DeletedBy], [DeletedOn], [DocumentPath], [DocumentStatus], [IsActive], [IsDeleted], [OwnerName], [PinCode], [RejectionReason], [State], [Status], [TaxRegistrationNumber], [TenantId], [UpdatedBy], [UpdatedOn], [UserId], [VerifiedBy], [VerifiedOn])
OUTPUT INSERTED.[VendorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2025-11-04 17:43:55.129 +05:30 [INF] Vendor created successfully with VendorId: 1001
2025-11-04 17:43:55.133 +05:30 [INF] Vendor registration completed for VendorId: 1001
2025-11-04 17:43:55.138 +05:30 [INF] Vendor registration completed for VendorId: 1001
2025-11-04 17:43:55.184 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorRegistrationResponseDto'.
2025-11-04 17:43:55.288 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.RegisterVendor (Kanini.Ecommerce.Api) in 6585.2149ms
2025-11-04 17:43:55.292 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.RegisterVendor (Kanini.Ecommerce.Api)'
2025-11-04 17:43:55.316 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Vendor/register - 201 null application/json; charset=utf-8 6894.035ms
2025-11-04 17:45:19.360 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/Vendor/subscription-plans - null null
2025-11-04 17:45:19.368 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-04 17:45:19.399 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:45:19.413 +05:30 [INF] Getting subscription plans started
2025-11-04 17:45:19.420 +05:30 [INF] Getting subscription plans started
2025-11-04 17:45:19.445 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-04 17:45:20.410 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-04 17:45:20.414 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-04 17:45:20.435 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-04 17:45:20.446 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-04 17:45:20.510 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 1103.4134ms
2025-11-04 17:45:20.514 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-04 17:45:20.518 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/Vendor/subscription-plans - 200 null application/json; charset=utf-8 1157.8286ms
2025-11-04 17:45:49.148 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/Vendor/1/profile - null null
2025-11-04 17:45:49.156 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetVendorProfile (Kanini.Ecommerce.Api)'
2025-11-04 17:45:49.232 +05:30 [INF] Route matched with {action = "GetVendorProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVendorProfile(Int32) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:45:49.282 +05:30 [INF] Getting vendor profile for VendorId: 1
2025-11-04 17:45:49.285 +05:30 [INF] Getting vendor profile started for VendorId: 1
2025-11-04 17:45:49.289 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1
2025-11-04 17:45:49.365 +05:30 [INF] Vendor found for VendorId: 1, BusinessName: Tech Store
2025-11-04 17:45:49.369 +05:30 [INF] Vendor profile retrieved successfully for VendorId: 1
2025-11-04 17:45:49.377 +05:30 [INF] Vendor profile retrieved successfully for VendorId: 1
2025-11-04 17:45:49.379 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-04 17:45:49.386 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetVendorProfile (Kanini.Ecommerce.Api) in 150.7805ms
2025-11-04 17:45:49.392 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetVendorProfile (Kanini.Ecommerce.Api)'
2025-11-04 17:45:49.398 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/Vendor/1/profile - 200 null application/json; charset=utf-8 249.2592ms
2025-11-04 17:46:18.711 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/Vendor/1001/profile - null null
2025-11-04 17:46:18.720 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetVendorProfile (Kanini.Ecommerce.Api)'
2025-11-04 17:46:18.734 +05:30 [INF] Route matched with {action = "GetVendorProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetVendorProfile(Int32) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:46:18.741 +05:30 [INF] Getting vendor profile for VendorId: 1001
2025-11-04 17:46:18.748 +05:30 [INF] Getting vendor profile started for VendorId: 1001
2025-11-04 17:46:18.751 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1001
2025-11-04 17:46:18.769 +05:30 [INF] Vendor found for VendorId: 1001, BusinessName: Test Electronics Store
2025-11-04 17:46:18.775 +05:30 [INF] Vendor profile retrieved successfully for VendorId: 1001
2025-11-04 17:46:18.784 +05:30 [INF] Vendor profile retrieved successfully for VendorId: 1001
2025-11-04 17:46:18.788 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-04 17:46:18.791 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetVendorProfile (Kanini.Ecommerce.Api) in 51.2252ms
2025-11-04 17:46:18.800 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetVendorProfile (Kanini.Ecommerce.Api)'
2025-11-04 17:46:18.803 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/Vendor/1001/profile - 200 null application/json; charset=utf-8 92.0192ms
2025-11-04 17:47:31.374 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/select-subscription/2 - null 0
2025-11-04 17:47:31.386 +05:30 [INF] CORS policy execution successful.
2025-11-04 17:47:31.392 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.SelectSubscriptionPlan (Kanini.Ecommerce.Api)'
2025-11-04 17:47:31.438 +05:30 [INF] Route matched with {action = "SelectSubscriptionPlan", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] SelectSubscriptionPlan(Int32, Int32) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:47:31.449 +05:30 [INF] Subscription selection started for VendorId: 1001
2025-11-04 17:47:31.454 +05:30 [INF] Subscription selection started for VendorId: 1001
2025-11-04 17:47:31.456 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1001
2025-11-04 17:47:31.470 +05:30 [INF] Vendor found for VendorId: 1001, BusinessName: Test Electronics Store
2025-11-04 17:47:31.474 +05:30 [INF] Creating subscription for VendorId: 1001, PlanId: 2
2025-11-04 17:47:31.750 +05:30 [INF] Executed DbCommand (168ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Date), @p9='?' (Size = 100), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subscriptions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [EndDate], [IsActive], [IsDeleted], [PlanId], [StartDate], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[SubscriptionId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-04 17:47:31.770 +05:30 [INF] Subscription created successfully with SubscriptionId: 1
2025-11-04 17:47:31.772 +05:30 [INF] Subscription selected for VendorId: 1001, PlanId: 2
2025-11-04 17:47:31.775 +05:30 [INF] Subscription selected for VendorId: 1001, PlanId: 2
2025-11-04 17:47:31.784 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 17:47:31.801 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.SelectSubscriptionPlan (Kanini.Ecommerce.Api) in 358.8903ms
2025-11-04 17:47:31.806 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.SelectSubscriptionPlan (Kanini.Ecommerce.Api)'
2025-11-04 17:47:31.809 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/select-subscription/2 - 200 null application/json; charset=utf-8 434.8586ms
2025-11-04 17:52:15.946 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryeFKzYSaDyufC1pHV 350108
2025-11-04 17:52:15.987 +05:30 [INF] CORS policy execution successful.
2025-11-04 17:52:15.993 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-04 17:52:16.014 +05:30 [INF] Route matched with {action = "UploadDocument", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(Int32, Microsoft.AspNetCore.Http.IFormFile) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:52:16.113 +05:30 [INF] Document upload started for VendorId: 1001
2025-11-04 17:52:16.129 +05:30 [INF] Document upload started for VendorId: 1001
2025-11-04 17:52:16.130 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1001
2025-11-04 17:52:16.141 +05:30 [INF] Vendor found for VendorId: 1001, BusinessName: Test Electronics Store
2025-11-04 17:52:16.145 +05:30 [INF] Document uploaded for VendorId: 1001
2025-11-04 17:52:16.148 +05:30 [INF] Document uploaded for VendorId: 1001
2025-11-04 17:52:16.151 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 17:52:16.159 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api) in 140.5561ms
2025-11-04 17:52:16.164 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-04 17:52:16.191 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/upload-document - 200 null application/json; charset=utf-8 246.4689ms
2025-11-04 17:56:33.486 +05:30 [INF] Application is shutting down...
2025-11-04 17:58:01.176 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-04 17:58:01.293 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 17:58:01.297 +05:30 [INF] Hosting environment: Development
2025-11-04 17:58:01.299 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-04 17:58:08.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - null null
2025-11-04 17:58:08.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - 200 null text/html;charset=utf-8 205.9461ms
2025-11-04 17:58:08.953 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.js - null null
2025-11-04 17:58:08.983 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.js - 200 null application/javascript;charset=utf-8 29.3625ms
2025-11-04 17:58:09.150 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - null null
2025-11-04 17:58:09.435 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 284.6313ms
2025-11-04 17:58:24.479 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryTSfIbmkgWMyj40CJ 350108
2025-11-04 17:58:24.501 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-04 17:58:24.507 +05:30 [INF] CORS policy execution successful.
2025-11-04 17:58:24.523 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-04 17:58:24.584 +05:30 [INF] Route matched with {action = "UploadDocument", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(Int32, Microsoft.AspNetCore.Http.IFormFile) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:58:24.840 +05:30 [INF] Document upload started for VendorId: 1001
2025-11-04 17:58:24.929 +05:30 [INF] Document upload started for VendorId: 1001
2025-11-04 17:58:24.938 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1001
2025-11-04 17:58:25.364 +05:30 [INF] Vendor found for VendorId: 1001, BusinessName: Test Electronics Store
2025-11-04 17:58:28.409 +05:30 [INF] Executed DbCommand (775ms) [Parameters=[@p25='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 50), @p2='?' (Size = 150), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (Size = 10), @p15='?' (Size = 500), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 50), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [BusinessAddress] = @p0, [BusinessLicenseNumber] = @p1, [BusinessName] = @p2, [City] = @p3, [CreatedBy] = @p4, [CreatedOn] = @p5, [CurrentPlan] = @p6, [DeletedBy] = @p7, [DeletedOn] = @p8, [DocumentPath] = @p9, [DocumentStatus] = @p10, [IsActive] = @p11, [IsDeleted] = @p12, [OwnerName] = @p13, [PinCode] = @p14, [RejectionReason] = @p15, [State] = @p16, [Status] = @p17, [TaxRegistrationNumber] = @p18, [TenantId] = @p19, [UpdatedBy] = @p20, [UpdatedOn] = @p21, [UserId] = @p22, [VerifiedBy] = @p23, [VerifiedOn] = @p24
OUTPUT 1
WHERE [VendorId] = @p25;
2025-11-04 17:58:28.744 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Vendors_Users_UserId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Users", column 'UserId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63647f89-77f7-4297-b5c5-5b505061395c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Vendors_Users_UserId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Users", column 'UserId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63647f89-77f7-4297-b5c5-5b505061395c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-04 17:58:28.813 +05:30 [ERR] Database error in UpdateVendorAsync
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The UPDATE statement conflicted with the FOREIGN KEY constraint "FK_Vendors_Users_UserId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Users", column 'UserId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:63647f89-77f7-4297-b5c5-5b505061395c
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Vendor.VendorRepository.UpdateVendorAsync(Vendor vendor) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Vendor\VendorRepository.cs:line 362
2025-11-04 17:58:28.967 +05:30 [ERR] Document upload failed: Database operation failed
2025-11-04 17:58:28.988 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-04 17:58:29.039 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api) in 4447.6227ms
2025-11-04 17:58:29.046 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-04 17:58:29.069 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/upload-document - 400 null application/json; charset=utf-8 4590.111ms
2025-11-04 17:59:21.885 +05:30 [INF] Application is shutting down...
2025-11-04 17:59:34.668 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-04 17:59:34.794 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-04 17:59:34.797 +05:30 [INF] Hosting environment: Development
2025-11-04 17:59:34.799 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-04 17:59:37.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - null null
2025-11-04 17:59:37.322 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - 200 null text/html;charset=utf-8 225.4211ms
2025-11-04 17:59:37.422 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.js - null null
2025-11-04 17:59:37.459 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.js - 200 null application/javascript;charset=utf-8 36.8533ms
2025-11-04 17:59:37.679 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - null null
2025-11-04 17:59:38.048 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 369.4313ms
2025-11-04 17:59:55.333 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryK7S7eWemeRWAqptu 350108
2025-11-04 17:59:55.378 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-04 17:59:55.381 +05:30 [INF] CORS policy execution successful.
2025-11-04 17:59:55.401 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-04 17:59:55.449 +05:30 [INF] Route matched with {action = "UploadDocument", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(Int32, Microsoft.AspNetCore.Http.IFormFile) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-04 17:59:59.688 +05:30 [INF] Document upload started for VendorId: 1001
2025-11-04 17:59:59.890 +05:30 [INF] Document upload started for VendorId: 1001
2025-11-04 17:59:59.915 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1001
2025-11-04 18:00:00.447 +05:30 [INF] Vendor found for VendorId: 1001, BusinessName: Test Electronics Store
2025-11-04 18:00:03.635 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[VendorId] = @__p_0
2025-11-04 18:00:04.360 +05:30 [INF] Executed DbCommand (410ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [DocumentPath] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [VendorId] = @p3;
2025-11-04 18:00:04.385 +05:30 [INF] Document uploaded for VendorId: 1001
2025-11-04 18:00:04.389 +05:30 [INF] Document uploaded for VendorId: 1001
2025-11-04 18:00:04.409 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-04 18:00:04.465 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api) in 9001.5162ms
2025-11-04 18:00:04.468 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-04 18:00:04.517 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Vendor/1001/upload-document - 200 null application/json; charset=utf-8 9184.1568ms
2025-11-04 18:01:00.072 +05:30 [INF] Application is shutting down...
