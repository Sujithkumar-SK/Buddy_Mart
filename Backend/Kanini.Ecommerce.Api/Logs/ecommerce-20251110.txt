2025-11-10 11:01:23.887 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 11:01:24.144 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 11:01:24.149 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 11:01:24.152 +05:30 [INF] Hosting environment: Development
2025-11-10 11:01:24.154 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 11:10:33.267 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 11:10:33.542 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 11:10:33.548 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:10:33.616 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 353.4168ms
2025-11-10 11:10:33.649 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 74
2025-11-10 11:10:33.664 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:10:33.768 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:10:33.918 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:10:34.425 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:34.435 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:34.446 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:35.872 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:35.895 +05:30 [WRN] Login failed: User not found
2025-11-10 11:10:35.897 +05:30 [ERR] Login failed: Invalid email or password
2025-11-10 11:10:35.907 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 11:10:35.961 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 2032.2936ms
2025-11-10 11:10:35.965 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:10:35.975 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 2326.2479ms
2025-11-10 11:10:47.285 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 11:10:47.299 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:10:47.303 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 17.1109ms
2025-11-10 11:10:47.315 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 74
2025-11-10 11:10:47.321 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:10:47.330 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:10:47.333 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:10:47.356 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:47.362 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:47.364 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:47.371 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gmaill.com
2025-11-10 11:10:47.378 +05:30 [WRN] Login failed: User not found
2025-11-10 11:10:47.380 +05:30 [ERR] Login failed: Invalid email or password
2025-11-10 11:10:47.384 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 11:10:47.388 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 50.711ms
2025-11-10 11:10:47.398 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:10:47.401 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 85.7763ms
2025-11-10 11:11:22.695 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 11:11:22.706 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:22.709 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 13.9209ms
2025-11-10 11:11:22.716 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 11:11:22.726 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:22.731 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:11:22.734 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:11:22.775 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:11:22.778 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:11:22.779 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:11:23.058 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1009
2025-11-10 11:11:24.847 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 11:11:26.468 +05:30 [INF] Executed DbCommand (116ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:11:26.658 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:11:26.753 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 11:11:26.842 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 11:11:27.363 +05:30 [INF] Executed DbCommand (192ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 11:11:27.669 +05:30 [INF] Creating refresh token for UserId: 1009
2025-11-10 11:11:28.067 +05:30 [INF] Executed DbCommand (248ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 11:11:28.124 +05:30 [INF] Refresh token created successfully with Id: 21
2025-11-10 11:11:28.140 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 11:11:28.152 +05:30 [INF] Login successful for UserId: 1009
2025-11-10 11:11:28.154 +05:30 [INF] Login successful for UserId: 1009
2025-11-10 11:11:28.157 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 11:11:28.207 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 5457.0452ms
2025-11-10 11:11:28.341 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:11:28.452 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 5735.876ms
2025-11-10 11:11:34.389 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:11:34.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:11:34.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:11:34.404 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:11:34.411 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.414 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.463 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 59.081ms
2025-11-10 11:11:34.447 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.450 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 61.5394ms
2025-11-10 11:11:34.445 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.492 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 87.6131ms
2025-11-10 11:11:34.505 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 100.7526ms
2025-11-10 11:11:34.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:11:34.531 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:11:34.576 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.576 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.710 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:11:34.719 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:11:34.724 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:11:34.731 +05:30 [INF] Getting all categories
2025-11-10 11:11:34.737 +05:30 [INF] Getting all categories started
2025-11-10 11:11:34.741 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:11:34.742 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:11:34.754 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:11:34.759 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:11:34.808 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:11:34.837 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:11:34.838 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:11:34.839 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:11:34.845 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:11:34.846 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:11:34.854 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:11:34.876 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 147.7094ms
2025-11-10 11:11:34.877 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:11:34.878 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:11:34.891 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:34.892 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 360.9838ms
2025-11-10 11:11:34.895 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:11:34.905 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:11:34.911 +05:30 [INF] Getting all categories
2025-11-10 11:11:34.913 +05:30 [INF] Getting all categories started
2025-11-10 11:11:34.916 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:11:34.922 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:11:34.924 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:11:34.926 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:11:34.929 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:11:34.936 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 26.3276ms
2025-11-10 11:11:34.940 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:11:34.943 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 66.2327ms
2025-11-10 11:11:35.107 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:11:35.156 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:11:35.175 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:11:35.178 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:11:35.184 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:11:35.341 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 595.447ms
2025-11-10 11:11:35.343 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:11:35.343 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:11:35.350 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:11:35.353 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 821.8085ms
2025-11-10 11:11:35.357 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:11:35.362 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:11:35.382 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:11:35.391 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:11:35.525 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:11:35.538 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:11:35.541 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:11:35.550 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:11:35.558 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:11:35.561 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:11:35.570 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:11:35.574 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:11:35.577 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 199.6021ms
2025-11-10 11:11:35.587 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:11:35.591 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 248.4708ms
2025-11-10 11:11:35.839 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/2/20251109164711_ff47d0ce8653444eb3df4437e75cb723_pickle.jpg - null null
2025-11-10 11:11:35.840 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/2/20251109164757_879a10d259f349c3afe64f273ac78cfb_pic_naruto.jpg - null null
2025-11-10 11:11:36.158 +05:30 [INF] The file /images/2/20251109164711_ff47d0ce8653444eb3df4437e75cb723_pickle.jpg was not modified
2025-11-10 11:11:36.158 +05:30 [INF] The file /images/2/20251109164757_879a10d259f349c3afe64f273ac78cfb_pic_naruto.jpg was not modified
2025-11-10 11:11:36.169 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/2/20251109164757_879a10d259f349c3afe64f273ac78cfb_pic_naruto.jpg - 304 null image/jpeg 329.1066ms
2025-11-10 11:11:36.161 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/2/20251109164711_ff47d0ce8653444eb3df4437e75cb723_pickle.jpg - 304 null image/jpeg 322.0202ms
2025-11-10 11:12:09.074 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - null null
2025-11-10 11:12:09.084 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:12:09.086 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - 204 null null 11.9764ms
2025-11-10 11:12:09.092 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/product/2 - application/json 174
2025-11-10 11:12:09.100 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:12:09.142 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:12:09.156 +05:30 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Kanini.Ecommerce.Application.DTOs.ProductUpdateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:12:09.242 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 11:12:09.267 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api) in 102.3677ms
2025-11-10 11:12:09.270 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:12:09.272 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/product/2 - 400 null application/problem+json; charset=utf-8 180.0307ms
2025-11-10 11:12:21.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - null null
2025-11-10 11:12:21.782 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:12:21.783 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - 204 null null 12.1878ms
2025-11-10 11:12:21.792 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/product/2 - application/json 194
2025-11-10 11:12:21.805 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:12:21.820 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:12:21.822 +05:30 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Kanini.Ecommerce.Application.DTOs.ProductUpdateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:12:21.837 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 11:12:21.847 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api) in 10.495ms
2025-11-10 11:12:21.851 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:12:21.855 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/product/2 - 400 null application/problem+json; charset=utf-8 62.3595ms
2025-11-10 11:12:23.716 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/product/2 - application/json 194
2025-11-10 11:12:23.723 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:12:23.725 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:12:23.728 +05:30 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Kanini.Ecommerce.Application.DTOs.ProductUpdateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:12:23.733 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 11:12:23.737 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api) in 4.3581ms
2025-11-10 11:12:23.741 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:12:23.744 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/product/2 - 400 null application/problem+json; charset=utf-8 28.0295ms
2025-11-10 11:13:21.952 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - null null
2025-11-10 11:13:21.957 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:13:21.963 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - 204 null null 11.7831ms
2025-11-10 11:13:21.973 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/product/2 - application/json 194
2025-11-10 11:13:21.992 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:13:22.003 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:13:22.023 +05:30 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Kanini.Ecommerce.Application.DTOs.ProductUpdateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:13:22.042 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 11:13:22.056 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api) in 14.6157ms
2025-11-10 11:13:22.068 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:13:22.073 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/product/2 - 400 null application/problem+json; charset=utf-8 100.4916ms
2025-11-10 11:13:40.644 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - null null
2025-11-10 11:13:40.656 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:13:40.658 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/2 - 204 null null 14.5692ms
2025-11-10 11:13:40.679 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/product/2 - application/json 209
2025-11-10 11:13:40.728 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:13:40.740 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:13:40.779 +05:30 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Kanini.Ecommerce.Application.DTOs.ProductUpdateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:13:40.800 +05:30 [INF] Product update started for ProductId: 2
2025-11-10 11:13:40.806 +05:30 [INF] Product update started for ProductId: 2
2025-11-10 11:13:40.819 +05:30 [INF] Product update started for ProductId: 2
2025-11-10 11:13:40.888 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:13:41.233 +05:30 [INF] Executed DbCommand (199ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 1000), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Description] = @p0, [DiscountPrice] = @p1, [Price] = @p2, [UpdatedOn] = @p3
OUTPUT 1
WHERE [ProductId] = @p4;
2025-11-10 11:13:41.255 +05:30 [INF] Product update completed for ProductId: 2
2025-11-10 11:13:41.268 +05:30 [INF] Getting product started for ProductId: 2
2025-11-10 11:13:41.423 +05:30 [INF] Getting product completed for ProductId: 2
2025-11-10 11:13:41.444 +05:30 [INF] Product update completed for ProductId: 2
2025-11-10 11:13:41.450 +05:30 [INF] Product update completed for ProductId: 2
2025-11-10 11:13:41.455 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 11:13:41.478 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api) in 684.5642ms
2025-11-10 11:13:41.487 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 11:13:41.493 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/product/2 - 200 null application/json; charset=utf-8 813.8987ms
2025-11-10 11:14:03.214 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:14:03.215 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:14:03.275 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.233 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:14:03.301 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.303 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 70.616ms
2025-11-10 11:14:03.338 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:14:03.257 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.221 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:14:03.288 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 72.5896ms
2025-11-10 11:14:03.470 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:14:03.418 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 212.1359ms
2025-11-10 11:14:03.436 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.352 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.480 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.490 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 269.2559ms
2025-11-10 11:14:03.506 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:14:03.509 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:14:03.553 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:14:03.552 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:14:03.599 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:14:03.604 +05:30 [INF] Getting all categories
2025-11-10 11:14:03.606 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:14:03.608 +05:30 [INF] Getting all categories started
2025-11-10 11:14:03.623 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:14:03.636 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:14:03.654 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:14:03.658 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:14:03.696 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:14:03.700 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:14:03.703 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:14:03.706 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:14:03.716 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 126.0433ms
2025-11-10 11:14:03.719 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:14:03.801 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:14:03.820 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:03.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 353.009ms
2025-11-10 11:14:03.825 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:14:03.868 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:14:03.887 +05:30 [INF] Getting all categories
2025-11-10 11:14:03.891 +05:30 [INF] Getting all categories started
2025-11-10 11:14:03.902 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:14:03.918 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:14:03.923 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:14:03.935 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:14:03.938 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:14:03.941 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 54.4765ms
2025-11-10 11:14:03.969 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:14:03.973 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 253.6735ms
2025-11-10 11:14:04.083 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:14:04.102 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:14:04.107 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:14:04.135 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:14:04.140 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:14:04.151 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 551.9411ms
2025-11-10 11:14:04.154 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:14:04.158 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:14:04.395 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:04.402 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 1064.7332ms
2025-11-10 11:14:04.572 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:14:04.748 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/2/20251109164711_ff47d0ce8653444eb3df4437e75cb723_pickle.jpg - null null
2025-11-10 11:14:04.829 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:14:04.836 +05:30 [INF] The file /images/2/20251109164711_ff47d0ce8653444eb3df4437e75cb723_pickle.jpg was not modified
2025-11-10 11:14:04.872 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:14:04.875 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/2/20251109164711_ff47d0ce8653444eb3df4437e75cb723_pickle.jpg - 304 null image/jpeg 125.6451ms
2025-11-10 11:14:04.883 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:14:04.914 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:14:05.107 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:14:05.471 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:14:05.651 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:14:05.664 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:14:05.668 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:14:05.671 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:14:05.682 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:14:05.688 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 816.02ms
2025-11-10 11:14:05.705 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:14:05.719 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 1564.1882ms
2025-11-10 11:14:23.703 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/2/status - null null
2025-11-10 11:14:23.714 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:23.719 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/2/status - 204 null null 15.7451ms
2025-11-10 11:14:23.806 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5108/api/product/2/status - application/json 10
2025-11-10 11:14:23.836 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:23.841 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProductStatus (Kanini.Ecommerce.Api)'
2025-11-10 11:14:23.868 +05:30 [INF] Route matched with {action = "UpdateProductStatus", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductStatus(Int32, System.String) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:14:23.907 +05:30 [INF] Product status update started for ProductId: 2 to Status: Inactive
2025-11-10 11:14:23.938 +05:30 [INF] Product status update started for ProductId: 2 to Status: Inactive
2025-11-10 11:14:23.972 +05:30 [INF] Product status update started for ProductId: 2 to Status: Inactive
2025-11-10 11:14:23.989 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:14:24.240 +05:30 [INF] Executed DbCommand (235ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [ProductId] = @p2;
2025-11-10 11:14:24.249 +05:30 [INF] Product status update completed for ProductId: 2 to Status: Inactive
2025-11-10 11:14:24.251 +05:30 [INF] Product status update completed for ProductId: 2 to Status: Inactive
2025-11-10 11:14:24.254 +05:30 [INF] Product status update completed for ProductId: 2 to Status: Inactive
2025-11-10 11:14:24.257 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 11:14:24.264 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProductStatus (Kanini.Ecommerce.Api) in 373.6972ms
2025-11-10 11:14:24.269 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProductStatus (Kanini.Ecommerce.Api)'
2025-11-10 11:14:24.271 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5108/api/product/2/status - 200 null application/json; charset=utf-8 465.5963ms
2025-11-10 11:14:28.056 +05:30 [INF] Request starting HTTP/1.1 PATCH http://localhost:5108/api/product/2/status - application/json 8
2025-11-10 11:14:28.067 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:14:28.114 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProductStatus (Kanini.Ecommerce.Api)'
2025-11-10 11:14:28.130 +05:30 [INF] Route matched with {action = "UpdateProductStatus", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProductStatus(Int32, System.String) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:14:28.153 +05:30 [INF] Product status update started for ProductId: 2 to Status: Active
2025-11-10 11:14:28.164 +05:30 [INF] Product status update started for ProductId: 2 to Status: Active
2025-11-10 11:14:28.166 +05:30 [INF] Product status update started for ProductId: 2 to Status: Active
2025-11-10 11:14:28.182 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:14:28.230 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [Status] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [ProductId] = @p2;
2025-11-10 11:14:28.236 +05:30 [INF] Product status update completed for ProductId: 2 to Status: Active
2025-11-10 11:14:28.245 +05:30 [INF] Product status update completed for ProductId: 2 to Status: Active
2025-11-10 11:14:28.249 +05:30 [INF] Product status update completed for ProductId: 2 to Status: Active
2025-11-10 11:14:28.253 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 11:14:28.312 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProductStatus (Kanini.Ecommerce.Api) in 159.2622ms
2025-11-10 11:14:28.327 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProductStatus (Kanini.Ecommerce.Api)'
2025-11-10 11:14:28.332 +05:30 [INF] Request finished HTTP/1.1 PATCH http://localhost:5108/api/product/2/status - 200 null application/json; charset=utf-8 275.5753ms
2025-11-10 11:15:46.206 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:15:46.209 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:15:46.276 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:15:46.278 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:15:46.425 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.437 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.443 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.457 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.472 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 194.4631ms
2025-11-10 11:15:46.460 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 251.0297ms
2025-11-10 11:15:46.461 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 184.8645ms
2025-11-10 11:15:46.458 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 252.4738ms
2025-11-10 11:15:46.537 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:15:46.537 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:15:46.592 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.611 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.639 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:15:46.644 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:15:46.659 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:15:46.677 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:15:46.688 +05:30 [INF] Getting all categories
2025-11-10 11:15:46.692 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:15:46.699 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:15:46.693 +05:30 [INF] Getting all categories started
2025-11-10 11:15:46.704 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:15:46.722 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:15:46.738 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:15:46.741 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:15:46.754 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:15:46.758 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:15:46.759 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:15:46.770 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:15:46.774 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 86.4329ms
2025-11-10 11:15:46.786 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:15:46.789 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:15:46.822 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:46.826 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 288.8568ms
2025-11-10 11:15:46.993 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:15:47.085 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:15:47.092 +05:30 [INF] Getting all categories
2025-11-10 11:15:47.097 +05:30 [INF] Getting all categories started
2025-11-10 11:15:47.101 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:15:47.198 +05:30 [INF] Executed DbCommand (146ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:15:47.205 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:15:47.215 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:15:47.218 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:15:47.236 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:15:47.240 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 548.4159ms
2025-11-10 11:15:47.242 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:15:47.267 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:15:47.256 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:15:47.292 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 755.216ms
2025-11-10 11:15:47.268 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:15:47.448 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:15:47.502 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:15:47.505 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:15:47.821 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:15:47.841 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:15:47.842 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:15:47.858 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:15:48.091 +05:30 [INF] Executed DbCommand (94ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:15:48.206 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 1114.4506ms
2025-11-10 11:15:48.465 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:15:48.516 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:15:48.521 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:15:48.533 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 1747.4099ms
2025-11-10 11:15:48.969 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:15:48.986 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:15:48.990 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:15:49.000 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:15:49.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:15:49.019 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 1198.261ms
2025-11-10 11:15:49.038 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:15:49.070 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 1827.6463ms
2025-11-10 11:16:02.057 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:16:02.057 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:02.082 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:02.084 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 27.091ms
2025-11-10 11:16:02.077 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:02.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 133.143ms
2025-11-10 11:16:02.063 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:16:02.184 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:02.057 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:02.201 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:16:02.247 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:02.382 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 319.4446ms
2025-11-10 11:16:02.278 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:02.411 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 353.0315ms
2025-11-10 11:16:02.253 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:02.379 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:02.729 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:02.729 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:02.732 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:16:02.759 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:16:02.765 +05:30 [INF] Getting all categories
2025-11-10 11:16:02.780 +05:30 [INF] Getting all categories started
2025-11-10 11:16:02.783 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:16:02.777 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:02.797 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:02.831 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:16:02.851 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:16:02.859 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:16:02.862 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:02.865 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:16:02.867 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:02.877 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:02.880 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 115.5893ms
2025-11-10 11:16:02.883 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:02.892 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 691.8618ms
2025-11-10 11:16:02.927 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:16:03.001 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:03.059 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:16:03.101 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:03.131 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:03.133 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:16:03.143 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:03.150 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:16:03.159 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:03.147 +05:30 [INF] Getting all categories
2025-11-10 11:16:03.162 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 391.7293ms
2025-11-10 11:16:03.166 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:03.176 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 991.2446ms
2025-11-10 11:16:03.163 +05:30 [INF] Getting all categories started
2025-11-10 11:16:03.512 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:03.526 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:03.514 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:16:03.534 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:03.559 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:03.560 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:16:03.563 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:16:03.578 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:03.579 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:03.581 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:03.583 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:03.598 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 451.3125ms
2025-11-10 11:16:03.599 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:16:03.613 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:03.631 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 704.2832ms
2025-11-10 11:16:03.628 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:16:03.865 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:16:03.879 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:16:03.966 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:04.026 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:04.030 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:16:04.061 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:04.098 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 521.1437ms
2025-11-10 11:16:04.116 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:04.182 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 669.534ms
2025-11-10 11:16:27.637 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:27.732 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:16:27.732 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:16:27.754 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:27.928 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:27.934 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 180.294ms
2025-11-10 11:16:27.950 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:27.831 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:27.967 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 329.8197ms
2025-11-10 11:16:27.920 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:27.954 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:27.838 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:28.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 460.0042ms
2025-11-10 11:16:28.194 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:28.219 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:16:28.198 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 466.1993ms
2025-11-10 11:16:28.389 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:28.419 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:28.410 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:16:28.434 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:28.437 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:28.442 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:16:28.460 +05:30 [INF] Getting all categories
2025-11-10 11:16:28.469 +05:30 [INF] Getting all categories started
2025-11-10 11:16:28.471 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:16:28.506 +05:30 [INF] Executed DbCommand (83ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:16:28.519 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:28.526 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:16:28.534 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:16:28.550 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:28.538 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:16:28.564 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:28.569 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 110.2212ms
2025-11-10 11:16:28.584 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:28.604 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 193.9715ms
2025-11-10 11:16:28.604 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:16:28.807 +05:30 [INF] Executed DbCommand (120ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:16:28.832 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:28.852 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:28.850 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:28.860 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:16:28.871 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:28.901 +05:30 [INF] Getting all categories
2025-11-10 11:16:28.914 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:16:28.934 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:28.915 +05:30 [INF] Getting all categories started
2025-11-10 11:16:28.953 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 565.1735ms
2025-11-10 11:16:28.958 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:16:28.966 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:29.068 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:16:29.121 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:16:29.083 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 1133.3571ms
2025-11-10 11:16:29.080 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:29.561 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:29.572 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:16:29.570 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:16:29.581 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:16:29.582 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:29.579 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:29.589 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:16:29.587 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 687.6121ms
2025-11-10 11:16:29.596 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:16:29.599 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 994.5868ms
2025-11-10 11:16:29.631 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:16:30.216 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:16:30.231 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:16:30.315 +05:30 [INF] Executed DbCommand (51ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:16:30.586 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:30.611 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:16:30.616 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:16:30.620 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:16:30.629 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 1050.5791ms
2025-11-10 11:16:30.727 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:16:30.732 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 1664.1838ms
2025-11-10 11:19:30.259 +05:30 [INF] Application is shutting down...
2025-11-10 11:32:39.471 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 11:32:39.780 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 11:32:39.786 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 11:32:39.788 +05:30 [INF] Hosting environment: Development
2025-11-10 11:32:39.791 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 11:33:14.515 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:33:14.515 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:33:14.515 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:33:14.515 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 11:33:15.819 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 11:33:15.920 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:15.920 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:15.920 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:15.920 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:16.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 1702.4578ms
2025-11-10 11:33:16.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 1704.2214ms
2025-11-10 11:33:16.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 1704.6243ms
2025-11-10 11:33:16.039 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1009 - 204 null null 1705.2818ms
2025-11-10 11:33:16.185 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:33:16.210 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:33:16.273 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:16.273 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:17.536 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:33:17.540 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:33:17.984 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:33:17.984 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:33:20.293 +05:30 [INF] Getting all categories
2025-11-10 11:33:20.369 +05:30 [INF] Getting all categories started
2025-11-10 11:33:20.370 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:33:20.378 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:33:20.944 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:33:24.024 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 11:33:25.403 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:33:25.459 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:33:25.462 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:33:25.542 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:33:25.654 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 11:33:25.658 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 7647.9151ms
2025-11-10 11:33:25.663 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:25.665 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:33:25.673 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:33:25.677 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 11:33:25.697 +05:30 [INF] Getting all categories
2025-11-10 11:33:25.681 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 9470.8889ms
2025-11-10 11:33:25.708 +05:30 [INF] Getting all categories started
2025-11-10 11:33:25.934 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 11:33:25.995 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:33:26.002 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 11:33:26.006 +05:30 [INF] Retrieved 2 categories
2025-11-10 11:33:26.045 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:33:26.051 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 359.8246ms
2025-11-10 11:33:26.056 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 11:33:26.059 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 404.7953ms
2025-11-10 11:33:28.022 +05:30 [INF] Executed DbCommand (425ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:33:28.438 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:33:28.518 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:33:28.883 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:33:28.975 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:33:29.007 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:33:29.020 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:33:29.024 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:33:29.109 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 11105.8996ms
2025-11-10 11:33:29.116 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:33:29.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - null null
2025-11-10 11:33:29.123 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:29.131 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 12945.939ms
2025-11-10 11:33:29.133 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:33:29.141 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 11:33:29.153 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:33:29.155 +05:30 [INF] Getting products by vendor started for VendorId: 1009
2025-11-10 11:33:29.237 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:33:29.248 +05:30 [INF] Converted UserId 1009 to VendorId 1003 for product fetch
2025-11-10 11:33:29.251 +05:30 [INF] Getting products by vendor started for VendorId: 1003
2025-11-10 11:33:29.331 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 11:33:29.337 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:33:29.342 +05:30 [INF] Getting products by vendor completed for VendorId: 1003. Found 1 products
2025-11-10 11:33:29.346 +05:30 [INF] Getting products by vendor completed for VendorId: 1009. Found 1 products
2025-11-10 11:33:29.349 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:33:29.353 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 203.7416ms
2025-11-10 11:33:29.356 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:33:29.360 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1009 - 200 null application/json; charset=utf-8 243.55ms
2025-11-10 11:33:41.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:33:41.801 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:33:41.836 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:41.862 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:41.879 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 89.5117ms
2025-11-10 11:33:41.883 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 81.9877ms
2025-11-10 11:33:41.895 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:33:41.908 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:42.077 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:33:42.098 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:33:43.110 +05:30 [INF] Executed DbCommand (90ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:33:43.269 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 11:33:43.277 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 1174.2773ms
2025-11-10 11:33:43.281 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:33:43.282 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:33:43.289 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 1390.7858ms
2025-11-10 11:33:43.299 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:33:43.330 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:33:43.336 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:33:43.378 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:33:43.405 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 11:33:43.416 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 69.6009ms
2025-11-10 11:33:43.422 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:33:43.427 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 145.6943ms
2025-11-10 11:37:39.831 +05:30 [INF] Application is shutting down...
2025-11-10 11:46:56.228 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 11:46:56.693 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 11:46:56.797 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 11:46:56.807 +05:30 [INF] Hosting environment: Development
2025-11-10 11:46:56.831 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 11:51:32.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 11:51:33.205 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 11:51:33.264 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:51:33.304 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 431.0607ms
2025-11-10 11:51:33.398 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 158
2025-11-10 11:51:33.420 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:51:33.777 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 11:51:33.972 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:51:35.068 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gamil.com, Type: Registration
2025-11-10 11:51:35.088 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gamil.com, Type: Registration
2025-11-10 11:51:35.177 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gamil.com
2025-11-10 11:51:36.277 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gamil.com
2025-11-10 11:51:36.295 +05:30 [INF] OTP generated successfully
2025-11-10 11:51:36.394 +05:30 [INF] OTP JWT token with registration data created for email: sujithkumarsenthilkumar777@gamil.com, type: Registration_2
2025-11-10 11:51:36.400 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gamil.com
2025-11-10 11:51:39.925 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gamil.com
2025-11-10 11:51:39.930 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gamil.com
2025-11-10 11:51:39.937 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gamil.com
2025-11-10 11:51:39.958 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 11:51:40.011 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 6022.5055ms
2025-11-10 11:51:40.021 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 11:51:40.088 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 6664.9371ms
2025-11-10 11:53:02.626 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 11:53:02.721 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:53:02.723 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 96.8546ms
2025-11-10 11:53:02.761 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 159
2025-11-10 11:53:02.830 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:53:02.844 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 11:53:02.874 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:53:02.920 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 11:53:02.924 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 11:53:02.928 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:02.953 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:02.956 +05:30 [INF] OTP generated successfully
2025-11-10 11:53:02.959 +05:30 [INF] OTP JWT token with registration data created for email: sujithkumarsenthilkumar777@gmail.com, type: Registration_2
2025-11-10 11:53:02.963 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:06.589 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:06.594 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:06.597 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:06.600 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 11:53:06.604 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 3723.1686ms
2025-11-10 11:53:06.608 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 11:53:06.612 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 3850.9813ms
2025-11-10 11:53:22.249 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 11:53:22.411 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:53:22.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 182.3594ms
2025-11-10 11:53:22.509 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1083
2025-11-10 11:53:22.530 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:53:22.544 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 11:53:22.573 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:53:22.639 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:22.645 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:22.810 +05:30 [INF] OTP validation result for email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 11:53:22.871 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:23.045 +05:30 [INF] Email exists check result for sujithkumarsenthilkumar777@gmail.com: false
2025-11-10 11:53:23.059 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:23.079 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 11:53:23.114 +05:30 [INF] Creating user for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:24.754 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 11:53:26.069 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 11:53:26.140 +05:30 [INF] User created successfully with UserId: 1010
2025-11-10 11:53:26.143 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:53:26.149 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-10 11:53:26.156 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 3576.8255ms
2025-11-10 11:53:26.159 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 11:53:26.221 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 3712.6192ms
2025-11-10 11:53:28.317 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 11:53:28.469 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:53:28.496 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 11:53:28.534 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:53:28.668 +05:30 [INF] Getting subscription plans started
2025-11-10 11:53:28.671 +05:30 [INF] Getting subscription plans started
2025-11-10 11:53:28.689 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 11:53:28.831 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 11:53:28.838 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 11:53:28.871 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 11:53:28.880 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:53:28.936 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 273.5741ms
2025-11-10 11:53:28.939 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 11:53:28.947 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 11:53:28.962 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:53:28.950 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 632.9405ms
2025-11-10 11:53:29.018 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 11:53:29.045 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:53:29.063 +05:30 [INF] Getting subscription plans started
2025-11-10 11:53:29.067 +05:30 [INF] Getting subscription plans started
2025-11-10 11:53:29.069 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 11:53:29.113 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 11:53:29.116 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 11:53:29.120 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 11:53:29.129 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:53:29.133 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 71.6442ms
2025-11-10 11:53:29.137 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 11:53:29.146 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 198.3813ms
2025-11-10 11:54:28.899 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - null null
2025-11-10 11:54:28.908 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:54:28.921 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - 204 null null 21.2862ms
2025-11-10 11:54:28.953 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - application/json 255
2025-11-10 11:54:28.970 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:54:28.972 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:54:29.000 +05:30 [INF] Route matched with {action = "CreateVendorProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVendorProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileCreateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:54:29.069 +05:30 [INF] Creating vendor profile for UserId: 1010
2025-11-10 11:54:29.074 +05:30 [INF] Creating vendor profile for UserId: 1010
2025-11-10 11:54:30.163 +05:30 [INF] Executed DbCommand (163ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__userId_0 AND [u].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:54:30.322 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:54:30.334 +05:30 [INF] Creating vendor profile for UserId: 1010
2025-11-10 11:54:30.577 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 50), @p2='?' (Size = 150), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (Size = 10), @p15='?' (Size = 500), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 50), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vendors] ([BusinessAddress], [BusinessLicenseNumber], [BusinessName], [City], [CreatedBy], [CreatedOn], [CurrentPlan], [DeletedBy], [DeletedOn], [DocumentPath], [DocumentStatus], [IsActive], [IsDeleted], [OwnerName], [PinCode], [RejectionReason], [State], [Status], [TaxRegistrationNumber], [TenantId], [UpdatedBy], [UpdatedOn], [UserId], [VerifiedBy], [VerifiedOn])
OUTPUT INSERTED.[VendorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2025-11-10 11:54:30.590 +05:30 [INF] Vendor profile created with VendorId: 1004
2025-11-10 11:54:30.598 +05:30 [INF] Creating subscription for VendorId: 1004, PlanId: 1
2025-11-10 11:54:30.744 +05:30 [INF] Executed DbCommand (58ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Date), @p9='?' (Size = 100), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subscriptions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [EndDate], [IsActive], [IsDeleted], [PlanId], [StartDate], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[SubscriptionId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-10 11:54:30.754 +05:30 [INF] Subscription created successfully with SubscriptionId: 2
2025-11-10 11:54:30.766 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:54:34.072 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:54:34.076 +05:30 [INF] Vendor profile created successfully for UserId: 1010, VendorId: 1004
2025-11-10 11:54:34.079 +05:30 [INF] Vendor profile created successfully for UserId: 1010
2025-11-10 11:54:34.081 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.VendorProfileDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 11:54:34.101 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api) in 5094.7428ms
2025-11-10 11:54:34.111 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:54:34.116 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - 200 null application/json; charset=utf-8 5162.6016ms
2025-11-10 11:55:16.333 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - null null
2025-11-10 11:55:16.515 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - 200 null text/html;charset=utf-8 181.9166ms
2025-11-10 11:55:16.762 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.js - null null
2025-11-10 11:55:16.899 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.js - 200 null application/javascript;charset=utf-8 136.8537ms
2025-11-10 11:55:17.545 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - null null
2025-11-10 11:55:18.258 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 713.0871ms
2025-11-10 11:55:58.489 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 11:55:58.504 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:55:58.529 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 40.9711ms
2025-11-10 11:55:58.576 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 64
2025-11-10 11:55:58.583 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:55:58.593 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:55:58.608 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:55:58.656 +05:30 [INF] Login attempt started for Email: sujithkumar.kanini@outlook.com
2025-11-10 11:55:58.693 +05:30 [INF] Login attempt started for Email: sujithkumar.kanini@outlook.com
2025-11-10 11:55:58.695 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumar.kanini@outlook.com
2025-11-10 11:55:58.754 +05:30 [INF] User found for Email: sujithkumar.kanini@outlook.com, UserId: 4
2025-11-10 11:55:58.782 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumar.kanini@outlook.com
2025-11-10 11:55:58.842 +05:30 [INF] Credential validation result for Email: sujithkumar.kanini@outlook.com - true
2025-11-10 11:55:58.961 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 11:55:59.056 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 11:55:59.072 +05:30 [INF] Creating refresh token for UserId: 4
2025-11-10 11:55:59.162 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 11:55:59.179 +05:30 [INF] Refresh token created successfully with Id: 22
2025-11-10 11:55:59.191 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 11:55:59.203 +05:30 [INF] Login successful for UserId: 4
2025-11-10 11:55:59.205 +05:30 [INF] Login successful for UserId: 4
2025-11-10 11:55:59.208 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 11:55:59.215 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 601.1221ms
2025-11-10 11:55:59.228 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:55:59.231 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 654.9925ms
2025-11-10 11:57:33.138 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 11:57:33.145 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:57:33.148 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 10.0794ms
2025-11-10 11:57:33.167 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 11:57:33.175 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:57:33.177 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:57:33.187 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:57:33.194 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:33.201 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:33.206 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:33.225 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1010
2025-11-10 11:57:33.326 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:57:33.340 +05:30 [WRN] Login attempt for unapproved vendor: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:33.342 +05:30 [ERR] Login failed: Your vendor account is pending admin approval. Please wait for approval before logging in.
2025-11-10 11:57:33.363 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 11:57:33.380 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 188.0095ms
2025-11-10 11:57:33.390 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:57:33.393 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 224.689ms
2025-11-10 11:57:42.276 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Admin/vendors/approve - application/json 54
2025-11-10 11:57:42.282 +05:30 [INF] CORS policy execution failed.
2025-11-10 11:57:42.284 +05:30 [INF] Request origin http://localhost:5108 does not have permission to access the resource.
2025-11-10 11:57:42.407 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AdminController.ApproveVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:57:42.414 +05:30 [INF] Route matched with {action = "ApproveVendor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveVendor(Kanini.Ecommerce.Application.DTOs.VendorApprovalRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AdminController (Kanini.Ecommerce.Api).
2025-11-10 11:57:42.428 +05:30 [INF] Vendor approval started for VendorId: 1004
2025-11-10 11:57:42.436 +05:30 [INF] Vendor approval started for VendorId: 1004
2025-11-10 11:57:42.456 +05:30 [INF] Getting vendor for approval: 1004
2025-11-10 11:57:42.603 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[VendorId] = @__vendorId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:57:42.630 +05:30 [INF] Vendor approval started for VendorId: 1004
2025-11-10 11:57:42.922 +05:30 [INF] Executed DbCommand (276ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[VendorId] = @__vendorId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:57:43.239 +05:30 [INF] Executed DbCommand (302ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [DocumentStatus] = @p0, [IsActive] = @p1, [Status] = @p2, [UpdatedBy] = @p3, [UpdatedOn] = @p4, [VerifiedBy] = @p5, [VerifiedOn] = @p6
OUTPUT 1
WHERE [VendorId] = @p7;
2025-11-10 11:57:43.247 +05:30 [INF] Vendor approved successfully for VendorId: 1004
2025-11-10 11:57:43.254 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:46.663 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:46.667 +05:30 [INF] Vendor approved successfully for VendorId: 1004
2025-11-10 11:57:46.669 +05:30 [INF] Vendor approved successfully for VendorId: 1004
2025-11-10 11:57:46.672 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 11:57:46.676 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AdminController.ApproveVendor (Kanini.Ecommerce.Api) in 4254.154ms
2025-11-10 11:57:46.688 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AdminController.ApproveVendor (Kanini.Ecommerce.Api)'
2025-11-10 11:57:46.690 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Admin/vendors/approve - 200 null application/json; charset=utf-8 4414.2357ms
2025-11-10 11:57:58.660 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 11:57:58.670 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:57:58.672 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 12.2303ms
2025-11-10 11:57:58.706 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 11:57:58.717 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:57:58.719 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:57:58.723 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 11:57:58.749 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:58.751 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:58.753 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:58.756 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1010
2025-11-10 11:57:58.772 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:57:58.785 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 11:57:58.865 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 11:57:58.871 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 11:57:58.962 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedBy] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 11:57:58.968 +05:30 [INF] Creating refresh token for UserId: 1010
2025-11-10 11:57:58.984 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 11:57:58.991 +05:30 [INF] Refresh token created successfully with Id: 23
2025-11-10 11:57:59.007 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 11:57:59.017 +05:30 [INF] Login successful for UserId: 1010
2025-11-10 11:57:59.018 +05:30 [INF] Login successful for UserId: 1010
2025-11-10 11:57:59.022 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 11:57:59.030 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 289.2183ms
2025-11-10 11:57:59.035 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 11:57:59.037 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 331.8693ms
2025-11-10 11:58:03.105 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:58:03.108 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:58:03.115 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:58:03.124 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:58:03.127 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 21.8076ms
2025-11-10 11:58:03.144 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 35.394ms
2025-11-10 11:58:03.164 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:58:03.210 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:58:03.215 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:58:03.230 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:58:03.263 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:58:03.279 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 11:58:03.282 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 39.0683ms
2025-11-10 11:58:03.292 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 11:58:03.295 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:58:03.299 +05:30 [INF] CORS policy execution successful.
2025-11-10 11:58:03.304 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 139.6149ms
2025-11-10 11:58:03.338 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:58:03.340 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 11:58:03.346 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 11:58:03.360 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 11:58:03.363 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 18.9031ms
2025-11-10 11:58:03.372 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 11:58:03.375 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 83.2844ms
2025-11-10 12:04:07.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 12:04:07.441 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:04:07.444 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 14.9992ms
2025-11-10 12:04:07.594 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 158
2025-11-10 12:04:07.607 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:04:07.611 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:04:07.613 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:04:07.627 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 12:04:07.630 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 12:04:07.632 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:07.648 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:07.650 +05:30 [INF] OTP generated successfully
2025-11-10 12:04:07.659 +05:30 [INF] OTP JWT token with registration data created for email: sujithkumarsenthilkumar777@gmail.com, type: Registration_2
2025-11-10 12:04:07.663 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:11.943 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:11.952 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:11.958 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:11.968 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 12:04:11.973 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 4356.0021ms
2025-11-10 12:04:12.000 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:04:12.003 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 4409.0684ms
2025-11-10 12:04:25.236 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 12:04:25.248 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:04:25.250 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 14.373ms
2025-11-10 12:04:25.265 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1082
2025-11-10 12:04:25.284 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:04:25.285 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:04:25.301 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:04:25.320 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:25.332 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:25.334 +05:30 [INF] OTP validation result for email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 12:04:25.337 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:25.651 +05:30 [INF] Email exists check result for sujithkumarsenthilkumar777@gmail.com: false
2025-11-10 12:04:25.653 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:25.661 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 12:04:25.663 +05:30 [INF] Creating user for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:25.676 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 12:04:25.684 +05:30 [INF] User created successfully with UserId: 1011
2025-11-10 12:04:25.686 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:04:25.696 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-10 12:04:25.701 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 385.1388ms
2025-11-10 12:04:25.716 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:04:25.720 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 454.7535ms
2025-11-10 12:04:27.809 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 12:04:27.814 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:04:27.816 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:04:27.825 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:04:27.829 +05:30 [INF] Getting subscription plans started
2025-11-10 12:04:27.831 +05:30 [INF] Getting subscription plans started
2025-11-10 12:04:27.832 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 12:04:27.861 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 12:04:27.864 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:04:27.867 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:04:27.871 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:04:27.877 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 48.0881ms
2025-11-10 12:04:27.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 12:04:27.888 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:04:27.922 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 112.794ms
2025-11-10 12:04:27.915 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:04:27.950 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:04:27.967 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:04:27.985 +05:30 [INF] Getting subscription plans started
2025-11-10 12:04:27.996 +05:30 [INF] Getting subscription plans started
2025-11-10 12:04:28.062 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 12:04:28.080 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 12:04:28.084 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:04:28.091 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:04:28.094 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:04:28.098 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 113.2974ms
2025-11-10 12:04:28.115 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:04:28.130 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 247.5618ms
2025-11-10 12:05:17.954 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - null null
2025-11-10 12:05:17.969 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:05:17.975 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - 204 null null 20.9773ms
2025-11-10 12:05:17.984 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - application/json 256
2025-11-10 12:05:17.997 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:05:17.999 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:05:18.002 +05:30 [INF] Route matched with {action = "CreateVendorProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVendorProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileCreateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:05:18.018 +05:30 [INF] Creating vendor profile for UserId: 1011
2025-11-10 12:05:18.027 +05:30 [INF] Creating vendor profile for UserId: 1011
2025-11-10 12:05:18.037 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__userId_0 AND [u].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:05:18.069 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:05:18.096 +05:30 [INF] Creating vendor profile for UserId: 1011
2025-11-10 12:05:18.111 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 50), @p2='?' (Size = 150), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (Size = 10), @p15='?' (Size = 500), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 50), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vendors] ([BusinessAddress], [BusinessLicenseNumber], [BusinessName], [City], [CreatedBy], [CreatedOn], [CurrentPlan], [DeletedBy], [DeletedOn], [DocumentPath], [DocumentStatus], [IsActive], [IsDeleted], [OwnerName], [PinCode], [RejectionReason], [State], [Status], [TaxRegistrationNumber], [TenantId], [UpdatedBy], [UpdatedOn], [UserId], [VerifiedBy], [VerifiedOn])
OUTPUT INSERTED.[VendorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2025-11-10 12:05:18.120 +05:30 [INF] Vendor profile created with VendorId: 1005
2025-11-10 12:05:18.128 +05:30 [INF] Creating subscription for VendorId: 1005, PlanId: 1
2025-11-10 12:05:18.151 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Date), @p9='?' (Size = 100), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subscriptions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [EndDate], [IsActive], [IsDeleted], [PlanId], [StartDate], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[SubscriptionId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-10 12:05:18.166 +05:30 [INF] Subscription created successfully with SubscriptionId: 3
2025-11-10 12:05:18.169 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:05:22.272 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:05:22.275 +05:30 [INF] Vendor profile created successfully for UserId: 1011, VendorId: 1005
2025-11-10 12:05:22.278 +05:30 [INF] Vendor profile created successfully for UserId: 1011
2025-11-10 12:05:22.280 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.VendorProfileDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:05:22.286 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api) in 4269.0195ms
2025-11-10 12:05:22.288 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:05:22.290 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - 200 null application/json; charset=utf-8 4305.598ms
2025-11-10 12:09:51.439 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 12:09:51.447 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:09:51.455 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 16.5248ms
2025-11-10 12:09:51.498 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 158
2025-11-10 12:09:51.529 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:09:51.531 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:09:51.541 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:09:51.546 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 12:09:51.548 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 12:09:51.559 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:09:51.574 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:09:51.576 +05:30 [INF] OTP generated successfully
2025-11-10 12:09:51.578 +05:30 [INF] OTP JWT token with registration data created for email: sujithkumarsenthilkumar777@gmail.com, type: Registration_2
2025-11-10 12:09:51.582 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:09:55.497 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:09:55.499 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:09:55.503 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:09:55.505 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 12:09:55.508 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 3962.8435ms
2025-11-10 12:09:55.520 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:09:55.523 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 4025.7371ms
2025-11-10 12:10:13.453 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 12:10:13.539 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:10:13.545 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 91.7877ms
2025-11-10 12:10:13.708 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1082
2025-11-10 12:10:13.725 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:10:13.740 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:10:13.756 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:10:13.764 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:10:13.772 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:10:13.777 +05:30 [INF] OTP validation result for email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 12:10:13.781 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:10:13.805 +05:30 [INF] Email exists check result for sujithkumarsenthilkumar777@gmail.com: false
2025-11-10 12:10:13.809 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:10:13.812 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 12:10:13.814 +05:30 [INF] Creating user for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:10:13.838 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 12:10:13.847 +05:30 [INF] User created successfully with UserId: 1012
2025-11-10 12:10:13.856 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:10:13.860 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-10 12:10:13.891 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 128.0595ms
2025-11-10 12:10:13.904 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:10:13.907 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 198.9035ms
2025-11-10 12:10:16.031 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 12:10:16.037 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:10:16.038 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:10:16.041 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:10:16.054 +05:30 [INF] Getting subscription plans started
2025-11-10 12:10:16.056 +05:30 [INF] Getting subscription plans started
2025-11-10 12:10:16.059 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 12:10:16.105 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 12:10:16.107 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:10:16.109 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:10:16.168 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:10:16.172 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 117.9479ms
2025-11-10 12:10:16.175 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 12:10:16.202 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:10:16.208 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:10:16.188 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:10:16.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 218.1042ms
2025-11-10 12:10:16.227 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:10:16.285 +05:30 [INF] Getting subscription plans started
2025-11-10 12:10:16.287 +05:30 [INF] Getting subscription plans started
2025-11-10 12:10:16.305 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 12:10:16.323 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 12:10:16.326 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:10:16.332 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:10:16.337 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:10:16.359 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 74.1632ms
2025-11-10 12:10:16.392 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:10:16.409 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 233.6011ms
2025-11-10 12:11:07.923 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - null null
2025-11-10 12:11:07.937 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:11:07.958 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - 204 null null 35.5971ms
2025-11-10 12:11:07.979 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - application/json 242
2025-11-10 12:11:07.988 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:11:08.037 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:11:08.041 +05:30 [INF] Route matched with {action = "CreateVendorProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVendorProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileCreateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:11:08.088 +05:30 [INF] Creating vendor profile for UserId: 1012
2025-11-10 12:11:08.109 +05:30 [INF] Creating vendor profile for UserId: 1012
2025-11-10 12:11:08.173 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__userId_0 AND [u].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:11:08.221 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:11:08.239 +05:30 [INF] Creating vendor profile for UserId: 1012
2025-11-10 12:11:08.256 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 50), @p2='?' (Size = 150), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (Size = 10), @p15='?' (Size = 500), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 50), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vendors] ([BusinessAddress], [BusinessLicenseNumber], [BusinessName], [City], [CreatedBy], [CreatedOn], [CurrentPlan], [DeletedBy], [DeletedOn], [DocumentPath], [DocumentStatus], [IsActive], [IsDeleted], [OwnerName], [PinCode], [RejectionReason], [State], [Status], [TaxRegistrationNumber], [TenantId], [UpdatedBy], [UpdatedOn], [UserId], [VerifiedBy], [VerifiedOn])
OUTPUT INSERTED.[VendorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2025-11-10 12:11:08.273 +05:30 [INF] Vendor profile created with VendorId: 1006
2025-11-10 12:11:08.275 +05:30 [INF] Creating subscription for VendorId: 1006, PlanId: 1
2025-11-10 12:11:08.321 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Date), @p9='?' (Size = 100), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subscriptions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [EndDate], [IsActive], [IsDeleted], [PlanId], [StartDate], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[SubscriptionId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-10 12:11:08.326 +05:30 [INF] Subscription created successfully with SubscriptionId: 4
2025-11-10 12:11:08.335 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:11:11.516 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:11:11.526 +05:30 [INF] Vendor profile created successfully for UserId: 1012, VendorId: 1006
2025-11-10 12:11:11.532 +05:30 [INF] Vendor profile created successfully for UserId: 1012
2025-11-10 12:11:11.538 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.VendorProfileDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:11:11.549 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api) in 3462.3891ms
2025-11-10 12:11:11.552 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:11:11.561 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - 200 null application/json; charset=utf-8 3581.3153ms
2025-11-10 12:13:20.677 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 12:13:20.691 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:13:20.694 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 17.3488ms
2025-11-10 12:13:20.730 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 158
2025-11-10 12:13:20.772 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:13:20.774 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:13:20.777 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:13:20.791 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 12:13:20.794 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 12:13:20.798 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:20.813 +05:30 [WRN] No user found for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:20.822 +05:30 [INF] OTP generated successfully
2025-11-10 12:13:20.824 +05:30 [INF] OTP JWT token with registration data created for email: sujithkumarsenthilkumar777@gmail.com, type: Registration_2
2025-11-10 12:13:20.826 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:24.037 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:24.041 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:24.047 +05:30 [INF] OTP sent successfully to Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:24.050 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 12:13:24.054 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 3263.3726ms
2025-11-10 12:13:24.058 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:13:24.064 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 3333.7433ms
2025-11-10 12:13:37.684 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 12:13:37.752 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:13:37.848 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 164.223ms
2025-11-10 12:13:37.948 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1082
2025-11-10 12:13:38.002 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:13:38.013 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:13:38.016 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:13:38.032 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:38.035 +05:30 [INF] OTP validation started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:38.048 +05:30 [INF] OTP validation result for email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 12:13:38.064 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:38.079 +05:30 [INF] Email exists check result for sujithkumarsenthilkumar777@gmail.com: false
2025-11-10 12:13:38.083 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:38.087 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 12:13:38.096 +05:30 [INF] Creating user for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:38.144 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 12:13:38.163 +05:30 [INF] User created successfully with UserId: 1013
2025-11-10 12:13:38.168 +05:30 [INF] OTP validation successful for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:13:38.174 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-10 12:13:38.184 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 152.8239ms
2025-11-10 12:13:38.211 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 12:13:38.236 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 287.2777ms
2025-11-10 12:13:40.389 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 12:13:40.410 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:13:40.424 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:13:40.429 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:13:40.514 +05:30 [INF] Getting subscription plans started
2025-11-10 12:13:40.532 +05:30 [INF] Getting subscription plans started
2025-11-10 12:13:40.554 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 12:13:40.625 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 12:13:40.628 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:13:40.630 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:13:40.647 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:13:40.673 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 159.2696ms
2025-11-10 12:13:40.680 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - null null
2025-11-10 12:13:40.699 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:13:40.726 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:13:40.729 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 339.6282ms
2025-11-10 12:13:40.791 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:13:40.806 +05:30 [INF] Route matched with {action = "GetSubscriptionPlans", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetSubscriptionPlans() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:13:40.859 +05:30 [INF] Getting subscription plans started
2025-11-10 12:13:40.860 +05:30 [INF] Getting subscription plans started
2025-11-10 12:13:40.863 +05:30 [INF] Executing stored procedure sp_GetSubscriptionPlans
2025-11-10 12:13:40.899 +05:30 [INF] Retrieved 2 subscription plans from database
2025-11-10 12:13:40.913 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:13:40.916 +05:30 [INF] Subscription plans retrieved successfully. Found 2 plans
2025-11-10 12:13:40.929 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.SubscriptionPlanDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:13:40.932 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api) in 73.1998ms
2025-11-10 12:13:40.954 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetSubscriptionPlans (Kanini.Ecommerce.Api)'
2025-11-10 12:13:40.959 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/subscription-plans - 200 null application/json; charset=utf-8 279.2769ms
2025-11-10 12:14:17.750 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - null null
2025-11-10 12:14:17.766 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:14:17.768 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/create-profile - 204 null null 17.5285ms
2025-11-10 12:14:17.834 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - application/json 243
2025-11-10 12:14:18.121 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:14:18.123 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:14:18.130 +05:30 [INF] Route matched with {action = "CreateVendorProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateVendorProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileCreateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:14:18.138 +05:30 [INF] Creating vendor profile for UserId: 1013
2025-11-10 12:14:18.172 +05:30 [INF] Creating vendor profile for UserId: 1013
2025-11-10 12:14:18.186 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__userId_0 AND [u].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:14:18.206 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:14:18.221 +05:30 [INF] Creating vendor profile for UserId: 1013
2025-11-10 12:14:18.233 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 50), @p2='?' (Size = 150), @p3='?' (Size = 100), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (DbType = Int32), @p7='?' (Size = 100), @p8='?' (DbType = DateTime2), @p9='?' (Size = 500), @p10='?' (DbType = Int32), @p11='?' (DbType = Boolean), @p12='?' (DbType = Boolean), @p13='?' (Size = 100), @p14='?' (Size = 10), @p15='?' (Size = 500), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Size = 50), @p19='?' (Size = 100), @p20='?' (Size = 100), @p21='?' (DbType = DateTime2), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Vendors] ([BusinessAddress], [BusinessLicenseNumber], [BusinessName], [City], [CreatedBy], [CreatedOn], [CurrentPlan], [DeletedBy], [DeletedOn], [DocumentPath], [DocumentStatus], [IsActive], [IsDeleted], [OwnerName], [PinCode], [RejectionReason], [State], [Status], [TaxRegistrationNumber], [TenantId], [UpdatedBy], [UpdatedOn], [UserId], [VerifiedBy], [VerifiedOn])
OUTPUT INSERTED.[VendorId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24);
2025-11-10 12:14:18.248 +05:30 [INF] Vendor profile created with VendorId: 1007
2025-11-10 12:14:18.249 +05:30 [INF] Creating subscription for VendorId: 1007, PlanId: 1
2025-11-10 12:14:18.270 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = Date), @p9='?' (Size = 100), @p10='?' (Size = 100), @p11='?' (DbType = DateTime2), @p12='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Subscriptions] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [EndDate], [IsActive], [IsDeleted], [PlanId], [StartDate], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[SubscriptionId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12);
2025-11-10 12:14:18.283 +05:30 [INF] Subscription created successfully with SubscriptionId: 5
2025-11-10 12:14:18.285 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:14:21.263 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:14:21.266 +05:30 [INF] Vendor profile created successfully for UserId: 1013, VendorId: 1007
2025-11-10 12:14:21.270 +05:30 [INF] Vendor profile created successfully for UserId: 1013
2025-11-10 12:14:21.273 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType7`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.VendorProfileDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:14:21.277 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api) in 3139.7649ms
2025-11-10 12:14:21.280 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.CreateVendorProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:14:21.284 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/vendor/create-profile - 200 null application/json; charset=utf-8 3449.9246ms
2025-11-10 12:14:21.375 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/vendor/1007/upload-document - multipart/form-data; boundary=----WebKitFormBoundaryExb1fWBd79IkgmVY 350108
2025-11-10 12:14:21.393 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:14:21.394 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-10 12:14:21.512 +05:30 [INF] Route matched with {action = "UploadDocument", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadDocument(Int32, Microsoft.AspNetCore.Http.IFormFile) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:14:21.629 +05:30 [INF] Document upload started for VendorId: 1007
2025-11-10 12:14:21.660 +05:30 [INF] Document upload started for VendorId: 1007
2025-11-10 12:14:21.666 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1007
2025-11-10 12:14:21.746 +05:30 [INF] Vendor found for VendorId: 1007, BusinessName: sam tech
2025-11-10 12:14:21.802 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[VendorId] = @__p_0
2025-11-10 12:14:21.954 +05:30 [INF] Executed DbCommand (140ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [DocumentPath] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [VendorId] = @p3;
2025-11-10 12:14:21.960 +05:30 [INF] Document uploaded for VendorId: 1007
2025-11-10 12:14:21.962 +05:30 [INF] Document uploaded for VendorId: 1007
2025-11-10 12:14:21.966 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType8`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 12:14:21.977 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api) in 461.208ms
2025-11-10 12:14:21.981 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UploadDocument (Kanini.Ecommerce.Api)'
2025-11-10 12:14:22.059 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/vendor/1007/upload-document - 200 null application/json; charset=utf-8 684.0737ms
2025-11-10 12:15:03.613 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/Admin/vendors/approve - application/json 54
2025-11-10 12:15:03.626 +05:30 [INF] CORS policy execution failed.
2025-11-10 12:15:03.707 +05:30 [INF] Request origin http://localhost:5108 does not have permission to access the resource.
2025-11-10 12:15:03.711 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AdminController.ApproveVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:15:03.714 +05:30 [INF] Route matched with {action = "ApproveVendor", controller = "Admin"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ApproveVendor(Kanini.Ecommerce.Application.DTOs.VendorApprovalRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AdminController (Kanini.Ecommerce.Api).
2025-11-10 12:15:03.730 +05:30 [INF] Vendor approval started for VendorId: 1007
2025-11-10 12:15:03.732 +05:30 [INF] Vendor approval started for VendorId: 1007
2025-11-10 12:15:03.740 +05:30 [INF] Getting vendor for approval: 1007
2025-11-10 12:15:03.758 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[VendorId] = @__vendorId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:15:03.775 +05:30 [INF] Vendor approval started for VendorId: 1007
2025-11-10 12:15:03.781 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[VendorId] = @__vendorId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:15:03.821 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@p7='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [DocumentStatus] = @p0, [IsActive] = @p1, [Status] = @p2, [UpdatedBy] = @p3, [UpdatedOn] = @p4, [VerifiedBy] = @p5, [VerifiedOn] = @p6
OUTPUT 1
WHERE [VendorId] = @p7;
2025-11-10 12:15:03.829 +05:30 [INF] Vendor approved successfully for VendorId: 1007
2025-11-10 12:15:03.830 +05:30 [INF] Email sending started to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:15:06.865 +05:30 [INF] Email sent successfully to: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:15:06.872 +05:30 [INF] Vendor approved successfully for VendorId: 1007
2025-11-10 12:15:06.878 +05:30 [INF] Vendor approved successfully for VendorId: 1007
2025-11-10 12:15:06.889 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 12:15:06.905 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AdminController.ApproveVendor (Kanini.Ecommerce.Api) in 3177.1287ms
2025-11-10 12:15:06.909 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AdminController.ApproveVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:15:06.914 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/Admin/vendors/approve - 200 null application/json; charset=utf-8 3301.3299ms
2025-11-10 12:15:29.816 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 12:15:29.830 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:15:29.832 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 15.9618ms
2025-11-10 12:15:29.903 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 12:15:29.941 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:15:29.989 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:15:30.003 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:15:30.201 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:15:30.205 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:15:30.214 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:15:30.266 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 12:15:30.281 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:15:30.290 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:15:30.351 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 12:15:30.356 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 12:15:30.370 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedBy] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 12:15:30.380 +05:30 [INF] Creating refresh token for UserId: 1013
2025-11-10 12:15:30.389 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 12:15:30.402 +05:30 [INF] Refresh token created successfully with Id: 24
2025-11-10 12:15:30.437 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 12:15:30.448 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 12:15:30.449 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 12:15:30.451 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 12:15:30.454 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 254.0138ms
2025-11-10 12:15:30.472 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:15:30.538 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 634.9275ms
2025-11-10 12:15:32.811 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:15:32.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:15:32.882 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:15:32.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 117.163ms
2025-11-10 12:15:32.969 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:15:32.985 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:15:32.917 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:15:33.051 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:15:33.051 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 237.3357ms
2025-11-10 12:15:33.069 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:15:33.146 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:15:33.425 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:15:33.431 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 314.9511ms
2025-11-10 12:15:33.434 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:15:33.435 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:15:33.471 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 501.4038ms
2025-11-10 12:15:33.451 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:15:33.627 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:15:33.685 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:15:33.725 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:15:33.796 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:15:33.799 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 87.6344ms
2025-11-10 12:15:33.815 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:15:33.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 384.2698ms
2025-11-10 12:17:31.967 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/documents/1007_20251110064421_Final_DB_Diagram (1).pdf - null null
2025-11-10 12:17:32.157 +05:30 [INF] Sending file. Request path: '/documents/1007_20251110064421_Final_DB_Diagram (1).pdf'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\documents\1007_20251110064421_Final_DB_Diagram (1).pdf'
2025-11-10 12:17:32.161 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/documents/1007_20251110064421_Final_DB_Diagram (1).pdf - 200 349901 application/pdf 194.2703ms
2025-11-10 12:17:32.341 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/favicon.ico - null null
2025-11-10 12:17:32.355 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/favicon.ico - 404 0 null 14.4735ms
2025-11-10 12:17:32.368 +05:30 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5108/favicon.ico, Response status code: 404
2025-11-10 12:17:48.910 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:17:48.967 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:17:48.983 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 72.2526ms
2025-11-10 12:17:49.051 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - application/json 209
2025-11-10 12:17:49.165 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:17:49.168 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:17:49.200 +05:30 [INF] Route matched with {action = "UpdateMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMyProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileCreateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:17:49.245 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 12:17:49.293 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api) in 81.443ms
2025-11-10 12:17:49.296 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:17:49.298 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - 400 null application/problem+json; charset=utf-8 247.4607ms
2025-11-10 12:43:08.362 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 12:43:08.368 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:08.373 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 10.2618ms
2025-11-10 12:43:08.402 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 12:43:08.432 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:08.437 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:43:08.443 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:43:08.699 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:43:08.708 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:43:08.756 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:43:09.357 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 12:43:09.440 +05:30 [INF] Executed DbCommand (77ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:43:09.488 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 12:43:09.546 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 12:43:09.560 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 12:43:09.738 +05:30 [INF] Executed DbCommand (173ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 12:43:09.745 +05:30 [INF] Creating refresh token for UserId: 1013
2025-11-10 12:43:09.905 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 12:43:09.911 +05:30 [INF] Refresh token created successfully with Id: 25
2025-11-10 12:43:09.964 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 12:43:09.976 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 12:43:09.978 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 12:43:09.981 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 12:43:09.988 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 1290.5352ms
2025-11-10 12:43:09.997 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:43:09.999 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 1596.9198ms
2025-11-10 12:43:12.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:43:12.473 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:43:12.493 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:12.479 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:12.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 33.7529ms
2025-11-10 12:43:12.495 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 21.8237ms
2025-11-10 12:43:12.542 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:43:12.594 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:12.601 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:43:12.603 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:43:12.616 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:43:12.715 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:43:12.725 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 118.8026ms
2025-11-10 12:43:12.736 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:43:12.741 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 199.2283ms
2025-11-10 12:43:12.747 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:43:12.762 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:12.819 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:43:12.875 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:43:12.941 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:43:13.108 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:43:13.121 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 196.8531ms
2025-11-10 12:43:13.210 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:43:13.233 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 485.445ms
2025-11-10 12:43:20.506 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:43:20.522 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:20.615 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 110.139ms
2025-11-10 12:43:20.888 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - application/json 208
2025-11-10 12:43:20.895 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:43:20.899 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:43:20.944 +05:30 [INF] Route matched with {action = "UpdateMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMyProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileCreateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:43:20.957 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-10 12:43:20.960 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api) in 3.9025ms
2025-11-10 12:43:21.108 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:43:21.110 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - 400 null application/problem+json; charset=utf-8 222.4944ms
2025-11-10 12:45:22.897 +05:30 [INF] Application is shutting down...
2025-11-10 12:46:30.005 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 12:46:30.260 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 12:46:30.266 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 12:46:30.269 +05:30 [INF] Hosting environment: Development
2025-11-10 12:46:30.271 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 12:46:38.810 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:46:38.960 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 12:46:38.964 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:46:39.009 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 185.8493ms
2025-11-10 12:46:39.141 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - application/json 208
2025-11-10 12:46:39.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:46:39.504 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:46:39.562 +05:30 [INF] Route matched with {action = "UpdateMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMyProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileUpdateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:46:42.834 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 12:46:45.584 +05:30 [INF] Executed DbCommand (273ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:46:46.048 +05:30 [INF] Vendor profile update started for VendorId: 1007
2025-11-10 12:46:46.056 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1007
2025-11-10 12:46:46.195 +05:30 [INF] Vendor found for VendorId: 1007, BusinessName: sam tech
2025-11-10 12:46:46.913 +05:30 [INF] Executed DbCommand (392ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [DocumentPath] = @p0, [DocumentStatus] = @p1, [UpdatedBy] = @p2, [UpdatedOn] = @p3
OUTPUT 1
WHERE [VendorId] = @p4;
2025-11-10 12:46:47.106 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'DocumentPath', table 'Vendor_Ecommerce.dbo.Vendors'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57417b7a-e807-443b-a0f0-c6897978956f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'DocumentPath', table 'Vendor_Ecommerce.dbo.Vendors'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57417b7a-e807-443b-a0f0-c6897978956f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 12:46:47.212 +05:30 [ERR] Database error in UpdateVendorAsync
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'DocumentPath', table 'Vendor_Ecommerce.dbo.Vendors'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:57417b7a-e807-443b-a0f0-c6897978956f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Vendor.VendorRepository.UpdateVendorAsync(Vendor vendor) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Vendor\VendorRepository.cs:line 260
2025-11-10 12:46:47.602 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 12:46:47.696 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api) in 8106.9958ms
2025-11-10 12:46:47.750 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:46:47.900 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - 400 null application/json; charset=utf-8 8758.9246ms
2025-11-10 12:48:12.986 +05:30 [INF] Application is shutting down...
2025-11-10 12:50:23.279 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 12:50:23.498 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 12:50:23.502 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 12:50:23.504 +05:30 [INF] Hosting environment: Development
2025-11-10 12:50:23.506 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 12:50:42.303 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:50:42.303 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:50:42.745 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 12:50:42.751 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:50:42.751 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:50:42.764 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 464.8701ms
2025-11-10 12:50:42.764 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 464.8694ms
2025-11-10 12:50:42.925 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:50:42.982 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:50:43.246 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:50:43.285 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:50:44.875 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 12:50:46.618 +05:30 [INF] Executed DbCommand (228ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:50:47.029 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:50:47.082 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:50:47.097 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 3792.8823ms
2025-11-10 12:50:47.100 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:50:47.104 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:50:47.184 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:50:47.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 4324.1218ms
2025-11-10 12:50:47.282 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:50:47.509 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:50:47.624 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:50:47.628 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 226.8584ms
2025-11-10 12:50:47.632 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:50:47.636 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 553.9286ms
2025-11-10 12:50:56.118 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:50:56.131 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:50:56.133 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 14.831ms
2025-11-10 12:50:56.262 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - application/json 209
2025-11-10 12:50:56.271 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:50:56.319 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:50:56.382 +05:30 [INF] Route matched with {action = "UpdateMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMyProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileUpdateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:50:56.601 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:50:56.628 +05:30 [INF] Vendor profile update started for VendorId: 1007
2025-11-10 12:50:56.633 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1007
2025-11-10 12:50:56.703 +05:30 [INF] Vendor found for VendorId: 1007, BusinessName: sam tech
2025-11-10 12:50:56.952 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Size = 500), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [DocumentPath] = @p0, [DocumentStatus] = @p1, [UpdatedBy] = @p2, [UpdatedOn] = @p3
OUTPUT 1
WHERE [VendorId] = @p4;
2025-11-10 12:50:57.014 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'DocumentPath', table 'Vendor_Ecommerce.dbo.Vendors'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5ee2f200-432e-4bd7-a70d-ebb6d84f402f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'DocumentPath', table 'Vendor_Ecommerce.dbo.Vendors'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5ee2f200-432e-4bd7-a70d-ebb6d84f402f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 12:50:57.100 +05:30 [ERR] Database error in UpdateVendorAsync
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'DocumentPath', table 'Vendor_Ecommerce.dbo.Vendors'; column does not allow nulls. UPDATE fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetWithRowsAffectedOnlyAsync(Int32 commandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:5ee2f200-432e-4bd7-a70d-ebb6d84f402f
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Vendor.VendorRepository.UpdateVendorAsync(Vendor vendor) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Vendor\VendorRepository.cs:line 260
2025-11-10 12:50:57.198 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 12:50:57.231 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api) in 844.5122ms
2025-11-10 12:50:57.235 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:50:57.246 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - 400 null application/json; charset=utf-8 983.8915ms
2025-11-10 12:52:19.268 +05:30 [INF] Application is shutting down...
2025-11-10 12:52:34.346 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 12:52:34.618 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 12:52:34.625 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 12:52:34.628 +05:30 [INF] Hosting environment: Development
2025-11-10 12:52:34.633 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 12:52:44.746 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:52:44.891 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 12:52:44.895 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:52:44.913 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 164.3327ms
2025-11-10 12:52:45.045 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - application/json 209
2025-11-10 12:52:45.061 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:52:45.227 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:52:45.258 +05:30 [INF] Route matched with {action = "UpdateMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateMyProfile(Kanini.Ecommerce.Application.DTOs.VendorProfileUpdateDto) on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:52:46.786 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 12:52:48.329 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:52:48.663 +05:30 [INF] Vendor profile update started for VendorId: 1007
2025-11-10 12:52:48.668 +05:30 [INF] Executing stored procedure sp_GetVendorById for VendorId: 1007
2025-11-10 12:52:48.689 +05:30 [INF] Vendor found for VendorId: 1007, BusinessName: sam tech
2025-11-10 12:52:49.143 +05:30 [INF] Executed DbCommand (207ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Vendors] SET [OwnerName] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [VendorId] = @p3;
2025-11-10 12:52:49.172 +05:30 [INF] Vendor profile updated for VendorId: 1007
2025-11-10 12:52:49.187 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:52:49.232 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api) in 3951.8057ms
2025-11-10 12:52:49.306 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.UpdateMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:52:49.447 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 4401.679ms
2025-11-10 12:53:08.171 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:53:08.171 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:53:08.184 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:08.187 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:08.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 18.8674ms
2025-11-10 12:53:08.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 20.5216ms
2025-11-10 12:53:08.200 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:53:08.226 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:08.240 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:53:08.287 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:53:08.389 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:53:08.400 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:53:08.404 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 97.5105ms
2025-11-10 12:53:08.406 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 12:53:08.413 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:53:08.420 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:08.422 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 221.8299ms
2025-11-10 12:53:08.437 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:53:08.454 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 12:53:08.658 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:53:08.672 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 12:53:08.683 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 210.9589ms
2025-11-10 12:53:08.703 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 12:53:08.707 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 301.4908ms
2025-11-10 12:53:36.413 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:36.414 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 12:53:36.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:36.420 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 12:53:36.427 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:36.437 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:36.445 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:36.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 60.5012ms
2025-11-10 12:53:36.476 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 63.4588ms
2025-11-10 12:53:36.478 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 63.8595ms
2025-11-10 12:53:36.475 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:36.514 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:36.527 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 106.521ms
2025-11-10 12:53:36.544 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:36.558 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:36.574 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 12:53:36.594 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 12:53:36.607 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:36.610 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:36.613 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:36.627 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 12:53:36.639 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:36.668 +05:30 [INF] Getting all categories
2025-11-10 12:53:36.675 +05:30 [INF] Getting all categories started
2025-11-10 12:53:36.678 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:53:36.680 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 12:53:36.693 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 12:53:36.697 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 12:53:37.168 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:37.188 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 12:53:37.192 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:37.194 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:37.227 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 596.6571ms
2025-11-10 12:53:37.236 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:37.241 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 646.7731ms
2025-11-10 12:53:37.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 12:53:37.290 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:37.294 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:37.306 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:37.309 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 12:53:37.321 +05:30 [INF] Getting all categories
2025-11-10 12:53:37.323 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:37.323 +05:30 [INF] Getting all categories started
2025-11-10 12:53:37.329 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 12:53:37.336 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 12:53:37.339 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:37.344 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:37.355 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 12:53:37.358 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:37.362 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:37.375 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 56.3679ms
2025-11-10 12:53:37.389 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 811.3984ms
2025-11-10 12:53:37.391 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:37.391 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:37.417 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:37.406 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 127.0154ms
2025-11-10 12:53:37.394 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:37.423 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:37.442 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 12:53:37.437 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 924.5067ms
2025-11-10 12:53:37.459 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:37.493 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:37.506 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:53:37.515 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 12:53:37.521 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 12:53:37.580 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:37.585 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:37.588 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 12:53:37.591 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:37.593 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 137.48ms
2025-11-10 12:53:37.599 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:37.604 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 213.1155ms
2025-11-10 12:53:57.889 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:57.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 12:53:57.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:57.903 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 12:53:57.915 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:57.958 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.041 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.142 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.178 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 274.4461ms
2025-11-10 12:53:58.153 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 249.7863ms
2025-11-10 12:53:58.158 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 254.0837ms
2025-11-10 12:53:58.143 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 254.3687ms
2025-11-10 12:53:58.303 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 12:53:58.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:58.342 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.355 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.357 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.358 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.360 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 12:53:58.362 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 12:53:58.377 +05:30 [INF] Getting all categories
2025-11-10 12:53:58.382 +05:30 [INF] Getting all categories started
2025-11-10 12:53:58.387 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 12:53:58.386 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:58.393 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:58.419 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:53:58.426 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 12:53:58.429 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 12:53:58.439 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:58.441 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 12:53:58.445 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:58.452 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:58.456 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 82.3436ms
2025-11-10 12:53:58.459 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 12:53:58.477 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.483 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.524 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 12:53:58.470 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.528 +05:30 [INF] Getting all categories
2025-11-10 12:53:58.541 +05:30 [INF] Getting all categories started
2025-11-10 12:53:58.545 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 12:53:58.539 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 236.2095ms
2025-11-10 12:53:58.559 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:58.576 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 12:53:58.579 +05:30 [INF] Retrieved 2 categories
2025-11-10 12:53:58.606 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:58.606 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:58.622 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:58.609 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 81.1912ms
2025-11-10 12:53:58.628 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 12:53:58.639 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.641 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:58.723 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 344.8629ms
2025-11-10 12:53:58.658 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 199.3897ms
2025-11-10 12:53:58.772 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 12:53:58.782 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:53:58.793 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.804 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 12:53:58.740 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:58.811 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:58.823 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 487.0314ms
2025-11-10 12:53:58.953 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 12:53:59.070 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 12:53:59.241 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 12:53:59.246 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 12:53:59.251 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:59.255 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 12:53:59.260 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 12:53:59.272 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 12:53:59.276 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 465.7067ms
2025-11-10 12:53:59.291 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 12:53:59.382 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 609.6239ms
2025-11-10 12:54:37.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 12:54:37.129 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:54:37.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 34.7915ms
2025-11-10 12:54:37.217 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 58
2025-11-10 12:54:37.410 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:54:37.412 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:54:37.441 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:54:38.092 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 12:54:38.228 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 12:54:38.309 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 12:54:38.424 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-10 12:54:38.432 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 12:54:38.586 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - false
2025-11-10 12:54:38.613 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 12:54:38.777 +05:30 [INF] Executed DbCommand (151ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 12:54:38.790 +05:30 [WRN] Login failed: Invalid credentials
2025-11-10 12:54:38.794 +05:30 [ERR] Login failed: Invalid email or password
2025-11-10 12:54:38.797 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 12:54:38.830 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 1381.4851ms
2025-11-10 12:54:38.857 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:54:38.859 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 1642.2829ms
2025-11-10 12:56:01.374 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 12:56:01.389 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:56:01.391 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 16.5012ms
2025-11-10 12:56:01.448 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 58
2025-11-10 12:56:01.460 +05:30 [INF] CORS policy execution successful.
2025-11-10 12:56:01.462 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:56:01.468 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 12:56:01.592 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 12:56:01.594 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 12:56:01.596 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 12:56:01.762 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-10 12:56:01.765 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 12:56:01.827 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 12:56:01.843 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 12:56:01.939 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 12:56:02.007 +05:30 [INF] Creating refresh token for UserId: 1002
2025-11-10 12:56:02.323 +05:30 [INF] Executed DbCommand (65ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 12:56:02.377 +05:30 [INF] Refresh token created successfully with Id: 26
2025-11-10 12:56:02.396 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 12:56:02.419 +05:30 [INF] Login successful for UserId: 1002
2025-11-10 12:56:02.425 +05:30 [INF] Login successful for UserId: 1002
2025-11-10 12:56:02.429 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 12:56:02.445 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 914.9161ms
2025-11-10 12:56:02.511 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 12:56:02.539 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 1090.4905ms
2025-11-10 13:01:35.522 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 13:01:35.535 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:35.538 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 16.7976ms
2025-11-10 13:01:35.605 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 70
2025-11-10 13:01:35.622 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:35.627 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:01:35.630 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:01:35.699 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:35.703 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:35.705 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:35.900 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 13:01:35.977 +05:30 [INF] Executed DbCommand (70ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:01:35.990 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:36.049 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - false
2025-11-10 13:01:36.059 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 13:01:36.144 +05:30 [INF] Executed DbCommand (73ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 13:01:36.152 +05:30 [WRN] Login failed: Invalid credentials
2025-11-10 13:01:36.154 +05:30 [ERR] Login failed: Invalid email or password
2025-11-10 13:01:36.156 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 13:01:36.159 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 487.5212ms
2025-11-10 13:01:36.168 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:01:36.173 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 568.0909ms
2025-11-10 13:01:46.580 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 13:01:46.591 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:46.601 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 21.2015ms
2025-11-10 13:01:46.669 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 13:01:46.678 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:46.692 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:01:46.713 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:01:46.755 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:46.773 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:46.775 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:46.788 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 13:01:46.793 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:01:46.807 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:01:46.812 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 13:01:46.826 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 13:01:46.841 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 13:01:46.855 +05:30 [INF] Creating refresh token for UserId: 1013
2025-11-10 13:01:46.935 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 13:01:46.942 +05:30 [INF] Refresh token created successfully with Id: 27
2025-11-10 13:01:46.951 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 13:01:46.958 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 13:01:46.961 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 13:01:46.971 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 13:01:46.985 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 230.9091ms
2025-11-10 13:01:46.990 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:01:46.993 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 324.5679ms
2025-11-10 13:01:55.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:01:55.759 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:01:55.773 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:55.779 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:55.781 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 22.7275ms
2025-11-10 13:01:55.847 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 87.7577ms
2025-11-10 13:01:55.881 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:01:55.959 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:55.992 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:01:55.996 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 13:01:56.031 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:01:56.058 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 13:01:56.061 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 53.7584ms
2025-11-10 13:01:56.069 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:01:56.087 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:01:56.078 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:01:56.090 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:01:56.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 213.125ms
2025-11-10 13:01:56.097 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 13:01:56.180 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:01:56.301 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 13:01:56.322 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 162.6011ms
2025-11-10 13:01:56.330 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:01:56.345 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 275.5928ms
2025-11-10 13:02:02.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:02.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:02:02.299 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.178 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:02.280 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.177 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:02:02.301 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 125.0713ms
2025-11-10 13:02:02.396 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:02:02.346 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 169.9794ms
2025-11-10 13:02:02.384 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.321 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.433 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 255.5403ms
2025-11-10 13:02:02.418 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:02.420 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 242.7696ms
2025-11-10 13:02:02.404 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.484 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.551 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:02.553 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:02.564 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:02:02.566 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:02:02.585 +05:30 [INF] Getting all categories
2025-11-10 13:02:02.603 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:02.604 +05:30 [INF] Getting all categories started
2025-11-10 13:02:02.614 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:02.615 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:02:02.620 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:02:02.637 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:02:02.647 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:02:02.732 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:02.735 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:02:02.737 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:02.741 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:02.742 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:02.745 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:02.749 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:02:02.747 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 162.9538ms
2025-11-10 13:02:02.758 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:02.752 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:02.760 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:02:02.777 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:02.794 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:02.760 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 364.7981ms
2025-11-10 13:02:02.766 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 163.4595ms
2025-11-10 13:02:03.047 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:02:03.078 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:03.080 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:03.085 +05:30 [INF] Getting all categories
2025-11-10 13:02:03.095 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:03.109 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:03.099 +05:30 [INF] Getting all categories started
2025-11-10 13:02:03.119 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:02:03.117 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:02:03.097 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 679.0833ms
2025-11-10 13:02:03.182 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:03.201 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:02:03.203 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:03.208 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:03.193 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:03.219 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:03.217 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 132.2732ms
2025-11-10 13:02:03.266 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:03.269 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 508.9577ms
2025-11-10 13:02:03.250 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:02:03.330 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:02:03.333 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:02:03.353 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:03.383 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:03.435 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:02:03.458 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:03.480 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 295.1502ms
2025-11-10 13:02:03.485 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:03.500 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 421.5966ms
2025-11-10 13:02:37.287 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:37.292 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:02:37.328 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:37.328 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:02:37.435 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:37.439 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:37.446 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:37.519 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 190.0781ms
2025-11-10 13:02:37.495 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 207.6902ms
2025-11-10 13:02:37.596 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:37.494 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:37.514 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 222.262ms
2025-11-10 13:02:37.606 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:02:37.653 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 324.496ms
2025-11-10 13:02:37.653 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:37.664 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:37.711 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:37.722 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:37.726 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:02:37.729 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:02:37.745 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:37.763 +05:30 [INF] Getting all categories
2025-11-10 13:02:37.806 +05:30 [INF] Getting all categories started
2025-11-10 13:02:37.809 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:02:37.764 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:37.958 +05:30 [INF] Executed DbCommand (64ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:02:37.964 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:02:37.971 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:02:38.006 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:38.008 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:02:38.010 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:38.012 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:38.017 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 255.133ms
2025-11-10 13:02:38.026 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:02:38.047 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:38.040 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:38.080 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:38.095 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 489.985ms
2025-11-10 13:02:38.125 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:02:38.209 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:38.210 +05:30 [INF] Getting all categories
2025-11-10 13:02:38.221 +05:30 [INF] Getting all categories started
2025-11-10 13:02:38.226 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:02:38.212 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:38.236 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:38.238 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:02:38.243 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:38.240 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:02:38.247 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 502.4712ms
2025-11-10 13:02:38.289 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:02:38.289 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:02:38.295 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:38.341 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:38.406 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:38.389 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 793.4092ms
2025-11-10 13:02:38.348 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:38.423 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:02:38.493 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 283.4628ms
2025-11-10 13:02:38.504 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:38.510 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:02:38.507 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:02:38.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 501.5184ms
2025-11-10 13:02:38.593 +05:30 [INF] Executed DbCommand (59ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:02:38.624 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:02:38.651 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:02:38.674 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:38.745 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:02:38.771 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:02:38.776 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:02:38.783 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 284.3915ms
2025-11-10 13:02:38.807 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:02:38.839 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 550.3599ms
2025-11-10 13:02:41.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:02:41.624 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:02:41.638 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:41.881 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 256.6327ms
2025-11-10 13:02:41.879 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:41.904 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/vendor/my-profile - 204 null null 279.6386ms
2025-11-10 13:02:41.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:02:41.929 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:41.936 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:02:41.972 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 13:02:42.037 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:02:42.072 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 13:02:42.080 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 75.4432ms
2025-11-10 13:02:42.086 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - null null
2025-11-10 13:02:42.097 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:02:42.087 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:02:42.104 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 202.0987ms
2025-11-10 13:02:42.101 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:02:42.189 +05:30 [INF] Route matched with {action = "GetMyProfile", controller = "Vendor"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMyProfile() on controller Kanini.Ecommerce.Api.Controllers.VendorController (Kanini.Ecommerce.Api).
2025-11-10 13:02:42.206 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Vendors] AS [v]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [v].[UserId] = [u0].[UserId]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:02:42.321 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.VendorProfileDto'.
2025-11-10 13:02:42.335 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api) in 131.932ms
2025-11-10 13:02:42.345 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.VendorController.GetMyProfile (Kanini.Ecommerce.Api)'
2025-11-10 13:02:42.351 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/vendor/my-profile - 200 null application/json; charset=utf-8 265.2174ms
2025-11-10 13:03:12.520 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:03:12.520 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:03:12.548 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:12.521 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:03:12.533 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:12.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 85.5065ms
2025-11-10 13:03:12.572 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 52.6465ms
2025-11-10 13:03:12.599 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:12.521 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:03:12.653 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:03:12.683 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:03:12.685 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 164.4884ms
2025-11-10 13:03:12.701 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:12.711 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:12.720 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:12.785 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:03:12.767 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:03:12.755 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 234.2624ms
2025-11-10 13:03:12.793 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:03:12.800 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:03:12.869 +05:30 [INF] Getting all categories
2025-11-10 13:03:12.848 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:03:12.887 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:03:12.873 +05:30 [INF] Getting all categories started
2025-11-10 13:03:12.906 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:03:12.907 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:03:12.923 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:03:12.931 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:03:12.934 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:03:12.961 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:03:12.953 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:03:12.969 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:03:12.965 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:03:12.972 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:03:12.974 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:03:12.983 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:03:12.986 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 117.3728ms
2025-11-10 13:03:13.008 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:03:13.004 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 155.9104ms
2025-11-10 13:03:13.000 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:03:13.052 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:13.024 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:03:13.017 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 363.5911ms
2025-11-10 13:03:13.255 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:03:13.272 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 589.3868ms
2025-11-10 13:03:13.335 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:03:13.339 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:03:13.374 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:03:13.385 +05:30 [INF] Getting all categories
2025-11-10 13:03:13.388 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:03:13.414 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:03:13.407 +05:30 [INF] Getting all categories started
2025-11-10 13:03:13.433 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:03:13.423 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:03:13.440 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:03:13.453 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:03:13.454 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:03:13.469 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:03:13.483 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:03:13.485 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:03:13.487 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:03:13.489 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:03:13.499 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 113.505ms
2025-11-10 13:03:13.501 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:03:13.502 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:03:13.516 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 515.8943ms
2025-11-10 13:03:13.507 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:03:13.586 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:03:13.590 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:03:13.602 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 179.8902ms
2025-11-10 13:03:14.102 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:03:14.112 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 777.3669ms
2025-11-10 13:14:01.745 +05:30 [INF] Application is shutting down...
2025-11-10 13:24:44.007 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 13:24:44.264 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 13:24:44.270 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 13:24:44.272 +05:30 [INF] Hosting environment: Development
2025-11-10 13:24:44.274 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 13:27:36.770 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 13:27:36.879 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 13:27:36.887 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:36.904 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 141.6371ms
2025-11-10 13:27:37.011 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 58
2025-11-10 13:27:37.039 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:37.090 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:27:37.138 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:27:37.390 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 13:27:37.401 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 13:27:37.416 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 13:27:37.929 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-10 13:27:37.952 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 13:27:38.019 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 13:27:39.327 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 13:27:40.439 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 13:27:40.805 +05:30 [INF] Executed DbCommand (99ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 13:27:40.899 +05:30 [INF] Creating refresh token for UserId: 1002
2025-11-10 13:27:41.045 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 13:27:41.084 +05:30 [INF] Refresh token created successfully with Id: 28
2025-11-10 13:27:41.097 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 13:27:41.103 +05:30 [INF] Login successful for UserId: 1002
2025-11-10 13:27:41.105 +05:30 [INF] Login successful for UserId: 1002
2025-11-10 13:27:41.117 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 13:27:41.156 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 4006.123ms
2025-11-10 13:27:41.166 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:27:41.367 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 4356.1686ms
2025-11-10 13:27:41.514 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:27:41.516 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:27:41.516 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:27:41.516 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:27:41.597 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:41.533 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:41.553 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:41.527 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:41.633 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 96.4705ms
2025-11-10 13:27:41.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 122.9044ms
2025-11-10 13:27:41.707 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 189.7278ms
2025-11-10 13:27:41.707 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 136.67ms
2025-11-10 13:27:41.707 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:27:41.771 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:27:41.949 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:41.949 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:42.061 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.061 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.072 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:27:42.072 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:27:42.085 +05:30 [INF] Getting all categories
2025-11-10 13:27:42.097 +05:30 [INF] Getting all categories started
2025-11-10 13:27:42.104 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:27:42.136 +05:30 [INF] Getting all products started
2025-11-10 13:27:42.156 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:27:42.163 +05:30 [INF] Getting all products started
2025-11-10 13:27:42.167 +05:30 [INF] Getting all products started
2025-11-10 13:27:42.193 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:27:42.196 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:27:42.200 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:27:42.247 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 167.774ms
2025-11-10 13:27:42.250 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:27:42.252 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.265 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:42.268 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 560.7608ms
2025-11-10 13:27:42.297 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.401 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:27:42.419 +05:30 [INF] Getting all categories
2025-11-10 13:27:42.422 +05:30 [INF] Getting all categories started
2025-11-10 13:27:42.430 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:27:42.454 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:27:42.464 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:27:42.466 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:27:42.469 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:27:42.479 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 62.9322ms
2025-11-10 13:27:42.485 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.489 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 239.0603ms
2025-11-10 13:27:42.537 +05:30 [INF] Getting all products completed. Found 0 products
2025-11-10 13:27:42.584 +05:30 [INF] Getting all products completed. Found 0 products
2025-11-10 13:27:42.586 +05:30 [INF] Getting all products completed. Found 0 products
2025-11-10 13:27:42.597 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:27:42.638 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 548.2189ms
2025-11-10 13:27:42.647 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:27:42.650 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.654 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:27:42.661 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 890.1792ms
2025-11-10 13:27:42.666 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:27:42.783 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:27:42.821 +05:30 [INF] Getting all products started
2025-11-10 13:27:42.851 +05:30 [INF] Getting all products started
2025-11-10 13:27:42.865 +05:30 [INF] Getting all products started
2025-11-10 13:27:42.911 +05:30 [INF] Getting all products completed. Found 0 products
2025-11-10 13:27:42.961 +05:30 [INF] Getting all products completed. Found 0 products
2025-11-10 13:27:42.967 +05:30 [INF] Getting all products completed. Found 0 products
2025-11-10 13:27:42.973 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:27:43.032 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 215.2287ms
2025-11-10 13:27:43.079 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:27:43.083 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 435.6133ms
2025-11-10 13:30:21.417 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 13:30:21.428 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:21.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 15.0175ms
2025-11-10 13:30:21.444 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 13:30:21.459 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:21.464 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:30:21.477 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:30:21.484 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:30:21.494 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:30:21.496 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:30:21.667 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 13:30:21.778 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:30:21.887 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:30:22.099 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 13:30:22.112 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 13:30:22.242 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 13:30:22.248 +05:30 [INF] Creating refresh token for UserId: 1013
2025-11-10 13:30:22.366 +05:30 [INF] Executed DbCommand (109ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 13:30:22.376 +05:30 [INF] Refresh token created successfully with Id: 29
2025-11-10 13:30:22.396 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 13:30:22.407 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 13:30:22.409 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 13:30:22.413 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 13:30:22.426 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 945.5151ms
2025-11-10 13:30:22.431 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 13:30:22.437 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 993.102ms
2025-11-10 13:30:24.688 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:30:24.690 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:30:24.693 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:30:24.694 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:30:24.704 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.710 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.723 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.728 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.737 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 49.3081ms
2025-11-10 13:30:24.739 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 49.1681ms
2025-11-10 13:30:24.741 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 47.9796ms
2025-11-10 13:30:24.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 48.5636ms
2025-11-10 13:30:24.758 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:30:24.773 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:30:24.806 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.809 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.818 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:30:24.824 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:30:24.827 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:30:24.839 +05:30 [INF] Getting all categories
2025-11-10 13:30:24.841 +05:30 [INF] Getting all categories started
2025-11-10 13:30:24.842 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:30:24.845 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:30:24.858 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:30:24.860 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:30:24.861 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:30:24.868 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:30:24.868 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:30:24.871 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:30:24.875 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 46.6474ms
2025-11-10 13:30:24.877 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:30:24.877 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:30:24.883 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 110.2629ms
2025-11-10 13:30:24.890 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:24.905 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:30:24.907 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:30:24.921 +05:30 [INF] Getting all categories
2025-11-10 13:30:24.922 +05:30 [INF] Getting all categories started
2025-11-10 13:30:24.924 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:30:24.928 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:30:24.938 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:30:24.940 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:30:24.942 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:30:24.945 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 24.9981ms
2025-11-10 13:30:24.954 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:30:24.957 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 79.9637ms
2025-11-10 13:30:25.058 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:30:25.067 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:30:25.071 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:30:25.109 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:30:25.112 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:30:25.118 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:30:25.120 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:30:25.123 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 268.9054ms
2025-11-10 13:30:25.124 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:30:25.126 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:30:25.133 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:30:25.135 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 376.4779ms
2025-11-10 13:30:25.143 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:30:25.155 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:30:25.161 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:30:25.166 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:30:25.171 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:30:25.177 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:30:25.183 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:30:25.186 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:30:25.188 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 0 products
2025-11-10 13:30:25.193 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 0 products
2025-11-10 13:30:25.199 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:30:25.204 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 44.0481ms
2025-11-10 13:30:25.217 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:30:25.219 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 94.8855ms
2025-11-10 13:32:14.117 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:32:14.130 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:14.132 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 15.0011ms
2025-11-10 13:32:14.146 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/product - application/json 216
2025-11-10 13:32:14.154 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:14.166 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.CreateProduct (Kanini.Ecommerce.Api)'
2025-11-10 13:32:14.184 +05:30 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Kanini.Ecommerce.Application.DTOs.ProductCreateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:32:14.254 +05:30 [INF] Product creation started for VendorId: 1013
2025-11-10 13:32:14.264 +05:30 [INF] Product creation started for VendorId: 1013
2025-11-10 13:32:14.511 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:32:14.518 +05:30 [INF] Converted UserId 1013 to VendorId 1007
2025-11-10 13:32:14.717 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[VendorId] = @__vendorId_0 AND [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[IsActive] = CAST(1 AS BIT)
2025-11-10 13:32:14.730 +05:30 [INF] Checking subscription for VendorId: 1007
2025-11-10 13:32:14.898 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SubscriptionId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[EndDate], [s].[IsActive], [s].[IsDeleted], [s].[PlanId], [s].[StartDate], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[VendorId], [s1].[PlanId], [s1].[CreatedBy], [s1].[CreatedOn], [s1].[DeletedBy], [s1].[DeletedOn], [s1].[Description], [s1].[DurationDays], [s1].[IsActive], [s1].[IsDeleted], [s1].[MaxProducts], [s1].[PlanName], [s1].[Price], [s1].[TenantId], [s1].[UpdatedBy], [s1].[UpdatedOn]
FROM [Subscriptions] AS [s]
INNER JOIN (
    SELECT [s0].[PlanId], [s0].[CreatedBy], [s0].[CreatedOn], [s0].[DeletedBy], [s0].[DeletedOn], [s0].[Description], [s0].[DurationDays], [s0].[IsActive], [s0].[IsDeleted], [s0].[MaxProducts], [s0].[PlanName], [s0].[Price], [s0].[TenantId], [s0].[UpdatedBy], [s0].[UpdatedOn]
    FROM [SubscriptionPlans] AS [s0]
    WHERE [s0].[IsDeleted] = CAST(0 AS BIT)
) AS [s1] ON [s].[PlanId] = [s1].[PlanId]
WHERE [s].[IsDeleted] = CAST(0 AS BIT) AND [s].[VendorId] = @__vendorId_0
2025-11-10 13:32:14.986 +05:30 [INF] Found 1 total subscriptions for VendorId: 1007
2025-11-10 13:32:14.991 +05:30 [INF] Found active subscription for VendorId: 1007, PlanName: Basic
2025-11-10 13:32:14.996 +05:30 [INF] Product creation started for VendorId: 1007
2025-11-10 13:32:15.280 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 1000), @p7='?' (Size = 100), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 200), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 100), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Brand], [CategoryId], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [Dimensions], [DiscountPrice], [IsActive], [IsDeleted], [MinStockLevel], [Name], [Price], [SKU], [Status], [StockQuantity], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId], [Weight])
OUTPUT INSERTED.[ProductId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-11-10 13:32:15.311 +05:30 [INF] Product created with ProductId: 3
2025-11-10 13:32:15.323 +05:30 [INF] Product created with ProductId: 3
2025-11-10 13:32:15.327 +05:30 [INF] Product created with ProductId: 3
2025-11-10 13:32:15.383 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 13:32:15.520 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.CreateProduct (Kanini.Ecommerce.Api) in 1321.1052ms
2025-11-10 13:32:15.524 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.CreateProduct (Kanini.Ecommerce.Api)'
2025-11-10 13:32:15.526 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/product - 201 null application/json; charset=utf-8 1380.5219ms
2025-11-10 13:32:35.346 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3/images - null null
2025-11-10 13:32:35.361 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:35.363 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3/images - 204 null null 16.9883ms
2025-11-10 13:32:35.381 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/product/3/images - multipart/form-data; boundary=----WebKitFormBoundaryWYS07I7VbcyvHgaA 1127741
2025-11-10 13:32:35.394 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:35.396 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UploadProductImages (Kanini.Ecommerce.Api)'
2025-11-10 13:32:35.413 +05:30 [INF] Route matched with {action = "UploadProductImages", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadProductImages(Int32, System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:32:35.684 +05:30 [INF] Product image upload started for ProductId: 3. Count: 2
2025-11-10 13:32:35.713 +05:30 [INF] Product image upload started for ProductId: 3. Count: 2
2025-11-10 13:32:35.749 +05:30 [INF] Product image upload started for ProductId: 3. Count: 2
2025-11-10 13:32:36.508 +05:30 [INF] Executed DbCommand (678ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 500), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (Size = 200), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (Size = 500), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Size = 100), @p25='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ProductImages] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, 0),
(@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, 1)) AS i ([AltText], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DisplayOrder], [ImagePath], [IsDeleted], [IsPrimary], [ProductId], [TenantId], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AltText], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DisplayOrder], [ImagePath], [IsDeleted], [IsPrimary], [ProductId], [TenantId], [UpdatedBy], [UpdatedOn])
VALUES (i.[AltText], i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DisplayOrder], i.[ImagePath], i.[IsDeleted], i.[IsPrimary], i.[ProductId], i.[TenantId], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[ImageId], i._Position;
2025-11-10 13:32:36.543 +05:30 [INF] Product image upload completed for ProductId: 3. Count: 2
2025-11-10 13:32:36.548 +05:30 [INF] Product image upload completed for ProductId: 3. Count: 2
2025-11-10 13:32:36.550 +05:30 [INF] Product image upload completed for ProductId: 3. Count: 2
2025-11-10 13:32:36.557 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 13:32:36.574 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UploadProductImages (Kanini.Ecommerce.Api) in 1146.598ms
2025-11-10 13:32:36.578 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UploadProductImages (Kanini.Ecommerce.Api)'
2025-11-10 13:32:36.599 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/product/3/images - 200 null application/json; charset=utf-8 1217.7888ms
2025-11-10 13:32:36.599 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:32:36.613 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:32:36.625 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:36.630 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:36.632 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 32.7857ms
2025-11-10 13:32:36.633 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 20.3154ms
2025-11-10 13:32:36.645 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:32:36.659 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 13:32:36.664 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:36.679 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:36.681 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:32:36.684 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:32:36.692 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:32:36.694 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:32:36.700 +05:30 [INF] Getting all categories
2025-11-10 13:32:36.711 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:32:36.716 +05:30 [INF] Getting all categories started
2025-11-10 13:32:36.724 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 13:32:36.725 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:32:36.746 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 13:32:36.763 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 13:32:36.765 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 13:32:36.794 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:32:36.796 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:32:36.798 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:32:36.805 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:32:36.810 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 110.1728ms
2025-11-10 13:32:36.817 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:32:36.833 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 188.4387ms
2025-11-10 13:32:36.879 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 13:32:36.892 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 13:32:36.899 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 13:32:36.907 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 1 products
2025-11-10 13:32:36.911 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:32:36.944 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 233.1655ms
2025-11-10 13:32:37.253 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 13:32:37.300 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 641.0184ms
2025-11-10 13:32:37.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 13:32:37.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 13:32:37.491 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg'
2025-11-10 13:32:37.494 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'
2025-11-10 13:32:37.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 200 12112 image/jpeg 159.6205ms
2025-11-10 13:32:37.507 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 200 1115297 image/jpeg 164.8696ms
2025-11-10 13:32:43.788 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:32:43.844 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:32:43.845 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:32:43.866 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:32:43.948 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:43.954 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:43.970 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 125.9343ms
2025-11-10 13:32:43.966 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:43.989 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 123.4414ms
2025-11-10 13:32:43.962 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:43.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 179.656ms
2025-11-10 13:32:44.114 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:32:44.238 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 392.5655ms
2025-11-10 13:32:44.315 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:32:44.332 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:44.362 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:44.366 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:32:44.369 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:32:44.371 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:32:44.379 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:32:44.384 +05:30 [INF] Getting all products started
2025-11-10 13:32:44.394 +05:30 [INF] Getting all categories
2025-11-10 13:32:44.396 +05:30 [INF] Getting all products started
2025-11-10 13:32:44.397 +05:30 [INF] Getting all categories started
2025-11-10 13:32:44.399 +05:30 [INF] Getting all products started
2025-11-10 13:32:44.401 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:32:44.432 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:32:44.434 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:32:44.437 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:32:44.444 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:32:44.450 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 55.6241ms
2025-11-10 13:32:44.452 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:32:44.500 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:44.503 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:32:44.465 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:32:44.565 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:32:44.570 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 254.4179ms
2025-11-10 13:32:44.720 +05:30 [INF] Getting all categories
2025-11-10 13:32:44.755 +05:30 [INF] Getting all categories started
2025-11-10 13:32:44.783 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:32:44.882 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:32:44.893 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:32:45.135 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:32:45.208 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:32:45.243 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:32:45.245 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:32:45.254 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:32:45.295 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:32:45.328 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 944.0906ms
2025-11-10 13:32:45.366 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 646.1428ms
2025-11-10 13:32:45.412 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:32:45.578 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:32:45.582 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:32:45.595 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:32:45.598 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1484.4039ms
2025-11-10 13:32:45.612 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 1159.7806ms
2025-11-10 13:32:45.931 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:32:45.975 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:32:45.980 +05:30 [INF] Getting all products started
2025-11-10 13:32:45.989 +05:30 [INF] Getting all products started
2025-11-10 13:32:45.993 +05:30 [INF] Getting all products started
2025-11-10 13:32:46.341 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:32:46.428 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:32:46.430 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:32:46.432 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:32:46.451 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 471.0585ms
2025-11-10 13:32:46.867 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:32:46.918 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1506.0965ms
2025-11-10 13:34:36.947 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:34:36.948 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:34:36.950 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:34:36.950 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:34:36.955 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:36.963 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:36.972 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:36.980 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:36.982 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 34.6294ms
2025-11-10 13:34:36.983 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 35.1387ms
2025-11-10 13:34:36.985 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 35.073ms
2025-11-10 13:34:36.987 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 36.6397ms
2025-11-10 13:34:37.006 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:34:37.012 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:34:37.017 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:37.022 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:37.024 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.025 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.028 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:34:37.031 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:34:37.036 +05:30 [INF] Getting all categories
2025-11-10 13:34:37.040 +05:30 [INF] Getting all products started
2025-11-10 13:34:37.040 +05:30 [INF] Getting all categories started
2025-11-10 13:34:37.045 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:34:37.042 +05:30 [INF] Getting all products started
2025-11-10 13:34:37.048 +05:30 [INF] Getting all products started
2025-11-10 13:34:37.069 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:34:37.070 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:34:37.071 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:34:37.077 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:34:37.075 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:34:37.080 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:34:37.082 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:34:37.085 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 45.3234ms
2025-11-10 13:34:37.086 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:34:37.088 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:34:37.089 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.094 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 58.6761ms
2025-11-10 13:34:37.096 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:34:37.099 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:37.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 88.4494ms
2025-11-10 13:34:37.104 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.111 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:34:37.114 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.122 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 115.7615ms
2025-11-10 13:34:37.131 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.135 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:34:37.184 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:34:37.223 +05:30 [INF] Getting all products started
2025-11-10 13:34:37.231 +05:30 [INF] Getting all categories
2025-11-10 13:34:37.232 +05:30 [INF] Getting all products started
2025-11-10 13:34:37.234 +05:30 [INF] Getting all categories started
2025-11-10 13:34:37.236 +05:30 [INF] Getting all products started
2025-11-10 13:34:37.237 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:34:37.241 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:34:37.245 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:34:37.316 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:34:37.332 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:34:37.334 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:34:37.336 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:34:37.339 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:34:37.341 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:34:37.349 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 126.9796ms
2025-11-10 13:34:37.358 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 127.0404ms
2025-11-10 13:34:37.367 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.382 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:34:37.385 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 296.8858ms
2025-11-10 13:34:37.388 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 291.731ms
2025-11-10 13:36:37.493 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:36:37.507 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 13:36:37.598 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:36:37.598 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 13:36:37.661 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:37.672 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:37.681 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:37.691 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:37.693 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 199.8642ms
2025-11-10 13:36:37.694 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 187.0005ms
2025-11-10 13:36:37.697 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 98.6742ms
2025-11-10 13:36:37.775 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:36:37.699 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 100.3867ms
2025-11-10 13:36:37.793 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:37.818 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:36:37.831 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:36:37.842 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:37.845 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:36:37.851 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:36:37.858 +05:30 [INF] Getting all categories
2025-11-10 13:36:37.860 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:36:37.862 +05:30 [INF] Getting all categories started
2025-11-10 13:36:37.871 +05:30 [INF] Getting all products started
2025-11-10 13:36:37.873 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:36:37.875 +05:30 [INF] Getting all products started
2025-11-10 13:36:37.879 +05:30 [INF] Getting all products started
2025-11-10 13:36:37.907 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:36:37.910 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:36:37.939 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:36:37.942 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:36:37.948 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:36:37.959 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 101.2854ms
2025-11-10 13:36:37.970 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 13:36:38.028 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:38.036 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:36:37.971 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:36:38.048 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:36:38.043 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 13:36:37.974 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:36:38.058 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:36:38.074 +05:30 [INF] Getting all categories
2025-11-10 13:36:38.077 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 301.6809ms
2025-11-10 13:36:38.096 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 225.0434ms
2025-11-10 13:36:38.145 +05:30 [INF] Getting all categories started
2025-11-10 13:36:38.209 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 13:36:38.180 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:36:38.159 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 13:36:38.238 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 420.2143ms
2025-11-10 13:36:38.244 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:36:38.252 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:36:38.256 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:36:38.258 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 13:36:38.264 +05:30 [INF] Retrieved 2 categories
2025-11-10 13:36:38.267 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:36:38.259 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 13:36:38.271 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 197.0936ms
2025-11-10 13:36:38.278 +05:30 [INF] Getting all products started
2025-11-10 13:36:38.303 +05:30 [INF] Getting all products started
2025-11-10 13:36:38.300 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 13:36:38.305 +05:30 [INF] Getting all products started
2025-11-10 13:36:38.308 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 337.9541ms
2025-11-10 13:36:38.872 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:36:38.875 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:36:38.877 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 13:36:38.880 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 13:36:38.887 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 609.3084ms
2025-11-10 13:36:38.896 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 13:36:38.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 745.3722ms
2025-11-10 13:40:00.373 +05:30 [INF] Application is shutting down...
2025-11-10 13:40:45.845 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 13:40:46.100 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 13:40:46.109 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 13:40:46.112 +05:30 [INF] Hosting environment: Development
2025-11-10 13:40:46.114 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 13:49:01.195 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 13:49:01.314 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 13:49:01.318 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:49:01.385 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 194.2746ms
2025-11-10 13:49:01.701 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 157
2025-11-10 13:49:01.738 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:49:01.861 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:49:01.915 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:49:02.510 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 13:49:02.516 +05:30 [INF] OTP generation started for Email: sujithkumarsenthilkumar777@gmail.com, Type: Registration
2025-11-10 13:49:02.536 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:49:03.377 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 13:49:03.397 +05:30 [WRN] Registration OTP failed: Email already exists - sujithkumarsenthilkumar777@gmail.com
2025-11-10 13:49:03.401 +05:30 [ERR] Registration OTP failed: Email already exists
2025-11-10 13:49:03.434 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 13:49:03.484 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 1555.0311ms
2025-11-10 13:49:03.491 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:49:03.562 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 400 null application/json; charset=utf-8 1861.2439ms
2025-11-10 13:51:05.684 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 13:51:05.701 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:51:05.723 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 38.9935ms
2025-11-10 13:51:05.736 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 141
2025-11-10 13:51:05.742 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:51:05.748 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:51:05.754 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:51:05.841 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-10 13:51:05.850 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-10 13:51:05.875 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 13:51:05.906 +05:30 [WRN] No user found for Email: skempire69@gmail.com
2025-11-10 13:51:05.919 +05:30 [INF] OTP generated successfully
2025-11-10 13:51:05.999 +05:30 [INF] OTP JWT token with registration data created for email: skempire69@gmail.com, type: Registration_2
2025-11-10 13:51:06.020 +05:30 [INF] Email sending started to: skempire69@gmail.com
2025-11-10 13:51:10.642 +05:30 [INF] Email sent successfully to: skempire69@gmail.com
2025-11-10 13:51:10.647 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-10 13:51:10.650 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-10 13:51:10.659 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 13:51:10.675 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 4871.2193ms
2025-11-10 13:51:10.681 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:51:10.692 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 4956.2238ms
2025-11-10 13:51:53.410 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 13:51:53.436 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:51:53.488 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 77.8151ms
2025-11-10 13:51:53.513 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1022
2025-11-10 13:51:53.538 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:51:53.561 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:51:53.579 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:51:53.646 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-10 13:51:53.656 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-10 13:51:53.744 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - true
2025-11-10 13:51:53.747 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: skempire69@gmail.com
2025-11-10 13:51:53.835 +05:30 [INF] Email exists check result for skempire69@gmail.com: false
2025-11-10 13:51:53.840 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-10 13:51:53.848 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 13:51:53.855 +05:30 [INF] Creating user for Email: skempire69@gmail.com
2025-11-10 13:51:54.937 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 13:51:55.970 +05:30 [INF] Executed DbCommand (260ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 13:51:56.428 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Phone'. The duplicate key value is (8489882274).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d8b44c9-d43b-408d-82cb-24b57d64f27e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Phone'. The duplicate key value is (8489882274).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d8b44c9-d43b-408d-82cb-24b57d64f27e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 13:51:56.499 +05:30 [ERR] Database error in CreateUserAsync for Email: skempire69@gmail.com
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Phone'. The duplicate key value is (8489882274).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d8b44c9-d43b-408d-82cb-24b57d64f27e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Auth.AuthRepository.CreateUserAsync(User user) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Auth\AuthRepository.cs:line 748
2025-11-10 13:51:56.569 +05:30 [ERR] OTP validation failed for Email: skempire69@gmail.com
2025-11-10 13:51:56.571 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 13:51:56.573 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 2979.6931ms
2025-11-10 13:51:56.577 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:51:56.807 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 400 null application/json; charset=utf-8 3294.4215ms
2025-11-10 13:54:26.541 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 13:54:26.663 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:54:26.717 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 176.026ms
2025-11-10 13:54:26.745 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 146
2025-11-10 13:54:26.764 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:54:26.767 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:54:26.770 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:54:26.785 +05:30 [INF] OTP generation started for Email: lavssubbu@gmail.com, Type: Registration
2025-11-10 13:54:26.796 +05:30 [INF] OTP generation started for Email: lavssubbu@gmail.com, Type: Registration
2025-11-10 13:54:26.800 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: lavssubbu@gmail.com
2025-11-10 13:54:26.820 +05:30 [WRN] No user found for Email: lavssubbu@gmail.com
2025-11-10 13:54:26.829 +05:30 [INF] OTP generated successfully
2025-11-10 13:54:26.831 +05:30 [INF] OTP JWT token with registration data created for email: lavssubbu@gmail.com, type: Registration_2
2025-11-10 13:54:26.834 +05:30 [INF] Email sending started to: lavssubbu@gmail.com
2025-11-10 13:54:30.205 +05:30 [INF] Email sent successfully to: lavssubbu@gmail.com
2025-11-10 13:54:30.211 +05:30 [INF] OTP sent successfully to Email: lavssubbu@gmail.com
2025-11-10 13:54:30.220 +05:30 [INF] OTP sent successfully to Email: lavssubbu@gmail.com
2025-11-10 13:54:30.226 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 13:54:30.238 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 3456.2409ms
2025-11-10 13:54:30.243 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:54:30.245 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 3499.7952ms
2025-11-10 13:54:42.294 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 13:54:42.306 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:54:42.311 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 17.1214ms
2025-11-10 13:54:42.408 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1026
2025-11-10 13:54:42.418 +05:30 [INF] CORS policy execution successful.
2025-11-10 13:54:42.420 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:54:42.423 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 13:54:42.455 +05:30 [INF] OTP validation started for Email: lavssubbu@gmail.com
2025-11-10 13:54:42.457 +05:30 [INF] OTP validation started for Email: lavssubbu@gmail.com
2025-11-10 13:54:42.461 +05:30 [INF] OTP validation result for email: lavssubbu@gmail.com - true
2025-11-10 13:54:42.470 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: lavssubbu@gmail.com
2025-11-10 13:54:42.505 +05:30 [INF] Email exists check result for lavssubbu@gmail.com: false
2025-11-10 13:54:42.510 +05:30 [INF] OTP validation successful for Email: lavssubbu@gmail.com
2025-11-10 13:54:42.516 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 13:54:42.519 +05:30 [INF] Creating user for Email: lavssubbu@gmail.com
2025-11-10 13:54:42.655 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 13:54:42.666 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Phone'. The duplicate key value is (8489882274).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d8b44c9-d43b-408d-82cb-24b57d64f27e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Phone'. The duplicate key value is (8489882274).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d8b44c9-d43b-408d-82cb-24b57d64f27e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 13:54:42.700 +05:30 [ERR] Database error in CreateUserAsync for Email: lavssubbu@gmail.com
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Users' with unique index 'IX_Users_Phone'. The duplicate key value is (8489882274).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:0d8b44c9-d43b-408d-82cb-24b57d64f27e
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Auth.AuthRepository.CreateUserAsync(User user) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Auth\AuthRepository.cs:line 748
2025-11-10 13:54:42.727 +05:30 [ERR] OTP validation failed for Email: lavssubbu@gmail.com
2025-11-10 13:54:42.733 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 13:54:42.735 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 282.1798ms
2025-11-10 13:54:42.738 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 13:54:42.741 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 400 null application/json; charset=utf-8 332.3423ms
2025-11-10 13:58:06.460 +05:30 [INF] Application is shutting down...
2025-11-10 14:52:50.110 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 14:52:50.370 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 14:52:50.378 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 14:52:50.384 +05:30 [INF] Hosting environment: Development
2025-11-10 14:52:50.386 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 14:55:19.998 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-10 14:55:20.181 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 14:55:20.231 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:55:20.278 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 303.9169ms
2025-11-10 14:55:20.315 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 143
2025-11-10 14:55:20.333 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:55:20.515 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 14:55:20.644 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 14:55:21.450 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-10 14:55:21.461 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-10 14:55:21.547 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 14:55:22.831 +05:30 [WRN] No user found for Email: skempire69@gmail.com
2025-11-10 14:55:22.850 +05:30 [INF] OTP generated successfully
2025-11-10 14:55:22.929 +05:30 [INF] OTP JWT token with registration data created for email: skempire69@gmail.com, type: Registration_1
2025-11-10 14:55:22.934 +05:30 [INF] Email sending started to: skempire69@gmail.com
2025-11-10 14:55:26.722 +05:30 [INF] Email sent successfully to: skempire69@gmail.com
2025-11-10 14:55:26.726 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-10 14:55:26.733 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-10 14:55:26.743 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-10 14:55:26.824 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 6164.1354ms
2025-11-10 14:55:26.830 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-10 14:55:26.907 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 6591.8087ms
2025-11-10 14:55:48.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-10 14:55:48.739 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:55:48.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 224.7959ms
2025-11-10 14:55:48.792 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1025
2025-11-10 14:55:48.823 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:55:48.842 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 14:55:48.870 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 14:55:48.950 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-10 14:55:48.990 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-10 14:55:49.135 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - true
2025-11-10 14:55:49.147 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: skempire69@gmail.com
2025-11-10 14:55:49.272 +05:30 [INF] Email exists check result for skempire69@gmail.com: false
2025-11-10 14:55:49.280 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-10 14:55:49.288 +05:30 [INF] Registration data extracted from token successfully
2025-11-10 14:55:49.298 +05:30 [INF] Creating user for Email: skempire69@gmail.com
2025-11-10 14:55:50.863 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 14:55:52.112 +05:30 [INF] Executed DbCommand (197ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-10 14:55:52.185 +05:30 [INF] User created successfully with UserId: 1016
2025-11-10 14:55:52.209 +05:30 [INF] Creating customer for UserId: 1016
2025-11-10 14:55:52.347 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (Size = 50), @p13='?' (Size = 10), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Address], [City], [CreatedBy], [CreatedOn], [DateOfBirth], [DeletedBy], [DeletedOn], [FirstName], [Gender], [IsActive], [IsDeleted], [LastName], [MiddleName], [PinCode], [State], [TenantId], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-11-10 14:55:52.364 +05:30 [INF] Customer created successfully with CustomerId: 1003
2025-11-10 14:55:52.370 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-10 14:55:52.380 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-10 14:55:52.395 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 3519.4555ms
2025-11-10 14:55:52.400 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-10 14:55:52.478 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 3701.5566ms
2025-11-10 14:56:18.886 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 14:56:18.894 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:18.899 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 13.0122ms
2025-11-10 14:56:18.941 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-10 14:56:18.955 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:18.968 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 14:56:18.977 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 14:56:19.075 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 14:56:19.121 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 14:56:19.124 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 14:56:19.234 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1016
2025-11-10 14:56:19.280 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 14:56:19.338 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 14:56:20.758 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 14:56:20.844 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedBy] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 14:56:20.864 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 14:56:21.022 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 14:56:21.039 +05:30 [INF] Refresh token created successfully with Id: 30
2025-11-10 14:56:21.087 +05:30 [INF] Executed DbCommand (39ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 14:56:21.102 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 14:56:21.104 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 14:56:21.107 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 14:56:21.118 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 2133.9297ms
2025-11-10 14:56:21.132 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 14:56:21.157 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 2202.512ms
2025-11-10 14:56:21.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 14:56:21.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 14:56:21.735 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 14:56:21.735 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 14:56:21.744 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:21.746 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:21.750 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:21.755 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:21.757 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 192.75ms
2025-11-10 14:56:21.759 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 195.2894ms
2025-11-10 14:56:21.762 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 26.7839ms
2025-11-10 14:56:21.763 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 27.7126ms
2025-11-10 14:56:21.806 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 14:56:21.789 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 14:56:21.873 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:21.887 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:22.037 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 14:56:22.037 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:56:22.204 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 14:56:22.205 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 14:56:22.248 +05:30 [INF] Getting all products started
2025-11-10 14:56:22.270 +05:30 [INF] Getting all categories
2025-11-10 14:56:22.327 +05:30 [INF] Getting all categories started
2025-11-10 14:56:22.329 +05:30 [INF] Getting all products started
2025-11-10 14:56:22.412 +05:30 [INF] Getting all products started
2025-11-10 14:56:22.412 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 14:56:22.738 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:56:22.755 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 14:56:22.760 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:56:22.764 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:56:22.780 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 562.0795ms
2025-11-10 14:56:22.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 14:56:22.784 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:56:22.794 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:22.827 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:56:22.836 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 14:56:22.882 +05:30 [INF] Getting all categories
2025-11-10 14:56:22.799 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 992.9521ms
2025-11-10 14:56:22.887 +05:30 [INF] Getting all categories started
2025-11-10 14:56:22.936 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 14:56:22.962 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:56:22.971 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 14:56:22.982 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:56:22.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:56:22.998 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 119.6673ms
2025-11-10 14:56:23.004 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:56:23.013 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 230.675ms
2025-11-10 14:56:23.308 +05:30 [INF] Executed DbCommand (157ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 14:56:23.466 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 14:56:23.484 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 14:56:23.487 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 14:56:23.492 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:56:23.643 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 1430.1189ms
2025-11-10 14:56:23.646 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 14:56:23.647 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 14:56:23.653 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:56:23.661 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 14:56:23.657 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1868.4575ms
2025-11-10 14:56:23.833 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 14:56:23.948 +05:30 [INF] Getting all products started
2025-11-10 14:56:23.950 +05:30 [INF] Getting all products started
2025-11-10 14:56:23.962 +05:30 [INF] Getting all products started
2025-11-10 14:56:24.032 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 14:56:24.128 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 14:56:24.131 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 14:56:24.136 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 14:56:24.145 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:56:24.150 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 220.6977ms
2025-11-10 14:56:24.456 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 14:56:24.462 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 815.7734ms
2025-11-10 14:57:42.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 14:57:42.408 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:57:42.410 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 17.298ms
2025-11-10 14:57:42.424 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 14:57:42.440 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:57:42.443 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 14:57:42.456 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 14:57:42.471 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:42.474 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:42.475 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:42.503 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 14:57:42.669 +05:30 [INF] Executed DbCommand (127ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 14:57:42.792 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:42.841 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - false
2025-11-10 14:57:42.858 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 14:57:43.017 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 14:57:43.022 +05:30 [WRN] Login failed: Invalid credentials
2025-11-10 14:57:43.024 +05:30 [ERR] Login failed: Invalid email or password
2025-11-10 14:57:43.027 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 14:57:43.074 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 613.6513ms
2025-11-10 14:57:43.087 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 14:57:43.089 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 664.7427ms
2025-11-10 14:57:49.589 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 14:57:49.595 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:57:49.599 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 9.4474ms
2025-11-10 14:57:49.616 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-10 14:57:49.645 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:57:49.647 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 14:57:49.649 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 14:57:49.666 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:49.678 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:49.680 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:49.696 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 1013
2025-11-10 14:57:49.714 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 14:57:49.732 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-10 14:57:49.747 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-10 14:57:49.761 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 14:57:49.780 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 14:57:49.798 +05:30 [INF] Creating refresh token for UserId: 1013
2025-11-10 14:57:49.914 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 14:57:49.927 +05:30 [INF] Refresh token created successfully with Id: 31
2025-11-10 14:57:49.962 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 14:57:49.978 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 14:57:49.979 +05:30 [INF] Login successful for UserId: 1013
2025-11-10 14:57:49.981 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 14:57:49.994 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 328.8703ms
2025-11-10 14:57:49.997 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 14:57:50.008 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 391.3109ms
2025-11-10 14:58:06.312 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 14:58:06.450 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg'
2025-11-10 14:58:06.453 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 200 12112 image/jpeg 141.6501ms
2025-11-10 14:58:27.147 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 14:58:27.147 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 14:58:27.148 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 14:58:27.151 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 14:58:27.163 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.183 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.272 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.415 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.417 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 270.6958ms
2025-11-10 14:58:27.419 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 271.9654ms
2025-11-10 14:58:27.429 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 280.4768ms
2025-11-10 14:58:27.432 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 281.3499ms
2025-11-10 14:58:27.486 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 14:58:27.499 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 14:58:27.503 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.520 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:58:27.520 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.534 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 14:58:27.564 +05:30 [INF] Getting all categories
2025-11-10 14:58:27.566 +05:30 [INF] Getting all categories started
2025-11-10 14:58:27.568 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 14:58:27.602 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 14:58:27.619 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 14:58:27.669 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 14:58:27.669 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:58:27.685 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 14:58:27.687 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:58:27.700 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:58:27.700 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 14:58:27.703 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 149.9595ms
2025-11-10 14:58:27.717 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 14:58:27.719 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:58:27.733 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.736 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 249.9278ms
2025-11-10 14:58:27.738 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:58:27.762 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 14:58:27.768 +05:30 [INF] Getting all categories
2025-11-10 14:58:27.770 +05:30 [INF] Getting all categories started
2025-11-10 14:58:27.780 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 14:58:27.786 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:58:27.798 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 14:58:27.799 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 14:58:27.800 +05:30 [INF] Retrieved 2 categories
2025-11-10 14:58:27.813 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 14:58:27.815 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:58:27.820 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 14:58:27.821 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 52.6726ms
2025-11-10 14:58:27.834 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 14:58:27.836 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 118.6012ms
2025-11-10 14:58:27.887 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 14:58:27.904 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 14:58:27.917 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 14:58:27.933 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 1 products
2025-11-10 14:58:27.949 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:58:27.953 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 320.6044ms
2025-11-10 14:58:27.964 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 14:58:27.971 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 14:58:27.982 +05:30 [INF] CORS policy execution successful.
2025-11-10 14:58:27.985 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 485.1432ms
2025-11-10 14:58:28.001 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 14:58:28.019 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 14:58:28.032 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 14:58:28.035 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 14:58:28.065 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 14:58:28.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 14:58:28.071 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 14:58:28.084 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 14:58:28.086 +05:30 [INF] The file /images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg was not modified
2025-11-10 14:58:28.099 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 14:58:28.128 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 14:58:28.103 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 304 null image/jpeg 35.9117ms
2025-11-10 14:58:28.101 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 35.9978ms
2025-11-10 14:58:28.232 +05:30 [INF] Executed DbCommand (95ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 14:58:28.519 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 14:58:28.667 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 14:58:28.700 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 1 products
2025-11-10 14:58:28.812 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 14:58:28.970 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 938.0782ms
2025-11-10 14:58:28.995 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 14:58:28.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 1033.5848ms
2025-11-10 15:00:30.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:00:30.024 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:00:30.126 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.034 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:00:30.034 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:00:30.136 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.226 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 202.291ms
2025-11-10 15:00:30.186 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.274 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 240.5732ms
2025-11-10 15:00:30.138 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 113.1704ms
2025-11-10 15:00:30.203 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.391 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 357.18ms
2025-11-10 15:00:30.441 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:00:30.536 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:00:30.542 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.553 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.555 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:00:30.556 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:00:30.562 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:00:30.571 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:00:30.606 +05:30 [INF] Getting all categories
2025-11-10 15:00:30.614 +05:30 [INF] Getting all categories started
2025-11-10 15:00:30.615 +05:30 [INF] Getting all products started
2025-11-10 15:00:30.617 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:00:30.618 +05:30 [INF] Getting all products started
2025-11-10 15:00:30.624 +05:30 [INF] Getting all products started
2025-11-10 15:00:30.649 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:00:30.652 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:00:30.656 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:00:30.666 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:00:30.672 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 66.3239ms
2025-11-10 15:00:30.674 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:00:30.687 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:00:30.738 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 201.148ms
2025-11-10 15:00:30.722 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:30.820 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:00:30.838 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:00:30.866 +05:30 [INF] Getting all categories
2025-11-10 15:00:30.869 +05:30 [INF] Getting all categories started
2025-11-10 15:00:30.872 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:00:30.907 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:00:30.954 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:00:30.971 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:00:30.973 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:00:30.990 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:00:31.000 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:00:31.003 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:00:31.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:00:31.007 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:00:31.022 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 165.3334ms
2025-11-10 15:00:31.167 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:00:31.170 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 495.4014ms
2025-11-10 15:00:31.123 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 520.9562ms
2025-11-10 15:00:31.232 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:00:31.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:00:31.333 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 891.8204ms
2025-11-10 15:00:31.633 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:00:31.688 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:00:31.699 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:00:31.715 +05:30 [INF] Getting all products started
2025-11-10 15:00:31.718 +05:30 [INF] Getting all products started
2025-11-10 15:00:31.732 +05:30 [INF] Getting all products started
2025-11-10 15:00:31.867 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:00:31.878 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:00:31.881 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:00:31.884 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:00:31.887 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:00:31.893 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 178.0404ms
2025-11-10 15:00:31.900 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:00:31.903 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 751.9095ms
2025-11-10 15:01:02.065 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 15:01:02.079 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 15:01:02.080 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:01:02.127 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.089 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.153 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 88.192ms
2025-11-10 15:01:02.080 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:01:02.135 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 55.4916ms
2025-11-10 15:01:02.101 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.202 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:01:02.203 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.220 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 15:01:02.248 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.235 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.236 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 156.6083ms
2025-11-10 15:01:02.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 142.3565ms
2025-11-10 15:01:02.252 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.266 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.282 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:01:02.284 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:01:02.289 +05:30 [INF] Getting all categories
2025-11-10 15:01:02.303 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 15:01:02.303 +05:30 [INF] Getting all categories started
2025-11-10 15:01:02.305 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 15:01:02.307 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:01:02.337 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:01:02.338 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 15:01:02.339 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:01:02.351 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 15:01:02.353 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:01:02.355 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 15:01:02.357 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:01:02.369 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 80.2939ms
2025-11-10 15:01:02.372 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:01:02.384 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.396 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 193.4949ms
2025-11-10 15:01:02.389 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.434 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.440 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:01:02.469 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:01:02.470 +05:30 [INF] Getting all categories
2025-11-10 15:01:02.483 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 15:01:02.486 +05:30 [INF] Getting all categories started
2025-11-10 15:01:02.491 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 15:01:02.501 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:01:02.507 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 1 products
2025-11-10 15:01:02.522 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:01:02.534 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 233.4268ms
2025-11-10 15:01:02.538 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 15:01:02.540 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.552 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:01:02.554 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 334.3763ms
2025-11-10 15:01:02.566 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:01:02.567 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.581 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:01:02.585 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:01:02.587 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:01:02.598 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 15:01:02.599 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:01:02.601 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 15:01:02.604 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 134.5966ms
2025-11-10 15:01:02.619 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:01:02.621 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 248.6812ms
2025-11-10 15:01:02.672 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 15:01:02.753 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 15:01:02.765 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 15:01:02.877 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:01:02.899 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 15:01:02.954 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 1 products
2025-11-10 15:01:02.962 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 1 products
2025-11-10 15:01:02.967 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:01:02.981 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 385.5432ms
2025-11-10 15:01:03.002 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 15:01:03.033 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 494.4854ms
2025-11-10 15:01:06.662 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 15:01:06.839 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'
2025-11-10 15:01:06.844 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 200 1115297 image/jpeg 181.5026ms
2025-11-10 15:06:07.892 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:06:07.893 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:06:07.952 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:06:08.278 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:07.999 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:08.242 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:07.963 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:06:08.281 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 329.4511ms
2025-11-10 15:06:08.283 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 390.4178ms
2025-11-10 15:06:08.333 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:06:08.299 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:08.285 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 391.0753ms
2025-11-10 15:06:08.383 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:08.417 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 454.0931ms
2025-11-10 15:06:08.444 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:06:08.447 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:08.577 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:08.580 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:06:08.582 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:08.596 +05:30 [INF] Getting all categories
2025-11-10 15:06:08.598 +05:30 [INF] Getting all categories started
2025-11-10 15:06:08.597 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:06:08.608 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:06:08.613 +05:30 [INF] Getting all products started
2025-11-10 15:06:08.617 +05:30 [INF] Getting all products started
2025-11-10 15:06:08.628 +05:30 [INF] Getting all products started
2025-11-10 15:06:08.661 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:08.679 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:06:08.683 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:08.696 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:08.711 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 116.2409ms
2025-11-10 15:06:08.715 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:06:08.861 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:08.867 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:08.877 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 543.9436ms
2025-11-10 15:06:08.887 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:09.028 +05:30 [INF] Executed DbCommand (141ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:06:09.045 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:06:09.054 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:09.058 +05:30 [INF] Getting all categories
2025-11-10 15:06:09.062 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:09.113 +05:30 [INF] Getting all categories started
2025-11-10 15:06:09.121 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:06:09.115 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:09.127 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:09.130 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 517.1461ms
2025-11-10 15:06:09.133 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:09.139 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 694.5645ms
2025-11-10 15:06:09.163 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:09.312 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:06:09.314 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:06:09.323 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:09.326 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:09.328 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:09.330 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:09.341 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:06:09.342 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 284.5288ms
2025-11-10 15:06:09.349 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:09.359 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 643.5557ms
2025-11-10 15:06:09.347 +05:30 [INF] Getting all products started
2025-11-10 15:06:09.747 +05:30 [INF] Getting all products started
2025-11-10 15:06:09.778 +05:30 [INF] Getting all products started
2025-11-10 15:06:10.002 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:06:10.009 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:10.013 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:10.018 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:10.020 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:10.025 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 678.6769ms
2025-11-10 15:06:10.029 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:10.044 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 732.2754ms
2025-11-10 15:06:44.935 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:06:44.942 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:06:45.025 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:44.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:06:45.018 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:45.068 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 132.8932ms
2025-11-10 15:06:45.057 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:45.120 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 170.4709ms
2025-11-10 15:06:44.949 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:06:45.190 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:45.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 242.7563ms
2025-11-10 15:06:45.156 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:06:45.141 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 198.4995ms
2025-11-10 15:06:45.155 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:06:45.309 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:45.352 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:45.355 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:45.356 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:45.366 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:06:45.359 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:06:45.371 +05:30 [INF] Getting all products started
2025-11-10 15:06:45.379 +05:30 [INF] Getting all categories
2025-11-10 15:06:45.382 +05:30 [INF] Getting all products started
2025-11-10 15:06:45.384 +05:30 [INF] Getting all categories started
2025-11-10 15:06:45.386 +05:30 [INF] Getting all products started
2025-11-10 15:06:45.388 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:06:45.437 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:45.440 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:06:45.449 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:45.452 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:45.455 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 77.1001ms
2025-11-10 15:06:45.458 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:06:45.510 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:45.473 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:06:45.473 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:45.540 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:46.019 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:46.023 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 867.1696ms
2025-11-10 15:06:46.155 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:06:46.165 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:46.202 +05:30 [INF] Getting all categories
2025-11-10 15:06:46.216 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:46.217 +05:30 [INF] Getting all categories started
2025-11-10 15:06:46.229 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:06:46.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:46.239 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 868.4517ms
2025-11-10 15:06:46.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:06:46.303 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:46.333 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:06:46.331 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:46.319 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:46.340 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:06:46.353 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:46.401 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:46.623 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 421.0212ms
2025-11-10 15:06:46.629 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:06:46.610 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:06:46.356 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1200.3727ms
2025-11-10 15:06:46.518 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 15:06:46.633 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 1174.9071ms
2025-11-10 15:06:46.821 +05:30 [INF] Getting all products started
2025-11-10 15:06:46.859 +05:30 [INF] Getting all products started
2025-11-10 15:06:46.862 +05:30 [INF] Getting all products started
2025-11-10 15:06:46.850 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 15:06:46.866 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 347.814ms
2025-11-10 15:06:47.020 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:06:47.036 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:47.040 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:47.046 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:06:47.049 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:06:47.055 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 235.6069ms
2025-11-10 15:06:47.147 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:06:47.149 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 876.593ms
2025-11-10 15:06:50.043 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:06:50.049 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:50.051 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 7.688ms
2025-11-10 15:06:50.061 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:06:50.080 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:50.083 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:06:50.105 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:06:50.167 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:06:50.182 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:06:50.217 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:06:50.298 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:06:50.314 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:06:50.337 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:06:50.343 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:06:50.345 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:06:50.362 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 198.7598ms
2025-11-10 15:06:50.365 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:06:50.375 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:06:50.379 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:06:50.382 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 320.5954ms
2025-11-10 15:06:50.445 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:06:50.580 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:06:50.597 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:06:50.608 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:06:50.611 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:06:50.514 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 15:06:50.760 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:06:51.061 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:06:51.778 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:06:51.778 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'
2025-11-10 15:06:51.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 15:06:52.040 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:06:52.043 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 200 1115297 image/jpeg 1529.2278ms
2025-11-10 15:06:52.056 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:06:52.091 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 1494.0901ms
2025-11-10 15:06:52.096 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:06:52.105 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 1739.6949ms
2025-11-10 15:06:52.207 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_0dd99105673342199275ee72da883226_pickle.jpg'
2025-11-10 15:06:52.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 200 1115297 image/jpeg 426.2042ms
2025-11-10 15:07:29.562 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:07:29.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:07:29.579 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.565 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:07:29.569 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.564 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:07:29.582 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 18.0898ms
2025-11-10 15:07:29.587 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 32.2178ms
2025-11-10 15:07:29.601 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.614 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:07:29.616 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 50.9473ms
2025-11-10 15:07:29.627 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:07:29.628 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 64.0043ms
2025-11-10 15:07:29.643 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.652 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.665 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.666 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.672 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:07:29.669 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:07:29.680 +05:30 [INF] Getting all products started
2025-11-10 15:07:29.685 +05:30 [INF] Getting all categories
2025-11-10 15:07:29.693 +05:30 [INF] Getting all products started
2025-11-10 15:07:29.695 +05:30 [INF] Getting all categories started
2025-11-10 15:07:29.697 +05:30 [INF] Getting all products started
2025-11-10 15:07:29.698 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:07:29.730 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:07:29.730 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:07:29.736 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:07:29.742 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:07:29.749 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:07:29.751 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:07:29.753 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:07:29.763 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:07:29.761 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:07:29.766 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 86.1808ms
2025-11-10 15:07:29.769 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:07:29.770 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 85.3861ms
2025-11-10 15:07:29.776 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:07:29.779 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.784 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.787 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.798 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:07:29.800 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 173.0373ms
2025-11-10 15:07:29.802 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.803 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 189.1861ms
2025-11-10 15:07:29.813 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.830 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:07:29.849 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:07:29.854 +05:30 [INF] Getting all products started
2025-11-10 15:07:29.864 +05:30 [INF] Getting all categories
2025-11-10 15:07:29.865 +05:30 [INF] Getting all products started
2025-11-10 15:07:29.867 +05:30 [INF] Getting all categories started
2025-11-10 15:07:29.868 +05:30 [INF] Getting all products started
2025-11-10 15:07:29.870 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:07:29.878 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:07:29.879 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:07:29.880 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:07:29.886 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:07:29.890 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:07:29.892 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:07:29.894 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:07:29.896 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:07:29.899 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 35.3024ms
2025-11-10 15:07:29.901 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:07:29.904 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.907 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 53.6791ms
2025-11-10 15:07:29.909 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 133.3234ms
2025-11-10 15:07:29.912 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:07:29.920 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 151.0014ms
2025-11-10 15:08:00.795 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:00.795 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:00.804 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:00.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 17.7167ms
2025-11-10 15:08:00.809 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:00.819 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:00.821 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 25.3419ms
2025-11-10 15:08:00.836 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:00.849 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:00.866 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:08:00.878 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:00.880 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:00.883 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:01.132 +05:30 [INF] Executed DbCommand (168ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:08:01.137 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:01.143 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:01.145 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:01.147 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:08:01.150 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 272.2027ms
2025-11-10 15:08:01.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:01.154 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:01.161 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:01.168 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:01.196 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:08:01.165 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 345.3891ms
2025-11-10 15:08:01.214 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:01.249 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:01.258 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:01.282 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:08:01.299 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:01.302 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:01.317 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:01.385 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:08:01.395 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 181.1252ms
2025-11-10 15:08:01.436 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:01.447 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 295.3351ms
2025-11-10 15:08:11.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:11.162 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:11.169 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:11.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 15.8809ms
2025-11-10 15:08:11.185 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:11.176 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:11.198 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:11.200 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 37.9517ms
2025-11-10 15:08:11.202 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:11.212 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:08:11.218 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:11.219 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:11.221 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:11.254 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:08:11.285 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:11.287 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:11.296 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:11.302 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:08:11.315 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 98.3683ms
2025-11-10 15:08:11.317 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:08:11.321 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:11.332 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:08:11.342 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:11.347 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:08:11.334 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 149.0258ms
2025-11-10 15:08:11.351 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:11.369 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:11.387 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:08:11.435 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:08:11.449 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:11.451 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:11.463 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:08:11.465 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:08:11.469 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 117.9589ms
2025-11-10 15:08:11.482 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:08:11.494 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 169.9452ms
2025-11-10 15:13:29.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:13:29.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:13:29.154 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:29.141 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:29.156 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 21.8928ms
2025-11-10 15:13:29.159 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 24.3164ms
2025-11-10 15:13:29.170 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:13:29.186 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:29.188 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:13:29.192 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:13:29.202 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:13:29.204 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:13:29.206 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:13:29.290 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:13:29.299 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:13:29.303 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:13:29.305 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:13:29.308 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:13:29.311 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 109.4326ms
2025-11-10 15:13:29.314 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:13:29.317 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:13:29.322 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:29.324 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 153.8066ms
2025-11-10 15:13:29.326 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:13:29.339 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:13:29.344 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:13:29.349 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:13:29.352 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:13:29.365 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:13:29.375 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:13:29.377 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:13:29.386 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:13:29.388 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:13:29.391 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 47.6444ms
2025-11-10 15:13:29.402 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:13:29.405 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 91.1957ms
2025-11-10 15:13:30.101 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:13:30.101 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:13:30.103 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:13:30.104 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:13:30.113 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.120 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.124 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.130 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.131 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 30.7841ms
2025-11-10 15:13:30.134 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 33.1761ms
2025-11-10 15:13:30.136 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 32.5891ms
2025-11-10 15:13:30.137 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 33.831ms
2025-11-10 15:13:30.160 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:13:30.170 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:13:30.174 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.179 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.181 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.182 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.184 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:13:30.186 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:13:30.190 +05:30 [INF] Getting all categories
2025-11-10 15:13:30.195 +05:30 [INF] Getting all products started
2025-11-10 15:13:30.198 +05:30 [INF] Getting all categories started
2025-11-10 15:13:30.200 +05:30 [INF] Getting all products started
2025-11-10 15:13:30.201 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:13:30.203 +05:30 [INF] Getting all products started
2025-11-10 15:13:30.238 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:13:30.240 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:13:30.242 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:13:30.246 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:13:30.249 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 59.2832ms
2025-11-10 15:13:30.251 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:13:30.253 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.255 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:13:30.257 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.259 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 98.7726ms
2025-11-10 15:13:30.266 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:13:30.267 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.275 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:13:30.279 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:13:30.280 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:13:30.285 +05:30 [INF] Getting all categories
2025-11-10 15:13:30.287 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:13:30.288 +05:30 [INF] Getting all categories started
2025-11-10 15:13:30.292 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 98.0553ms
2025-11-10 15:13:30.293 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:13:30.294 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:13:30.297 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.300 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:13:30.303 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:13:30.305 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 135.5108ms
2025-11-10 15:13:30.308 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:13:30.309 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.319 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:13:30.324 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:13:30.325 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:13:30.333 +05:30 [INF] Getting all products started
2025-11-10 15:13:30.336 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 51.6033ms
2025-11-10 15:13:30.342 +05:30 [INF] Getting all products started
2025-11-10 15:13:30.350 +05:30 [INF] Getting all products started
2025-11-10 15:13:30.348 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.357 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 105.7949ms
2025-11-10 15:13:30.368 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:13:30.377 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:13:30.381 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:13:30.386 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:13:30.388 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:13:30.392 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 59.5855ms
2025-11-10 15:13:30.402 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:13:30.405 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 110.7211ms
2025-11-10 15:15:11.893 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:11.905 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:11.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 13.7166ms
2025-11-10 15:15:11.924 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:11.938 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:11.941 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:11.944 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:11.959 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:11.962 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:11.973 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:12.012 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:12.026 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:12.028 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:12.031 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:12.041 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:15:12.045 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 86.9507ms
2025-11-10 15:15:12.054 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:12.063 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:12.074 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:12.076 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 151.2403ms
2025-11-10 15:15:12.077 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:12.096 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:12.109 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:12.112 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:12.141 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:12.154 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:12.171 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:12.174 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:12.176 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:12.178 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:15:12.188 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 79.893ms
2025-11-10 15:15:12.197 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:12.206 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 151.9209ms
2025-11-10 15:15:54.174 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:54.176 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:54.194 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:54.205 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:54.207 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 33.0901ms
2025-11-10 15:15:54.220 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 43.8308ms
2025-11-10 15:15:54.230 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:54.254 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:54.256 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:54.259 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:54.271 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:54.274 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:54.278 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:54.404 +05:30 [INF] Executed DbCommand (92ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:54.419 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:54.424 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:54.429 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:54.441 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:15:54.456 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 187.2223ms
2025-11-10 15:15:54.459 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:15:54.478 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:54.491 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:54.495 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 265.2919ms
2025-11-10 15:15:54.502 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:54.510 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:54.521 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:54.523 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:54.586 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:15:54.654 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:54.660 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:54.662 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:54.668 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:15:54.670 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:15:54.673 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 151.8119ms
2025-11-10 15:15:54.675 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:15:54.678 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 219.2197ms
2025-11-10 15:15:56.758 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:15:56.767 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:15:56.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:15:56.774 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:15:56.816 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:56.791 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:56.802 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:56.786 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:56.820 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 46.5075ms
2025-11-10 15:15:56.822 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 54.5447ms
2025-11-10 15:15:56.825 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 53.9953ms
2025-11-10 15:15:56.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 76.1374ms
2025-11-10 15:15:56.851 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:15:56.867 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:15:56.883 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:56.887 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:56.890 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:56.891 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:56.896 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:15:56.900 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:56.903 +05:30 [INF] Getting all categories
2025-11-10 15:15:56.907 +05:30 [INF] Getting all products started
2025-11-10 15:15:56.913 +05:30 [INF] Getting all products started
2025-11-10 15:15:56.917 +05:30 [INF] Getting all products started
2025-11-10 15:15:56.909 +05:30 [INF] Getting all categories started
2025-11-10 15:15:56.920 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:15:57.003 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:57.023 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:57.024 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:57.045 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:15:57.040 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:57.049 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:57.051 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:57.053 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:15:57.055 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:15:57.065 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 161.9558ms
2025-11-10 15:15:57.084 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:57.082 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 174.7858ms
2025-11-10 15:15:57.087 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 235.933ms
2025-11-10 15:15:57.090 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:57.122 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 255.4672ms
2025-11-10 15:15:57.120 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:15:57.141 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:57.150 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:57.153 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:15:57.104 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:15:57.175 +05:30 [INF] Getting all categories
2025-11-10 15:15:57.183 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:57.185 +05:30 [INF] Getting all categories started
2025-11-10 15:15:57.186 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:57.191 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:15:57.195 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:57.203 +05:30 [INF] Getting all products started
2025-11-10 15:15:57.205 +05:30 [INF] Getting all products started
2025-11-10 15:15:57.207 +05:30 [INF] Getting all products started
2025-11-10 15:15:57.217 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:57.237 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:15:57.241 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:57.253 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:57.264 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:57.267 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:15:57.269 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:57.273 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 98.5067ms
2025-11-10 15:15:57.284 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:57.288 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:57.291 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:15:57.302 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 182.511ms
2025-11-10 15:15:57.324 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 120.3781ms
2025-11-10 15:15:57.371 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:57.374 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 269.5935ms
2025-11-10 15:15:59.480 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:15:59.483 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:15:59.513 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:59.517 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:59.519 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:59.521 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:59.529 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:59.532 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:15:59.536 +05:30 [INF] Getting all products started
2025-11-10 15:15:59.548 +05:30 [INF] Getting all categories
2025-11-10 15:15:59.549 +05:30 [INF] Getting all products started
2025-11-10 15:15:59.550 +05:30 [INF] Getting all categories started
2025-11-10 15:15:59.552 +05:30 [INF] Getting all products started
2025-11-10 15:15:59.553 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:15:59.616 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:59.645 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:59.651 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:59.663 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:59.665 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:15:59.667 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:59.669 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:59.671 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:15:59.681 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:15:59.683 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 148.0578ms
2025-11-10 15:15:59.691 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:59.686 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 138.9682ms
2025-11-10 15:15:59.696 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 215.9526ms
2025-11-10 15:15:59.698 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:59.713 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 230.3294ms
2025-11-10 15:15:59.723 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:15:59.734 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:15:59.821 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:59.834 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:15:59.837 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:15:59.848 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:15:59.865 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:15:59.868 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:15:59.884 +05:30 [INF] Getting all products started
2025-11-10 15:15:59.899 +05:30 [INF] Getting all categories
2025-11-10 15:15:59.903 +05:30 [INF] Getting all categories started
2025-11-10 15:15:59.902 +05:30 [INF] Getting all products started
2025-11-10 15:15:59.918 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:15:59.920 +05:30 [INF] Getting all products started
2025-11-10 15:15:59.951 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:15:59.966 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:59.969 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:59.982 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:59.979 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:15:59.985 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:15:59.987 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:15:59.999 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:16:00.001 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:16:00.004 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 119.9728ms
2025-11-10 15:16:00.018 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 118.5475ms
2025-11-10 15:16:00.021 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:16:00.030 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:16:00.033 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 309.3759ms
2025-11-10 15:16:00.035 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 301.5739ms
2025-11-10 15:20:20.061 +05:30 [INF] Application is shutting down...
2025-11-10 15:21:40.209 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 15:21:40.467 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 15:21:40.485 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 15:21:40.488 +05:30 [INF] Hosting environment: Development
2025-11-10 15:21:40.491 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 15:21:48.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:21:48.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 15:21:48.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:21:48.393 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 15:21:48.516 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 15:21:48.521 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:48.521 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:48.521 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:48.521 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:48.766 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 376.761ms
2025-11-10 15:21:48.766 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 377.1687ms
2025-11-10 15:21:48.766 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 377.1469ms
2025-11-10 15:21:48.766 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 376.7839ms
2025-11-10 15:21:48.834 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:21:48.853 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:21:48.875 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:48.875 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:49.466 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:21:49.466 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:21:49.534 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:21:49.534 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:21:50.066 +05:30 [INF] Getting all products started
2025-11-10 15:21:50.068 +05:30 [INF] Getting all categories
2025-11-10 15:21:50.072 +05:30 [INF] Getting all products started
2025-11-10 15:21:50.073 +05:30 [INF] Getting all categories started
2025-11-10 15:21:50.137 +05:30 [INF] Getting all products started
2025-11-10 15:21:50.137 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:21:50.908 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:21:50.958 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:21:51.002 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:21:51.024 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:21:51.157 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 1610.9513ms
2025-11-10 15:21:51.167 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:21:51.173 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 15:21:51.187 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 2334.5622ms
2025-11-10 15:21:51.207 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:51.222 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:21:51.224 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 15:21:51.236 +05:30 [INF] Getting all categories
2025-11-10 15:21:51.238 +05:30 [INF] Getting all categories started
2025-11-10 15:21:51.242 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 15:21:51.271 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:21:51.283 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 15:21:51.289 +05:30 [INF] Retrieved 2 categories
2025-11-10 15:21:51.299 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:21:51.306 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 75.2327ms
2025-11-10 15:21:51.317 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 15:21:51.323 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 150.2713ms
2025-11-10 15:21:52.917 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 15:21:55.756 +05:30 [INF] Executed DbCommand (113ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:21:56.087 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:21:56.110 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:21:56.112 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:21:56.115 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:21:56.196 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 6619.75ms
2025-11-10 15:21:56.203 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:21:56.209 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 15:21:56.230 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 7396.5955ms
2025-11-10 15:21:56.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 15:21:56.346 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:21:56.416 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:21:56.432 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:21:56.471 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 15:21:56.528 +05:30 [INF] Getting all products started
2025-11-10 15:21:56.538 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 195.0597ms
2025-11-10 15:21:56.547 +05:30 [INF] Getting all products started
2025-11-10 15:21:56.592 +05:30 [INF] Getting all products started
2025-11-10 15:21:56.674 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:21:56.681 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:21:56.688 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:21:56.693 +05:30 [INF] Getting all products completed. Found 1 products
2025-11-10 15:21:56.696 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 15:21:56.713 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 189.0973ms
2025-11-10 15:21:56.748 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 15:21:56.763 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 553.7035ms
2025-11-10 15:22:34.114 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:22:34.115 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:22:34.297 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:22:34.304 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:22:34.305 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 191.7494ms
2025-11-10 15:22:34.329 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 214.1776ms
2025-11-10 15:22:34.384 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:22:34.400 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:22:34.402 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:22:34.434 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:22:34.525 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:22:34.530 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:22:34.535 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:22:34.678 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:22:34.685 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:22:34.702 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:22:34.704 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:22:34.713 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:22:34.734 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 295.7525ms
2025-11-10 15:22:34.736 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:22:34.749 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:22:34.751 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:22:34.780 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:22:34.797 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:22:34.754 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 369.9127ms
2025-11-10 15:22:34.826 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:22:34.857 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:22:34.866 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:22:34.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 15:22:34.929 +05:30 [INF] The file /images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg was not modified
2025-11-10 15:22:35.003 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 304 null image/jpeg 133.796ms
2025-11-10 15:22:35.019 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:22:35.062 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:22:35.064 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:22:35.066 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:22:37.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:22:37.596 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 2780.2374ms
2025-11-10 15:22:37.603 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:22:37.609 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 2873.0548ms
2025-11-10 15:22:37.763 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 15:22:37.773 +05:30 [INF] The file /images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg was not modified
2025-11-10 15:22:37.776 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 304 null image/jpeg 12.7933ms
2025-11-10 15:26:59.441 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:26:59.446 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:26:59.448 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 6.9779ms
2025-11-10 15:26:59.462 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:26:59.472 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:26:59.479 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 09:56:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 15:26:59.545 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 09:56:59'.
2025-11-10 15:26:59.552 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:26:59.555 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:26:59.561 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:26:59.944 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:26:59.945 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:26:59.980 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:27:00.130 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:27:00.145 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:27:00.159 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:27:00.178 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:27:00.191 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 631.7507ms
2025-11-10 15:27:00.196 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:27:00.209 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 747.3376ms
2025-11-10 15:29:02.308 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:29:02.314 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:29:02.316 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 7.6753ms
2025-11-10 15:29:02.323 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:29:02.328 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:29:02.331 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 09:59:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 15:29:02.343 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 09:59:02'.
2025-11-10 15:29:02.346 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:29:02.348 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:29:02.358 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:29:02.360 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:29:02.362 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:29:02.451 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:29:02.533 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:29:02.566 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:29:02.583 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:29:02.584 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:29:02.650 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 293.4293ms
2025-11-10 15:29:02.747 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:29:02.900 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 577.2989ms
2025-11-10 15:29:19.110 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:29:19.124 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:29:19.154 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 43.9881ms
2025-11-10 15:29:19.239 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:29:19.402 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:29:19.489 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 09:59:19'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 15:29:19.553 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 09:59:19'.
2025-11-10 15:29:19.573 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:29:19.587 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:29:19.637 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:29:19.655 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:29:19.668 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:29:19.697 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:29:19.718 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:29:19.720 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:29:19.722 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:29:19.733 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:29:19.749 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 116.2719ms
2025-11-10 15:29:19.757 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:29:19.773 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 534.2351ms
2025-11-10 15:31:10.343 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:31:10.355 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:31:10.357 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 14.2437ms
2025-11-10 15:31:10.371 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:31:10.528 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:31:10.542 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:01:10'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 15:31:10.628 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:01:10'.
2025-11-10 15:31:10.641 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:31:10.655 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:31:10.679 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:31:10.690 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:31:10.692 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:31:10.856 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:31:10.868 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:31:10.873 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:31:10.875 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:31:10.879 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:31:10.895 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 216.8824ms
2025-11-10 15:31:10.907 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:31:10.926 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 554.6225ms
2025-11-10 15:33:16.305 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 15:33:16.311 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:33:16.314 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 8.9228ms
2025-11-10 15:33:16.321 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 15:33:16.326 +05:30 [INF] CORS policy execution successful.
2025-11-10 15:33:16.330 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:03:16'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 15:33:16.340 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:03:16'.
2025-11-10 15:33:16.343 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:33:16.347 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 15:33:16.360 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:33:16.374 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:33:16.376 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 15:33:16.444 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 15:33:16.465 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:33:16.473 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:33:16.475 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 15:33:16.487 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 15:33:16.496 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 136.5664ms
2025-11-10 15:33:16.507 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 15:33:16.521 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 199.6484ms
2025-11-10 16:24:01.827 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:24:01.835 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:01.857 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 29.5179ms
2025-11-10 16:24:02.016 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/product - application/json 229
2025-11-10 16:24:02.051 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:02.057 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:57:49', Current time (UTC): '10-11-2025 10:54:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:24:02.082 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:57:49', Current time (UTC): '10-11-2025 10:54:02'.
2025-11-10 16:24:02.108 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Vendor)
2025-11-10 16:24:02.117 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 16:24:02.122 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/product - 401 0 null 106.2457ms
2025-11-10 16:24:02.213 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - null null
2025-11-10 16:24:02.229 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:02.268 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - 204 null null 54.8541ms
2025-11-10 16:24:02.301 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 16:24:02.333 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:02.342 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:57:49', Current time (UTC): '10-11-2025 10:54:02'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:24:02.385 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:57:49', Current time (UTC): '10-11-2025 10:54:02'.
2025-11-10 16:24:02.414 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 16:24:02.439 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 16:24:02.783 +05:30 [INF] Token refresh attempt started
2025-11-10 16:24:02.841 +05:30 [INF] Token refresh attempt started
2025-11-10 16:24:02.923 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 16:24:03.105 +05:30 [INF] User found for refresh token, UserId: 1013
2025-11-10 16:24:03.108 +05:30 [INF] Token refresh started for UserId: 1013
2025-11-10 16:24:03.174 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 16:24:03.402 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 16:24:03.443 +05:30 [INF] Creating refresh token for UserId: 1013
2025-11-10 16:24:03.544 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 16:24:03.585 +05:30 [INF] Refresh token created successfully with Id: 32
2025-11-10 16:24:03.590 +05:30 [INF] Token refresh successful for UserId: 1013
2025-11-10 16:24:03.593 +05:30 [INF] Token refresh successful for UserId: 1013
2025-11-10 16:24:03.595 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 16:24:03.600 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 1152.9231ms
2025-11-10 16:24:03.608 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 16:24:03.611 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 1309.5469ms
2025-11-10 16:24:03.646 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/product - application/json 229
2025-11-10 16:24:03.677 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:03.689 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.CreateProduct (Kanini.Ecommerce.Api)'
2025-11-10 16:24:03.711 +05:30 [INF] Route matched with {action = "CreateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateProduct(Kanini.Ecommerce.Application.DTOs.ProductCreateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:24:03.781 +05:30 [INF] Product creation started for VendorId: 1013
2025-11-10 16:24:03.789 +05:30 [INF] Product creation started for VendorId: 1013
2025-11-10 16:24:03.906 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:24:04.049 +05:30 [INF] Converted UserId 1013 to VendorId 1007
2025-11-10 16:24:04.203 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*)
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[VendorId] = @__vendorId_0 AND [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[IsActive] = CAST(1 AS BIT)
2025-11-10 16:24:04.214 +05:30 [INF] Checking subscription for VendorId: 1007
2025-11-10 16:24:04.388 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__vendorId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[SubscriptionId], [s].[CreatedBy], [s].[CreatedOn], [s].[DeletedBy], [s].[DeletedOn], [s].[EndDate], [s].[IsActive], [s].[IsDeleted], [s].[PlanId], [s].[StartDate], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[VendorId], [s1].[PlanId], [s1].[CreatedBy], [s1].[CreatedOn], [s1].[DeletedBy], [s1].[DeletedOn], [s1].[Description], [s1].[DurationDays], [s1].[IsActive], [s1].[IsDeleted], [s1].[MaxProducts], [s1].[PlanName], [s1].[Price], [s1].[TenantId], [s1].[UpdatedBy], [s1].[UpdatedOn]
FROM [Subscriptions] AS [s]
INNER JOIN (
    SELECT [s0].[PlanId], [s0].[CreatedBy], [s0].[CreatedOn], [s0].[DeletedBy], [s0].[DeletedOn], [s0].[Description], [s0].[DurationDays], [s0].[IsActive], [s0].[IsDeleted], [s0].[MaxProducts], [s0].[PlanName], [s0].[Price], [s0].[TenantId], [s0].[UpdatedBy], [s0].[UpdatedOn]
    FROM [SubscriptionPlans] AS [s0]
    WHERE [s0].[IsDeleted] = CAST(0 AS BIT)
) AS [s1] ON [s].[PlanId] = [s1].[PlanId]
WHERE [s].[IsDeleted] = CAST(0 AS BIT) AND [s].[VendorId] = @__vendorId_0
2025-11-10 16:24:04.491 +05:30 [INF] Found 1 total subscriptions for VendorId: 1007
2025-11-10 16:24:04.495 +05:30 [INF] Found active subscription for VendorId: 1007, PlanName: Basic
2025-11-10 16:24:04.500 +05:30 [INF] Product creation started for VendorId: 1007
2025-11-10 16:24:04.834 +05:30 [INF] Executed DbCommand (80ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = Int32), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2), @p6='?' (Size = 1000), @p7='?' (Size = 100), @p8='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (DbType = Int32), @p12='?' (Size = 200), @p13='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p14='?' (Size = 50), @p15='?' (DbType = Int32), @p16='?' (DbType = Int32), @p17='?' (Size = 100), @p18='?' (Size = 100), @p19='?' (DbType = DateTime2), @p20='?' (DbType = Int32), @p21='?' (Size = 50)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Products] ([Brand], [CategoryId], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Description], [Dimensions], [DiscountPrice], [IsActive], [IsDeleted], [MinStockLevel], [Name], [Price], [SKU], [Status], [StockQuantity], [TenantId], [UpdatedBy], [UpdatedOn], [VendorId], [Weight])
OUTPUT INSERTED.[ProductId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21);
2025-11-10 16:24:04.848 +05:30 [INF] Product created with ProductId: 4
2025-11-10 16:24:04.851 +05:30 [INF] Product created with ProductId: 4
2025-11-10 16:24:04.854 +05:30 [INF] Product created with ProductId: 4
2025-11-10 16:24:04.882 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:24:04.997 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.CreateProduct (Kanini.Ecommerce.Api) in 1269.5019ms
2025-11-10 16:24:05.003 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.CreateProduct (Kanini.Ecommerce.Api)'
2025-11-10 16:24:05.007 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/product - 201 null application/json; charset=utf-8 1361.2098ms
2025-11-10 16:24:33.567 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - null null
2025-11-10 16:24:33.582 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:33.596 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - 204 null null 28.9759ms
2025-11-10 16:24:33.703 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/product/4 - application/json 229
2025-11-10 16:24:33.716 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:33.733 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 16:24:33.751 +05:30 [INF] Route matched with {action = "UpdateProduct", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateProduct(Int32, Kanini.Ecommerce.Application.DTOs.ProductUpdateRequestDto) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:24:33.792 +05:30 [INF] Product update started for ProductId: 4
2025-11-10 16:24:33.797 +05:30 [INF] Product update started for ProductId: 4
2025-11-10 16:24:33.807 +05:30 [INF] Product update started for ProductId: 4
2025-11-10 16:24:33.964 +05:30 [INF] Executed DbCommand (137ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
FROM [Products] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:24:33.980 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Products] SET [DiscountPrice] = @p0, [Price] = @p1, [UpdatedBy] = @p2, [UpdatedOn] = @p3
OUTPUT 1
WHERE [ProductId] = @p4;
2025-11-10 16:24:33.990 +05:30 [INF] Product update completed for ProductId: 4
2025-11-10 16:24:33.993 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:24:34.036 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:24:34.045 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:24:34.047 +05:30 [INF] Product update completed for ProductId: 4
2025-11-10 16:24:34.049 +05:30 [INF] Product update completed for ProductId: 4
2025-11-10 16:24:34.051 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:24:34.058 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api) in 289.6096ms
2025-11-10 16:24:34.067 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UpdateProduct (Kanini.Ecommerce.Api)'
2025-11-10 16:24:34.076 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/product/4 - 200 null application/json; charset=utf-8 372.3337ms
2025-11-10 16:24:50.090 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/4/images - null null
2025-11-10 16:24:50.202 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:50.222 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/4/images - 204 null null 132.4117ms
2025-11-10 16:24:50.300 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/product/4/images - multipart/form-data; boundary=----WebKitFormBoundarykDin3fJ2t6Ukvc6A 1127741
2025-11-10 16:24:50.308 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:50.319 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UploadProductImages (Kanini.Ecommerce.Api)'
2025-11-10 16:24:50.454 +05:30 [INF] Route matched with {action = "UploadProductImages", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadProductImages(Int32, System.Collections.Generic.List`1[Microsoft.AspNetCore.Http.IFormFile]) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:24:50.740 +05:30 [INF] Product image upload started for ProductId: 4. Count: 2
2025-11-10 16:24:50.763 +05:30 [INF] Product image upload started for ProductId: 4. Count: 2
2025-11-10 16:24:50.797 +05:30 [INF] Product image upload started for ProductId: 4. Count: 2
2025-11-10 16:24:50.890 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@p0='?' (Size = 200), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 500), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = Int32), @p10='?' (Size = 100), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (Size = 200), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32), @p19='?' (Size = 500), @p20='?' (DbType = Boolean), @p21='?' (DbType = Boolean), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Size = 100), @p25='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [ProductImages] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, 0),
(@p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, 1)) AS i ([AltText], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DisplayOrder], [ImagePath], [IsDeleted], [IsPrimary], [ProductId], [TenantId], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([AltText], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DisplayOrder], [ImagePath], [IsDeleted], [IsPrimary], [ProductId], [TenantId], [UpdatedBy], [UpdatedOn])
VALUES (i.[AltText], i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DisplayOrder], i.[ImagePath], i.[IsDeleted], i.[IsPrimary], i.[ProductId], i.[TenantId], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[ImageId], i._Position;
2025-11-10 16:24:50.902 +05:30 [INF] Product image upload completed for ProductId: 4. Count: 2
2025-11-10 16:24:50.904 +05:30 [INF] Product image upload completed for ProductId: 4. Count: 2
2025-11-10 16:24:50.907 +05:30 [INF] Product image upload completed for ProductId: 4. Count: 2
2025-11-10 16:24:50.912 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType5`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 16:24:50.921 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.UploadProductImages (Kanini.Ecommerce.Api) in 382.1209ms
2025-11-10 16:24:50.931 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.UploadProductImages (Kanini.Ecommerce.Api)'
2025-11-10 16:24:50.972 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/product/4/images - 200 null application/json; charset=utf-8 671.5507ms
2025-11-10 16:24:50.981 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:24:51.089 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 16:24:51.149 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:51.156 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:51.169 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/vendor/1013 - 204 null null 79.7947ms
2025-11-10 16:24:51.184 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 202.9411ms
2025-11-10 16:24:51.256 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - null null
2025-11-10 16:24:51.346 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:24:51.353 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:51.356 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:24:51.361 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 16:24:51.364 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:24:51.369 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:24:51.374 +05:30 [INF] Route matched with {action = "GetProductsByVendor", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductsByVendor(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:24:51.380 +05:30 [INF] Getting all categories
2025-11-10 16:24:51.384 +05:30 [INF] Getting all categories started
2025-11-10 16:24:51.386 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:24:51.385 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 16:24:51.393 +05:30 [INF] Getting products by vendor started for VendorId: 1013
2025-11-10 16:24:51.432 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:24:51.434 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:24:51.435 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:24:51.437 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:24:51.445 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 71.4895ms
2025-11-10 16:24:51.450 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:24:51.454 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 108.0562ms
2025-11-10 16:24:51.469 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
FROM [Vendors] AS [v]
WHERE [v].[IsDeleted] = CAST(0 AS BIT) AND [v].[UserId] = @__userId_0 AND [v].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:24:51.488 +05:30 [INF] Converted UserId 1013 to VendorId 1007 for product fetch
2025-11-10 16:24:51.501 +05:30 [INF] Getting products by vendor started for VendorId: 1007
2025-11-10 16:24:51.554 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:24:51.570 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:24:51.601 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 2 products
2025-11-10 16:24:51.613 +05:30 [INF] Getting products by vendor completed for VendorId: 1007. Found 2 products
2025-11-10 16:24:51.616 +05:30 [INF] Getting products by vendor completed for VendorId: 1013. Found 2 products
2025-11-10 16:24:51.621 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:24:51.630 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api) in 247.9776ms
2025-11-10 16:24:51.634 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductsByVendor (Kanini.Ecommerce.Api)'
2025-11-10 16:24:51.638 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/vendor/1013 - 200 null application/json; charset=utf-8 381.9513ms
2025-11-10 16:24:51.737 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 16:24:51.737 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - null null
2025-11-10 16:24:52.222 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg'
2025-11-10 16:24:52.335 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'
2025-11-10 16:24:52.419 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - null null
2025-11-10 16:24:52.451 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 200 12112 image/jpeg 714.387ms
2025-11-10 16:24:52.460 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - 200 1115297 image/jpeg 722.6916ms
2025-11-10 16:24:52.516 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'
2025-11-10 16:24:52.550 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - 200 1115297 image/jpeg 131.3864ms
2025-11-10 16:25:05.114 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:25:05.114 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:25:05.118 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:25:05.143 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.125 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.148 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 34.1855ms
2025-11-10 16:25:05.118 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:25:05.146 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 28.2373ms
2025-11-10 16:25:05.131 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.168 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:25:05.178 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.205 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 87.1302ms
2025-11-10 16:25:05.195 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 81.1393ms
2025-11-10 16:25:05.200 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.192 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:25:05.225 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:05.232 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.243 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
2025-11-10 16:25:05.250 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.245 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:05.257 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:05.266 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
2025-11-10 16:25:05.276 +05:30 [INF] Getting all products started
2025-11-10 16:25:05.281 +05:30 [INF] Getting all products started
2025-11-10 16:25:05.282 +05:30 [INF] Getting all products started
2025-11-10 16:25:05.280 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.292 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:25:05.297 +05:30 [INF] Getting all categories
2025-11-10 16:25:05.300 +05:30 [INF] Getting all categories started
2025-11-10 16:25:05.306 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:25:05.310 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:05.312 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:25:05.315 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:05.316 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:05.317 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:05.328 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:05.330 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 33.4367ms
2025-11-10 16:25:05.341 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:05.342 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:25:05.354 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.346 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:05.344 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.357 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:05.360 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:05.362 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 170.9009ms
2025-11-10 16:25:05.373 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
2025-11-10 16:25:05.374 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:05.383 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.392 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 116.5528ms
2025-11-10 16:25:05.394 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:25:05.396 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:25:05.397 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.401 +05:30 [INF] Getting all categories
2025-11-10 16:25:05.411 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:05.413 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 244.8158ms
2025-11-10 16:25:05.414 +05:30 [INF] Getting all categories started
2025-11-10 16:25:05.417 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:05.429 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:25:05.442 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:05'.
2025-11-10 16:25:05.445 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.446 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:05.450 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:25:05.447 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:05.458 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:05.465 +05:30 [INF] Getting all products started
2025-11-10 16:25:05.467 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:05.474 +05:30 [INF] Getting all products started
2025-11-10 16:25:05.477 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 76.2198ms
2025-11-10 16:25:05.479 +05:30 [INF] Getting all products started
2025-11-10 16:25:05.481 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.487 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 145.3574ms
2025-11-10 16:25:05.496 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:05.542 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:05.557 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:05.544 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 16:25:05.560 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:05.566 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:05.572 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:05.574 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg'
2025-11-10 16:25:05.577 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 113.3923ms
2025-11-10 16:25:05.588 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:05.593 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 197.5939ms
2025-11-10 16:25:05.582 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 200 12112 image/jpeg 37.7426ms
2025-11-10 16:25:14.167 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - null null
2025-11-10 16:25:14.169 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - null null
2025-11-10 16:25:14.180 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:14.186 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:14.195 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - 204 null null 26.1908ms
2025-11-10 16:25:14.190 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - 204 null null 22.7326ms
2025-11-10 16:25:14.215 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/4 - null null
2025-11-10 16:25:14.231 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:14.233 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:14.246 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:14'.
2025-11-10 16:25:14.248 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:14.251 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:14.261 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:25:14.263 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:25:14.265 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:25:14.278 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:14.289 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:25:14.293 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:25:14.297 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:25:14.299 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:25:14.302 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 41.7628ms
2025-11-10 16:25:14.309 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/4 - null null
2025-11-10 16:25:14.310 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:14.316 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:14.318 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/4 - 200 null application/json; charset=utf-8 102.969ms
2025-11-10 16:25:14.333 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:14'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:14.351 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:14'.
2025-11-10 16:25:14.359 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:14.369 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - null null
2025-11-10 16:25:14.377 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:14.402 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'
2025-11-10 16:25:14.429 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - 200 1115297 image/jpeg 60.4226ms
2025-11-10 16:25:14.426 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:25:14.442 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:25:14.444 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:25:14.450 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:14.463 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:25:14.468 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:25:14.470 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:25:14.475 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:25:14.480 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 65.7062ms
2025-11-10 16:25:14.484 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:14.492 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/4 - 200 null application/json; charset=utf-8 183.0473ms
2025-11-10 16:25:31.365 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:25:31.365 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:25:31.366 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:25:31.400 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.402 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 36.5655ms
2025-11-10 16:25:31.385 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.420 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 54.1402ms
2025-11-10 16:25:31.381 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.366 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:25:31.420 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:25:31.433 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 67.9022ms
2025-11-10 16:25:31.453 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:25:31.445 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.439 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.459 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.467 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:31.468 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 102.3416ms
2025-11-10 16:25:31.470 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:31.476 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:31'.
2025-11-10 16:25:31.501 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:31'.
2025-11-10 16:25:31.503 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:31.506 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:31.508 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:31.515 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:25:31.519 +05:30 [INF] Getting all products started
2025-11-10 16:25:31.524 +05:30 [INF] Getting all categories
2025-11-10 16:25:31.529 +05:30 [INF] Getting all categories started
2025-11-10 16:25:31.532 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:25:31.525 +05:30 [INF] Getting all products started
2025-11-10 16:25:31.537 +05:30 [INF] Getting all products started
2025-11-10 16:25:31.603 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:31.771 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:25:31.775 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:31.784 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:31.789 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 265.7374ms
2025-11-10 16:25:31.833 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:25:31.835 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:31.847 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 393.0558ms
2025-11-10 16:25:31.841 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:31.841 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:31.871 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:31'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:31.884 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:31'.
2025-11-10 16:25:31.887 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:31.892 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:25:31.901 +05:30 [INF] Getting all categories
2025-11-10 16:25:31.903 +05:30 [INF] Getting all categories started
2025-11-10 16:25:31.905 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:25:31.917 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:31.936 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:31.951 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:31.955 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:25:31.958 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:31.969 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:25:31.972 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:31.974 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:31.988 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:32.003 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 102.1615ms
2025-11-10 16:25:32.007 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 488.4559ms
2025-11-10 16:25:32.020 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:25:32.040 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:32.033 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:32.025 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:25:32.054 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 221.3433ms
2025-11-10 16:25:32.051 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 630.8929ms
2025-11-10 16:25:32.048 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:32.119 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:32'.
2025-11-10 16:25:32.122 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:32.141 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:32.157 +05:30 [INF] Getting all products started
2025-11-10 16:25:32.173 +05:30 [INF] Getting all products started
2025-11-10 16:25:32.175 +05:30 [INF] Getting all products started
2025-11-10 16:25:32.203 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:32.219 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:32.239 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:32.249 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:32.258 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:25:32.269 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:25:32.274 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 116.9553ms
2025-11-10 16:25:32.283 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:25:32.289 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 268.2569ms
2025-11-10 16:25:34.999 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:25:35.011 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:25:35.023 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:35.014 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:35.027 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 16.3977ms
2025-11-10 16:25:35.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 29.6682ms
2025-11-10 16:25:35.048 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:25:35.053 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:35.057 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:35.067 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:35'.
2025-11-10 16:25:35.069 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:35.076 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:35.082 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:25:35.084 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:25:35.086 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:25:35.107 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:35.116 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:25:35.118 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:25:35.120 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:25:35.126 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:25:35.130 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 49.0149ms
2025-11-10 16:25:35.133 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:25:35.134 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:35.143 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:25:35.151 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:35'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:25:35.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 97.8452ms
2025-11-10 16:25:35.178 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 10:55:35'.
2025-11-10 16:25:35.182 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:35.184 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:25:35.195 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:25:35.203 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:25:35.219 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:25:35.276 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:25:35.301 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:25:35.309 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:25:35.312 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:25:35.317 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:25:35.320 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 125.3902ms
2025-11-10 16:25:35.329 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:25:35.332 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 199.0754ms
2025-11-10 16:32:25.456 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:32:25.461 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:32:25.467 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 11.5917ms
2025-11-10 16:32:25.473 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:32:25.485 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:32:25.494 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 11:02:25'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:32:25.526 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 11:02:25'.
2025-11-10 16:32:25.593 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 16:32:25.741 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 16:32:25.752 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 278.9642ms
2025-11-10 16:32:25.850 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - null null
2025-11-10 16:32:25.855 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:32:25.862 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - 204 null null 11.85ms
2025-11-10 16:32:25.874 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 16:32:26.152 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:32:26.155 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 11:02:26'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 16:32:26.203 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 09:56:20', Current time (UTC): '10-11-2025 11:02:26'.
2025-11-10 16:32:26.223 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 16:32:26.226 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 16:32:26.243 +05:30 [INF] Token refresh attempt started
2025-11-10 16:32:26.244 +05:30 [INF] Token refresh attempt started
2025-11-10 16:32:26.253 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 16:32:26.424 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 16:32:26.426 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 16:32:26.441 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 16:32:26.534 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 16:32:26.547 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 16:32:26.752 +05:30 [INF] Executed DbCommand (200ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 16:32:26.768 +05:30 [INF] Refresh token created successfully with Id: 33
2025-11-10 16:32:26.773 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 16:32:26.775 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 16:32:26.787 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 16:32:26.791 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 552.263ms
2025-11-10 16:32:26.804 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 16:32:26.809 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 935.1988ms
2025-11-10 16:32:26.841 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:32:26.856 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:32:26.859 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:32:26.889 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:32:26.927 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:32:26.954 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:32:26.980 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:32:27.060 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:32:27.102 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:32:27.105 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:32:27.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:32:27.120 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 212.1883ms
2025-11-10 16:32:27.125 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:32:27.138 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 297.0805ms
2025-11-10 16:33:56.626 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:33:56.638 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:33:56.640 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:33:56.645 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 19.6521ms
2025-11-10 16:33:56.645 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:33:56.658 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:33:56.662 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 23.869ms
2025-11-10 16:33:56.677 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:33:56.688 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:33:56.691 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:33:56.697 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:33:56.699 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:33:56.706 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:33:58.475 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:33:58.477 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:33:58.479 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:33:58.483 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:33:58.486 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1791.2382ms
2025-11-10 16:33:58.488 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:33:58.489 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:33:58.494 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:33:58.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 1837.6174ms
2025-11-10 16:33:58.502 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:33:58.511 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:33:58.522 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:33:58.524 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:33:58.526 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 16:33:58.529 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:33:58.531 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:33:58.535 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 16:33:58.537 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:33:58.540 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 23.8925ms
2025-11-10 16:33:58.544 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:33:58.547 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 58.4263ms
2025-11-10 16:34:14.993 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:34:14.997 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:34:15.005 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:34:15.009 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:34:15.047 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.032 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.052 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 55.4199ms
2025-11-10 16:34:15.063 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:34:15.049 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 40.1212ms
2025-11-10 16:34:15.037 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.028 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.071 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.082 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:34:15.100 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.104 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.094 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.084 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 79.4691ms
2025-11-10 16:34:15.086 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 92.4023ms
2025-11-10 16:34:15.110 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:34:15.112 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:34:15.129 +05:30 [INF] Getting all products started
2025-11-10 16:34:15.133 +05:30 [INF] Getting all categories
2025-11-10 16:34:15.134 +05:30 [INF] Getting all products started
2025-11-10 16:34:15.136 +05:30 [INF] Getting all categories started
2025-11-10 16:34:15.141 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:34:15.137 +05:30 [INF] Getting all products started
2025-11-10 16:34:15.152 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:34:15.154 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:34:15.159 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:34:15.162 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:34:15.165 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 32.5571ms
2025-11-10 16:34:15.167 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:34:15.168 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:34:15.170 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.179 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:34:15.182 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.183 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 120.2178ms
2025-11-10 16:34:15.188 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:34:15.191 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.198 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:34:15.199 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:34:15.201 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:34:15.205 +05:30 [INF] Getting all categories
2025-11-10 16:34:15.208 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:34:15.209 +05:30 [INF] Getting all categories started
2025-11-10 16:34:15.211 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 82.4666ms
2025-11-10 16:34:15.213 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:34:15.213 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:34:15.215 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.218 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:34:15.221 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:15.225 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 142.7037ms
2025-11-10 16:34:15.227 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:34:15.229 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.236 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:34:15.240 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:34:15.242 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:34:15.246 +05:30 [INF] Getting all products started
2025-11-10 16:34:15.251 +05:30 [INF] Getting all products started
2025-11-10 16:34:15.248 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 44.5757ms
2025-11-10 16:34:15.252 +05:30 [INF] Getting all products started
2025-11-10 16:34:15.257 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.261 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 92.9549ms
2025-11-10 16:34:15.264 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:34:15.275 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:34:15.280 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:34:15.282 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:34:15.291 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:34:15.293 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:34:15.296 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 50.4562ms
2025-11-10 16:34:15.299 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:34:15.301 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 87.9199ms
2025-11-10 16:34:15.326 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 16:34:15.333 +05:30 [INF] The file /images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg was not modified
2025-11-10 16:34:15.335 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 304 null image/jpeg 9.2673ms
2025-11-10 16:34:18.914 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:34:18.936 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:18.941 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 26.3898ms
2025-11-10 16:34:18.954 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:34:18.961 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:34:18.963 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:34:18.979 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:34:18.997 +05:30 [INF] Adding item to cart for CustomerId: 1016, ProductId: 3
2025-11-10 16:34:19.006 +05:30 [INF] Adding item to cart for CustomerId: 1016, ProductId: 3
2025-11-10 16:34:19.008 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:34:19.128 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:34:19.138 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:34:19.468 +05:30 [INF] Adding item to cart for CustomerId: 1016, ProductId: 3
2025-11-10 16:34:20.771 +05:30 [INF] Executed DbCommand (1,252ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 16:34:21.324 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cart_Customers_CustomerId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c394c8a-27d8-475d-b658-d4b33c0ec7ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cart_Customers_CustomerId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c394c8a-27d8-475d-b658-d4b33c0ec7ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 16:34:21.400 +05:30 [ERR] Failed to add item to cart: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cart_Customers_CustomerId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c394c8a-27d8-475d-b658-d4b33c0ec7ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Carts.CartRepository.AddToCartAsync(Cart cartItem) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Cart\CartRepository.cs:line 110
2025-11-10 16:34:21.522 +05:30 [ERR] Failed to add item to cart: Database operation failed
2025-11-10 16:34:21.541 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:34:21.558 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 2566.1922ms
2025-11-10 16:34:21.565 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:34:21.568 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 2613.556ms
2025-11-10 16:35:00.710 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:35:00.719 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:35:00.727 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:35:00.789 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 78.9211ms
2025-11-10 16:35:00.813 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:35:00.781 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:35:00.827 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 107.4886ms
2025-11-10 16:35:00.825 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:35:00.840 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:35:00.847 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:35:00.887 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:00.893 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:00.895 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:00.914 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:35:00.927 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:00.928 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:00.931 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:00.939 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:35:00.942 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 57.0194ms
2025-11-10 16:35:00.945 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:35:00.957 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:35:00.946 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:35:00.973 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 160.3364ms
2025-11-10 16:35:00.961 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:35:01.012 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:35:01.026 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:01.027 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:01.030 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:01.054 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:35:01.072 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:01.074 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:01.078 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:01.080 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:35:01.092 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 66.7872ms
2025-11-10 16:35:01.097 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:35:01.141 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 196.5508ms
2025-11-10 16:35:05.729 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:35:05.735 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:35:05.738 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 8.4814ms
2025-11-10 16:35:05.750 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:35:05.772 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:35:05.801 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:35:05.806 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:35:05.821 +05:30 [INF] Adding item to cart for CustomerId: 1016, ProductId: 3
2025-11-10 16:35:05.839 +05:30 [INF] Adding item to cart for CustomerId: 1016, ProductId: 3
2025-11-10 16:35:05.919 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:35:05.936 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:35:05.946 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:35:05.954 +05:30 [INF] Adding item to cart for CustomerId: 1016, ProductId: 3
2025-11-10 16:35:05.968 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 16:35:05.980 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cart_Customers_CustomerId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c394c8a-27d8-475d-b658-d4b33c0ec7ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cart_Customers_CustomerId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c394c8a-27d8-475d-b658-d4b33c0ec7ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 16:35:06.034 +05:30 [ERR] Failed to add item to cart: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Cart_Customers_CustomerId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Customers", column 'CustomerId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:3c394c8a-27d8-475d-b658-d4b33c0ec7ac
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Carts.CartRepository.AddToCartAsync(Cart cartItem) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Cart\CartRepository.cs:line 110
2025-11-10 16:35:06.067 +05:30 [ERR] Failed to add item to cart: Database operation failed
2025-11-10 16:35:06.071 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:35:06.079 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 259.4182ms
2025-11-10 16:35:06.116 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:35:06.118 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 368.2409ms
2025-11-10 16:38:05.679 +05:30 [INF] Application is shutting down...
2025-11-10 16:39:29.549 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 16:39:30.452 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 16:39:30.912 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 16:39:31.132 +05:30 [INF] Hosting environment: Development
2025-11-10 16:39:31.151 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 16:39:33.656 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:39:33.656 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:39:33.656 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:39:33.774 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 16:39:33.785 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:33.787 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:33.792 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:33.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 191.3719ms
2025-11-10 16:39:33.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 191.3229ms
2025-11-10 16:39:33.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 191.2373ms
2025-11-10 16:39:34.206 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:39:34.223 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:39:34.254 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:34.256 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:35.074 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:39:35.080 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:39:35.107 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:39:36.856 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:39:37.404 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:37.411 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:39:37.414 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:37.448 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:40.013 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 16:39:41.622 +05:30 [INF] Executed DbCommand (174ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:39:41.855 +05:30 [INF] Executed DbCommand (425ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:39:42.024 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:42.462 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:39:42.500 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:39:42.514 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:42.556 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:42.571 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:39:42.585 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:39:42.609 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:39:42.705 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:39:42.735 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:39:42.738 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:39:42.742 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:39:42.744 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:39:42.745 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 5872.0798ms
2025-11-10 16:39:42.751 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:42.758 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:39:42.761 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 7644.321ms
2025-11-10 16:39:42.766 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:39:42.776 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:39:42.786 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 8562.6773ms
2025-11-10 16:39:42.786 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:39:42.789 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 8583.5259ms
2025-11-10 16:39:42.812 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:42.818 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:42.821 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:43.056 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:39:43.095 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:43.129 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:43.139 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:43.142 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:39:43.154 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 347.6053ms
2025-11-10 16:39:43.166 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:39:43.172 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 429.2427ms
2025-11-10 16:39:43.212 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 16:39:43.222 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 16:39:43.266 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 16:39:43.266 +05:30 [INF] The file /images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg was not modified
2025-11-10 16:39:43.270 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 57.8166ms
2025-11-10 16:39:43.272 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 304 null image/jpeg 50.4791ms
2025-11-10 16:39:48.288 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - null null
2025-11-10 16:39:48.417 +05:30 [INF] The file /images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg was not modified
2025-11-10 16:39:48.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_0dd99105673342199275ee72da883226_pickle.jpg - 304 null image/jpeg 138.0294ms
2025-11-10 16:39:52.078 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:39:52.098 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:52.188 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 110.1317ms
2025-11-10 16:39:52.207 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:39:52.346 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:39:52.363 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:39:52.377 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:39:52.440 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:39:52.459 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:39:52.473 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:39:52.477 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:39:52.488 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:39:52.490 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:39:52.506 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:39:52.513 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:39:52.570 +05:30 [INF] Creating cart item - CustomerId: 1003, ProductId: 3, Quantity: 1
2025-11-10 16:39:52.574 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:39:53.025 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 16:39:53.085 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 16:39:53.217 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy], [p0].[CreatedOn], [p0].[DeletedBy], [p0].[DeletedOn], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId], [p0].[UpdatedBy], [p0].[UpdatedOn], [p0].[VendorId], [p0].[Weight], [v0].[VendorId], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy], [v0].[CreatedOn], [v0].[CurrentPlan], [v0].[DeletedBy], [v0].[DeletedOn], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive], [v0].[IsDeleted], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status], [v0].[TaxRegistrationNumber], [v0].[TenantId], [v0].[UpdatedBy], [v0].[UpdatedOn], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
FROM [Cart] AS [c]
INNER JOIN (
    SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
    FROM [Products] AS [p]
    WHERE [p].[IsDeleted] = CAST(0 AS BIT)
) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
INNER JOIN (
    SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
    FROM [Vendors] AS [v]
    WHERE [v].[IsDeleted] = CAST(0 AS BIT)
) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:39:53.452 +05:30 [ERR] Failed to add item to cart: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method1152(Closure, Object, CartItemDto, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.AddToCartAsync(Int32 customerId, AddToCartRequestDto request, String createdBy) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 157
2025-11-10 16:39:53.498 +05:30 [ERR] Failed to add item to cart: An unexpected error occurred
2025-11-10 16:39:53.502 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:39:53.538 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 1153.4312ms
2025-11-10 16:39:53.542 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:39:53.548 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 1340.956ms
2025-11-10 16:42:15.294 +05:30 [INF] Application is shutting down...
2025-11-10 16:42:33.703 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 16:42:33.982 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 16:42:33.988 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 16:42:33.993 +05:30 [INF] Hosting environment: Development
2025-11-10 16:42:33.995 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 16:42:40.894 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:42:40.983 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 16:42:40.986 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:42:41.000 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 106.5076ms
2025-11-10 16:42:41.092 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:42:41.155 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:42:41.396 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:42:41.426 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:42:41.741 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:42:43.172 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 16:42:45.077 +05:30 [INF] Executed DbCommand (248ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:42:45.388 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:42:45.394 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:42:45.410 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:42:45.433 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:42:45.642 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:42:45.699 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:42:46.066 +05:30 [ERR] Failed to add item to cart: Product already exists in cart
2025-11-10 16:42:46.078 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:42:46.159 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 4712.204ms
2025-11-10 16:42:46.163 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:42:46.284 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 5191.7979ms
2025-11-10 16:43:00.656 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:43:00.672 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:43:00.675 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 18.6569ms
2025-11-10 16:43:00.692 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:43:00.951 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:43:00.970 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:43:00.979 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:43:01.013 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:43:01.075 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:43:01.087 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:43:01.089 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:43:01.091 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:43:01.094 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:43:01.364 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:43:01.372 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:43:01.378 +05:30 [ERR] Failed to add item to cart: Product already exists in cart
2025-11-10 16:43:01.384 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:43:01.387 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 393.4152ms
2025-11-10 16:43:01.394 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:43:01.405 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 712.1806ms
2025-11-10 16:43:47.264 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:43:47.284 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:43:47.286 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 22.1613ms
2025-11-10 16:43:47.348 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:43:47.386 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:43:47.403 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:43:47.432 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:43:47.469 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:43:47.710 +05:30 [INF] Executed DbCommand (56ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:43:47.717 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:43:47.720 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:43:47.725 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:43:47.728 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:43:47.744 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:43:47.751 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:43:47.762 +05:30 [ERR] Failed to add item to cart: Product already exists in cart
2025-11-10 16:43:47.776 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:43:47.797 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 360.4797ms
2025-11-10 16:43:47.931 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:43:47.940 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 591.7409ms
2025-11-10 16:45:22.480 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:45:22.481 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:45:22.484 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:45:22.669 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:22.683 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:22.697 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:22.701 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 220.8833ms
2025-11-10 16:45:22.751 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 269.9921ms
2025-11-10 16:45:22.816 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 318.0086ms
2025-11-10 16:45:24.897 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:45:24.906 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:45:24.930 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:24.930 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:24.936 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:45:24.937 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:45:24.959 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:45:24.961 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:45:24.977 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:45:24.993 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:25.022 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:25.023 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:45:25.025 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:25.040 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:45:25.046 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:45:25.060 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:45:25.065 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:45:25.076 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:45:25.090 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:25.130 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:25.138 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:25.141 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:45:25.226 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 237.9825ms
2025-11-10 16:45:25.229 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:45:25.231 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:45:25.240 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:25.242 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 345.2594ms
2025-11-10 16:45:25.244 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:45:25.259 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:45:25.266 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:25.269 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:25.273 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:25.306 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:45:25.313 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:25.322 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:25.324 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:25.326 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:45:25.333 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 69.261ms
2025-11-10 16:45:25.343 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:45:25.345 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 116.5954ms
2025-11-10 16:45:25.538 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:45:25.554 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method453(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method452(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method452(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 41
2025-11-10 16:45:25.647 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:45:25.654 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:45:25.657 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 682.8034ms
2025-11-10 16:45:25.661 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:45:25.669 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 762.7067ms
2025-11-10 16:45:56.901 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:45:56.907 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:56.917 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 16.0797ms
2025-11-10 16:45:57.007 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:45:57.079 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:45:57.104 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:45:57.107 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:45:57.114 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:45:57.143 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:45:57.163 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:45:57.170 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:45:57.173 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:45:57.175 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:45:57.190 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:45:57.196 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:45:57.208 +05:30 [ERR] Failed to add item to cart: Product already exists in cart
2025-11-10 16:45:57.212 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:45:57.220 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 105.2075ms
2025-11-10 16:45:57.225 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:45:57.227 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 220.5897ms
2025-11-10 16:46:04.818 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:46:04.825 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:46:04.889 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:46:04.897 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:46:04.899 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 80.6395ms
2025-11-10 16:46:04.914 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 89.234ms
2025-11-10 16:46:04.927 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:46:04.951 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:46:04.961 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:46:04.965 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:46:04.999 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:46:05.065 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:46:05.124 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:46:05.128 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:46:05.137 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:46:05.141 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:46:05.225 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:46:05.227 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method453(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method452(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method452(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 41
2025-11-10 16:46:05.261 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:46:05.264 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:46:05.277 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 279.1867ms
2025-11-10 16:46:05.281 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:46:05.290 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:46:05.294 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:46:05.296 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 368.9176ms
2025-11-10 16:46:05.299 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:46:05.558 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:46:05.732 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:46:06.929 +05:30 [INF] Executed DbCommand (1,186ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:46:06.940 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:46:06.943 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:46:06.945 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:46:06.947 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:46:06.977 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:46:06.981 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method453(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method452(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method452(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 41
2025-11-10 16:46:07.004 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:46:07.007 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:46:07.011 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1280.3848ms
2025-11-10 16:46:07.025 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:46:07.031 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 1749.4927ms
2025-11-10 16:48:08.295 +05:30 [INF] Application is shutting down...
2025-11-10 16:50:54.132 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 16:50:54.401 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 16:50:54.408 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 16:50:54.411 +05:30 [INF] Hosting environment: Development
2025-11-10 16:50:54.412 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 16:51:06.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:51:06.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:51:06.123 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:51:06.214 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 16:51:06.217 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:06.217 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:06.217 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:06.228 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 110.6146ms
2025-11-10 16:51:06.229 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 110.5449ms
2025-11-10 16:51:06.229 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 110.6536ms
2025-11-10 16:51:06.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:51:06.305 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:06.523 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:06.541 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:51:06.753 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:51:07.785 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 16:51:09.342 +05:30 [INF] Executed DbCommand (67ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:51:09.625 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:51:09.629 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:09.691 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:09.696 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:09.977 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:51:10.001 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method358(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 42
2025-11-10 16:51:10.042 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:51:10.056 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:51:10.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:51:10.110 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:10.110 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 3557.3706ms
2025-11-10 16:51:10.117 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:10.119 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:10.134 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:51:10.164 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 3884.3437ms
2025-11-10 16:51:10.176 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:51:10.275 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:51:10.321 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:51:10.452 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:10.467 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:10.469 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:11.634 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:51:11.643 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method358(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 42
2025-11-10 16:51:11.684 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:51:11.689 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:51:11.703 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1532.0898ms
2025-11-10 16:51:11.705 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:51:11.708 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:11.720 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:11.723 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 1621.5108ms
2025-11-10 16:51:11.739 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:11.751 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:51:11.777 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:51:11.986 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:51:11.997 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:51:12.003 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:12.008 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:12.015 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:12.021 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:51:12.023 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method358(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 42
2025-11-10 16:51:12.059 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:51:12.073 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:51:12.080 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 323.3153ms
2025-11-10 16:51:12.207 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:12.217 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 511.6806ms
2025-11-10 16:51:39.159 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:51:39.160 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:51:39.162 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:51:39.231 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.247 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 85.8324ms
2025-11-10 16:51:39.200 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.162 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:51:39.198 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.308 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 148.6522ms
2025-11-10 16:51:39.324 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.360 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 198.4716ms
2025-11-10 16:51:39.345 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:51:39.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 164.9994ms
2025-11-10 16:51:39.431 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.514 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:51:39.521 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:51:39.528 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.540 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:51:39.549 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:51:39.555 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:51:39.594 +05:30 [INF] Getting all products started
2025-11-10 16:51:39.594 +05:30 [INF] Getting all categories
2025-11-10 16:51:39.611 +05:30 [INF] Getting all categories started
2025-11-10 16:51:39.614 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:51:39.623 +05:30 [INF] Getting all products started
2025-11-10 16:51:39.659 +05:30 [INF] Getting all products started
2025-11-10 16:51:39.707 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:51:39.723 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:51:39.726 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:51:39.729 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:51:39.771 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 211.0982ms
2025-11-10 16:51:39.776 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:51:39.776 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:51:39.782 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:39.795 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 449.5872ms
2025-11-10 16:51:39.798 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:51:39.947 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:51:39.985 +05:30 [INF] Getting all categories
2025-11-10 16:51:39.989 +05:30 [INF] Getting all categories started
2025-11-10 16:51:39.992 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:51:40.007 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:51:40.010 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:51:40.012 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:51:40.015 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:51:40.026 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 49.6148ms
2025-11-10 16:51:40.030 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:51:40.041 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 265.5504ms
2025-11-10 16:51:42.435 +05:30 [INF] Executed DbCommand (143ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:51:42.540 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:51:42.553 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:51:42.591 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:51:42.600 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:51:42.605 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:51:42.676 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 3106.0461ms
2025-11-10 16:51:42.685 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:51:42.691 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:51:42.702 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 3187.5641ms
2025-11-10 16:51:42.699 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:42.793 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:51:42.839 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:51:42.905 +05:30 [INF] Getting all products started
2025-11-10 16:51:42.908 +05:30 [INF] Getting all products started
2025-11-10 16:51:43.004 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 16:51:43.023 +05:30 [INF] Getting all products started
2025-11-10 16:51:43.142 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:51:43.163 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:51:43.187 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:51:43.189 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:51:43.192 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:51:43.200 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:51:43.222 +05:30 [INF] The file /images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg was not modified
2025-11-10 16:51:43.237 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 304 null image/jpeg 233.2339ms
2025-11-10 16:51:43.239 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 334.7084ms
2025-11-10 16:51:43.416 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:51:43.420 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 734.939ms
2025-11-10 16:51:45.472 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:51:45.479 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:51:45.588 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:45.601 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:45.602 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 130.6747ms
2025-11-10 16:51:45.604 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 125.3224ms
2025-11-10 16:51:45.673 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:51:45.691 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:45.701 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:45.705 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:51:45.718 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:51:45.738 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:51:45.783 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:51:45.786 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:45.788 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:45.795 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:45.822 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:51:45.831 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method358(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 42
2025-11-10 16:51:45.915 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:51:45.918 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:51:45.920 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 202.962ms
2025-11-10 16:51:45.932 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:51:45.934 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:45.948 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:51:46.003 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:45.983 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 310.5667ms
2025-11-10 16:51:46.021 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:51:46.407 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:51:46.482 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:51:46.520 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:51:46.528 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:46.530 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:46.532 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:51:46.568 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:51:46.571 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
AutoMapper.AutoMapperMappingException: Error mapping types.

Mapping types:
List`1 -> List`1
System.Collections.Generic.List`1[[Kanini.Ecommerce.Domain.Entities.Cart, Kanini.Ecommerce.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]] -> System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Cart -> CartItemDto
Kanini.Ecommerce.Domain.Entities.Cart -> Kanini.Ecommerce.Application.DTOs.CartItemDto
   at lambda_method358(Closure, Cart, CartItemDto, ResolutionContext)
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   --- End of inner exception stack trace ---
   at lambda_method357(Closure, Object, List`1, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Carts.CartService.GetCartAsync(Int32 customerId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Carts\CartService.cs:line 42
2025-11-10 16:51:46.590 +05:30 [ERR] Failed to get cart for CustomerId: 1003 - An unexpected error occurred
2025-11-10 16:51:46.597 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:51:46.599 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 193.2929ms
2025-11-10 16:51:46.604 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:51:46.615 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 400 null application/json; charset=utf-8 681.7385ms
2025-11-10 16:52:59.662 +05:30 [INF] Application is shutting down...
2025-11-10 16:53:18.006 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 16:53:18.534 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 16:53:18.539 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 16:53:18.544 +05:30 [INF] Hosting environment: Development
2025-11-10 16:53:18.546 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 16:53:24.410 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:53:24.409 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:53:24.409 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:53:24.638 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 16:53:24.643 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:24.643 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:24.643 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:24.656 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 259.3646ms
2025-11-10 16:53:24.656 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 260.6259ms
2025-11-10 16:53:24.656 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 261.7882ms
2025-11-10 16:53:24.784 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:53:24.843 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:25.271 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:25.318 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:53:25.553 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:53:26.673 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 16:53:28.123 +05:30 [INF] Executed DbCommand (68ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:53:28.381 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:53:28.384 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:28.414 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:28.418 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:28.450 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:28.523 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:28.529 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:28.545 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:53:28.630 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:53:28.634 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 3300.183ms
2025-11-10 16:53:28.637 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:28.640 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:28.653 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:28.657 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:53:28.665 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 3880.2689ms
2025-11-10 16:53:28.685 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:53:28.746 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:53:28.757 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:53:28.763 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:28.766 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:28.769 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:28.801 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:28.847 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:28.849 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:28.879 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:53:28.885 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 212.7684ms
2025-11-10 16:53:28.886 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:53:28.888 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:28.897 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:28.900 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 269.4244ms
2025-11-10 16:53:28.912 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:28.919 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:53:28.949 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:53:29.123 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:53:29.135 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:53:29.143 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:29.147 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:29.149 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:53:29.181 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:29.183 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:29.185 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:53:29.187 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:53:29.196 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 263.3923ms
2025-11-10 16:53:29.200 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:29.203 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 316.4036ms
2025-11-10 16:53:47.469 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:53:47.470 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:53:47.471 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:53:47.471 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:53:47.483 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.488 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.497 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.503 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.505 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 36.1742ms
2025-11-10 16:53:47.506 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 36.3572ms
2025-11-10 16:53:47.510 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 38.7422ms
2025-11-10 16:53:47.518 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 47.3686ms
2025-11-10 16:53:47.556 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:53:47.565 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:53:47.571 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.578 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.582 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:53:47.582 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:53:47.703 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:53:47.721 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:53:47.737 +05:30 [INF] Getting all categories
2025-11-10 16:53:47.739 +05:30 [INF] Getting all products started
2025-11-10 16:53:47.796 +05:30 [INF] Getting all categories started
2025-11-10 16:53:47.802 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:53:47.812 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:53:47.828 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:53:47.832 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:53:47.835 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:53:47.852 +05:30 [INF] Getting all products started
2025-11-10 16:53:47.857 +05:30 [INF] Getting all products started
2025-11-10 16:53:47.859 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 126.6888ms
2025-11-10 16:53:47.863 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:53:47.865 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:53:47.872 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 315.6018ms
2025-11-10 16:53:47.877 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:47.890 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:53:47.916 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:53:47.927 +05:30 [INF] Getting all categories
2025-11-10 16:53:47.930 +05:30 [INF] Getting all categories started
2025-11-10 16:53:47.934 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:53:47.956 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:53:47.958 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:47.958 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:53:47.967 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:53:47.970 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:53:47.975 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 49.5866ms
2025-11-10 16:53:47.983 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:53:47.986 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 120.2236ms
2025-11-10 16:53:48.048 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:48.057 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:53:48.082 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:53:48.085 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:53:48.087 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:53:48.097 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 360.9485ms
2025-11-10 16:53:48.100 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:53:48.102 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:53:48.108 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:48.110 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 545.1295ms
2025-11-10 16:53:48.113 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:53:48.213 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:53:48.219 +05:30 [INF] Getting all products started
2025-11-10 16:53:48.222 +05:30 [INF] Getting all products started
2025-11-10 16:53:48.239 +05:30 [INF] Getting all products started
2025-11-10 16:53:48.263 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:48.458 +05:30 [INF] Executed DbCommand (46ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:48.503 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:53:48.506 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:53:48.510 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:53:48.513 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:53:48.517 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 299.1809ms
2025-11-10 16:53:48.524 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:53:48.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 427.5383ms
2025-11-10 16:53:52.269 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:53:52.275 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - null null
2025-11-10 16:53:52.302 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:52.312 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:52.312 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 43.6349ms
2025-11-10 16:53:52.315 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/3 - 204 null null 39.8702ms
2025-11-10 16:53:52.357 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:53:52.364 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:52.366 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:53:52.384 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:53:52.421 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:52.426 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:52.433 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:52.448 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:52.457 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:52.468 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:52.473 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:52.475 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:53:52.491 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 99.2373ms
2025-11-10 16:53:52.492 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/3 - null null
2025-11-10 16:53:52.495 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:53:52.499 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:52.502 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 144.308ms
2025-11-10 16:53:52.506 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:53:52.516 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:53:52.524 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:52.528 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:52.531 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:52.574 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:52.983 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:52.989 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:52.993 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:52.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 16:53:52.998 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 477.626ms
2025-11-10 16:53:53.100 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 16:53:53.112 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/3 - 200 null application/json; charset=utf-8 619.5327ms
2025-11-10 16:53:57.134 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:53:57.143 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:57.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 11.3527ms
2025-11-10 16:53:57.158 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:53:57.167 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:53:57.171 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:57.178 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:53:57.701 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:53:57.722 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:53:57.739 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:53:57.745 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:53:57.752 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:53:57.754 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:53:57.767 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:53:57.772 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:53:57.861 +05:30 [ERR] Failed to add item to cart: Product already exists in cart
2025-11-10 16:53:57.865 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:53:57.885 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 701.3604ms
2025-11-10 16:53:57.889 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:53:57.892 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 733.5007ms
2025-11-10 16:54:07.673 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:54:07.676 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:54:07.687 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:07.691 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:07.700 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 26.7358ms
2025-11-10 16:54:07.709 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 33.3497ms
2025-11-10 16:54:07.889 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:54:07.905 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:07.908 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:07.916 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:07.921 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:07.938 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:07.951 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:07.952 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:07.955 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:07.957 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:07.992 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:07.994 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:07.997 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:07.999 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:54:08.002 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 81.4448ms
2025-11-10 16:54:08.005 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:08.007 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 118.1467ms
2025-11-10 16:54:08.501 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:54:08.507 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:08.510 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:08.513 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:08.517 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:08.527 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:08.536 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:08.539 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:08.541 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:08.543 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:08.576 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:08.580 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:08.583 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:08.587 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:54:08.598 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 81.2245ms
2025-11-10 16:54:08.603 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:08.606 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 104.5267ms
2025-11-10 16:54:11.529 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - null null
2025-11-10 16:54:11.535 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:11.550 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - 204 null null 21.0167ms
2025-11-10 16:54:11.649 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/3 - application/json 14
2025-11-10 16:54:11.654 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:11.659 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:11.677 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:11.698 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:11.720 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:11.744 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:11.747 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:11.751 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:12.221 +05:30 [INF] Executed DbCommand (121ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:12.674 +05:30 [INF] Updating cart item 3 for CustomerId: 0
2025-11-10 16:54:12.732 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:13.160 +05:30 [INF] Executed DbCommand (87ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [CartId] = @p3;
2025-11-10 16:54:13.185 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:13.203 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:13.226 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:13.228 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:13.231 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:54:13.238 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 1550.4258ms
2025-11-10 16:54:13.242 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:13.244 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/3 - 200 null application/json; charset=utf-8 1595.3096ms
2025-11-10 16:54:13.256 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:54:13.269 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:13.276 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 17.3072ms
2025-11-10 16:54:13.300 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:54:13.317 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:13.452 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:13.468 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:13.474 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:13.483 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:13.541 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:13.543 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:13.545 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:13.547 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:13.576 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:13.579 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:13.581 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:13.583 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:54:13.587 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 113.9897ms
2025-11-10 16:54:13.594 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:13.598 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 297.7909ms
2025-11-10 16:54:17.643 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - null null
2025-11-10 16:54:17.656 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:17.658 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - 204 null null 14.4411ms
2025-11-10 16:54:17.668 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/3 - application/json 14
2025-11-10 16:54:17.676 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:17.679 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:17.688 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:17.697 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:17.733 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:17.746 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:17.753 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:17.756 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:17.797 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:17.838 +05:30 [INF] Updating cart item 3 for CustomerId: 0
2025-11-10 16:54:17.851 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:17.893 +05:30 [INF] Executed DbCommand (29ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 16:54:17.900 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:17.903 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:17.919 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:17.921 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:17.923 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:54:17.926 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 231.292ms
2025-11-10 16:54:17.931 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:17.934 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/3 - 200 null application/json; charset=utf-8 265.5083ms
2025-11-10 16:54:17.947 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:54:17.975 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:17.981 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:17.986 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:18.004 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:18.027 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:18.041 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:18.044 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:18.046 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:18.048 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:18.066 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:18.069 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:18.071 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:18.073 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:54:18.076 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 72.464ms
2025-11-10 16:54:18.081 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:18.084 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 137.5939ms
2025-11-10 16:54:36.956 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - null null
2025-11-10 16:54:36.966 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:36.968 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - 204 null null 12.7809ms
2025-11-10 16:54:36.993 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/3 - application/json 14
2025-11-10 16:54:37.011 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:37.016 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:37.020 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:37.084 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:37.190 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:37.198 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:37.201 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:37.203 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:37.224 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:37.241 +05:30 [INF] Updating cart item 3 for CustomerId: 0
2025-11-10 16:54:37.246 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:37.324 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 16:54:37.330 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:37.336 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:37.355 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:37.357 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:37.359 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:54:37.362 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 335.5973ms
2025-11-10 16:54:37.582 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:37.603 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/3 - 200 null application/json; charset=utf-8 609.7793ms
2025-11-10 16:54:37.805 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:54:37.811 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:37.813 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 7.5247ms
2025-11-10 16:54:37.825 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:54:37.829 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:37.835 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:37.841 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:37.906 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:37.921 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:37.952 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:37.957 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:37.959 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:37.963 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:38.016 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:38.019 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:38.021 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:38.023 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:54:38.026 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 120.3399ms
2025-11-10 16:54:38.035 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:38.042 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 217.1321ms
2025-11-10 16:54:40.039 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/3 - application/json 14
2025-11-10 16:54:40.054 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:40.059 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:40.091 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:40.101 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:40.122 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:40.142 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:40.156 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:40.165 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:54:40.199 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:40.223 +05:30 [INF] Updating cart item 3 for CustomerId: 0
2025-11-10 16:54:40.232 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:40.295 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 16:54:40.303 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:40.308 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:54:40.365 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:40.367 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:54:40.369 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:54:40.374 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 275.0006ms
2025-11-10 16:54:40.587 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:54:40.592 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/3 - 200 null application/json; charset=utf-8 553.0991ms
2025-11-10 16:54:40.782 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:54:40.787 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:54:40.789 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:40.791 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:54:40.798 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:54:40.811 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:54:40.818 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:54:40.821 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:40.823 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:40.824 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:54:40.865 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:40.868 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:40.870 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:54:40.872 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:54:40.876 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 78.239ms
2025-11-10 16:54:40.885 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:54:40.894 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 111.8678ms
2025-11-10 16:56:28.182 +05:30 [INF] Application is shutting down...
2025-11-10 16:57:02.746 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 16:57:02.991 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 16:57:02.996 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 16:57:02.998 +05:30 [INF] Hosting environment: Development
2025-11-10 16:57:03.002 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 16:57:09.329 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:57:09.329 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:57:09.329 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:57:09.564 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 16:57:09.584 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:09.584 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:09.584 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:09.599 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 277.9767ms
2025-11-10 16:57:09.599 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 271.2669ms
2025-11-10 16:57:09.599 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 277.4479ms
2025-11-10 16:57:09.728 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:09.773 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:09.980 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:10.003 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:10.216 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:11.555 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 16:57:13.170 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:13.476 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:13.479 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:13.487 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:13.492 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:13.527 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:13.567 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:13.572 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:13.580 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:13.697 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 3674.8361ms
2025-11-10 16:57:13.702 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:13.746 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:13.779 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:13.811 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:13.828 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 4099.8472ms
2025-11-10 16:57:13.938 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:14.016 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:14.081 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:14.093 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:14.095 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:14.104 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:14.107 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:14.141 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:14.145 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:14.150 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:14.154 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:14.158 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 147.1441ms
2025-11-10 16:57:14.161 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:14.170 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:14.173 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:14.176 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 474.3991ms
2025-11-10 16:57:14.195 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:14.206 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:14.277 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:14.507 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:14.524 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:14.526 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:14.528 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:14.532 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:14.562 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:14.565 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:14.570 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:14.572 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:14.575 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 325.9968ms
2025-11-10 16:57:14.582 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:14.587 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 426.0984ms
2025-11-10 16:57:19.065 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - null null
2025-11-10 16:57:19.082 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:19.086 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/3 - 204 null null 21.659ms
2025-11-10 16:57:19.208 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/3 - application/json 14
2025-11-10 16:57:19.252 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:19.265 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:57:19.300 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:19.405 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:19.417 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:19.430 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:19.435 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:57:19.447 +05:30 [INF] Updating cart item 3 for CustomerId: 1003
2025-11-10 16:57:19.616 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:57:19.946 +05:30 [INF] Updating cart item 3 for CustomerId: 0
2025-11-10 16:57:19.962 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:20.303 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 16:57:20.335 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:57:20.368 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:57:20.401 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:57:20.403 +05:30 [INF] Cart item updated successfully for CartId: 3
2025-11-10 16:57:20.411 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:57:20.425 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 1120.8ms
2025-11-10 16:57:20.431 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 16:57:20.434 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/3 - 200 null application/json; charset=utf-8 1229.0618ms
2025-11-10 16:57:20.566 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:57:20.585 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:20.597 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 31.3229ms
2025-11-10 16:57:20.664 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:20.669 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:20.675 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:20.679 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:20.684 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:20.728 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:20.769 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:20.774 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:20.777 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:20.780 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:20.826 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:20.830 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:20.831 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:20.835 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:20.845 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 161.1998ms
2025-11-10 16:57:21.009 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:21.013 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 347.9471ms
2025-11-10 16:57:50.870 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:57:50.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 16:57:50.887 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:51.169 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:51.187 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 316.499ms
2025-11-10 16:57:51.314 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:51.295 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 420.4799ms
2025-11-10 16:57:51.468 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:51.483 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:51.485 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:51.496 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:51.515 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:51.545 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:51.548 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:51.550 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:51.553 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:51.593 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:51.599 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:51.601 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:51.603 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:51.614 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 119.0822ms
2025-11-10 16:57:51.617 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:51.619 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:51.637 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 322.4752ms
2025-11-10 16:57:51.629 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:51.859 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:51.862 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:51.866 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:51.882 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:51.915 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:51.933 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:51.935 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:51.941 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:51.967 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:51.970 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:51.975 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:51.980 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:51.984 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 118.3677ms
2025-11-10 16:57:51.997 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:52.001 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 383.8177ms
2025-11-10 16:57:55.264 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/clear - null null
2025-11-10 16:57:55.311 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:55.318 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/clear - 204 null null 54.2431ms
2025-11-10 16:57:55.378 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5108/api/cart/clear - null null
2025-11-10 16:57:55.408 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:55.413 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.ClearCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:55.462 +05:30 [INF] Route matched with {action = "ClearCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ClearCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:55.512 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:55.541 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:55.556 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:55.559 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 16:57:55.566 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 16:57:55.573 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 16:57:55.629 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CustomerId] = @__customerId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:55.656 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [IsDeleted] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 16:57:55.676 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 16:57:55.678 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 16:57:55.685 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 16:57:55.691 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 16:57:55.701 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.ClearCart (Kanini.Ecommerce.Api) in 205.189ms
2025-11-10 16:57:55.758 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.ClearCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:55.762 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5108/api/cart/clear - 200 null application/json; charset=utf-8 383.6127ms
2025-11-10 16:57:55.862 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 16:57:55.889 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:55.894 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:55.912 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:57:55.927 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:57:55.959 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:57:55.995 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:57:56.008 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:56.013 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:56.038 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 16:57:56.078 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:56.084 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:56.087 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 16:57:56.089 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 16:57:56.092 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 165.6503ms
2025-11-10 16:57:56.095 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 16:57:56.105 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 242.6387ms
2025-11-10 16:57:57.748 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:57:57.749 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:57:57.771 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 16:57:57.772 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 16:57:57.937 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:57.952 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:57.957 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:57.968 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:57.970 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 221.8894ms
2025-11-10 16:57:57.972 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 222.5485ms
2025-11-10 16:57:57.975 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 203.2338ms
2025-11-10 16:57:58.042 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:57:57.986 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 213.9231ms
2025-11-10 16:57:58.268 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:58.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:57:58.276 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:57:58.284 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:58.288 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:57:58.292 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:57:58.302 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:57:58.306 +05:30 [INF] Getting all categories
2025-11-10 16:57:58.324 +05:30 [INF] Getting all products started
2025-11-10 16:57:58.332 +05:30 [INF] Getting all categories started
2025-11-10 16:57:58.337 +05:30 [INF] Getting all products started
2025-11-10 16:57:58.338 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:57:58.342 +05:30 [INF] Getting all products started
2025-11-10 16:57:58.359 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:57:58.382 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:57:58.384 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:57:58.387 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:57:58.403 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:57:58.407 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 104.9912ms
2025-11-10 16:57:58.423 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 16:57:58.423 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:57:58.423 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:57:58.432 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:58.504 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:57:58.510 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 468.3799ms
2025-11-10 16:57:58.521 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:57:58.563 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:57:58.571 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:57:58.567 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 16:57:58.591 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:57:58.608 +05:30 [INF] Getting all categories
2025-11-10 16:57:58.622 +05:30 [INF] Getting all categories started
2025-11-10 16:57:58.625 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 16:57:58.734 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 414.5298ms
2025-11-10 16:57:58.737 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:57:58.740 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:57:58.745 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 16:57:58.750 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 476.7042ms
2025-11-10 16:57:58.753 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 16:57:58.940 +05:30 [INF] Retrieved 2 categories
2025-11-10 16:57:58.982 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:57:59.005 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 399.2491ms
2025-11-10 16:57:58.904 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:57:59.048 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:57:59.028 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 16:57:59.072 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 647.4407ms
2025-11-10 16:57:59.067 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 16:57:58.884 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 16:57:59.173 +05:30 [INF] Getting all products started
2025-11-10 16:57:59.269 +05:30 [INF] Getting all products started
2025-11-10 16:57:59.271 +05:30 [INF] Getting all products started
2025-11-10 16:57:59.274 +05:30 [INF] The file /images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg was not modified
2025-11-10 16:57:59.281 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 304 null image/jpeg 397.4641ms
2025-11-10 16:57:59.373 +05:30 [INF] Executed DbCommand (86ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:57:59.437 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:57:59.456 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:57:59.465 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:57:59.470 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 16:57:59.472 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:57:59.483 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 310.8619ms
2025-11-10 16:57:59.491 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 16:57:59.505 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 759.6106ms
2025-11-10 16:58:00.518 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:58:00.579 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:58:00.583 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 64.6795ms
2025-11-10 16:58:00.802 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:58:00.834 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:58:00.836 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:58:00.851 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:58:00.866 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:58:00.881 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:58:00.888 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:58:00.897 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 16:58:00.903 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 16:58:00.910 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 16:58:00.920 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:58:00.931 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 16:58:00.950 +05:30 [INF] Creating cart item - CustomerId: 1003, ProductId: 4, Quantity: 1
2025-11-10 16:58:00.959 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 16:58:01.234 +05:30 [INF] Executed DbCommand (135ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 16:58:01.319 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 16:58:01.351 +05:30 [INF] Executed DbCommand (26ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 16:58:01.393 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 16:58:01.395 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 16:58:01.397 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 16:58:01.401 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 546.7272ms
2025-11-10 16:58:01.410 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:58:01.485 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 683.0607ms
2025-11-10 16:58:02.725 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:58:02.763 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:58:02.768 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:58:02.783 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:58:02.793 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:58:02.835 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:58:02.852 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:58:02.861 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:58:02.865 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:58:02.867 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:58:02.914 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:58:02.925 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:58:02.935 +05:30 [INF] Creating cart item - CustomerId: 1003, ProductId: 3, Quantity: 1
2025-11-10 16:58:02.945 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:58:03.107 +05:30 [INF] Executed DbCommand (150ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 16:58:03.254 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cart' with unique index 'IX_Cart_CustomerId_ProductId'. The duplicate key value is (1003, 3).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a605b6e-efc4-4684-8fa0-e9f0aad16470
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cart' with unique index 'IX_Cart_CustomerId_ProductId'. The duplicate key value is (1003, 3).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a605b6e-efc4-4684-8fa0-e9f0aad16470
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 16:58:03.294 +05:30 [ERR] Failed to add item to cart: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cart' with unique index 'IX_Cart_CustomerId_ProductId'. The duplicate key value is (1003, 3).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a605b6e-efc4-4684-8fa0-e9f0aad16470
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Carts.CartRepository.AddToCartAsync(Cart cartItem) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Cart\CartRepository.cs:line 110
2025-11-10 16:58:03.474 +05:30 [ERR] Failed to add item to cart: Database operation failed
2025-11-10 16:58:03.477 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:58:03.510 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 718.7805ms
2025-11-10 16:58:03.524 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:58:03.562 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 801.8282ms
2025-11-10 16:58:47.180 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 16:58:47.197 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:58:47.244 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 63.9736ms
2025-11-10 16:58:47.444 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 16:58:47.476 +05:30 [INF] CORS policy execution successful.
2025-11-10 16:58:47.479 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:58:47.485 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 16:58:47.499 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 16:58:47.528 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 16:58:47.543 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 16:58:47.545 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:58:47.550 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:58:47.552 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 16:58:47.562 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 16:58:47.573 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 16:58:47.595 +05:30 [INF] Creating cart item - CustomerId: 1003, ProductId: 3, Quantity: 1
2025-11-10 16:58:47.601 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 16:58:47.611 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 16:58:47.623 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cart' with unique index 'IX_Cart_CustomerId_ProductId'. The duplicate key value is (1003, 3).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a605b6e-efc4-4684-8fa0-e9f0aad16470
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cart' with unique index 'IX_Cart_CustomerId_ProductId'. The duplicate key value is (1003, 3).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a605b6e-efc4-4684-8fa0-e9f0aad16470
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 16:58:47.692 +05:30 [ERR] Failed to add item to cart: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert duplicate key row in object 'dbo.Cart' with unique index 'IX_Cart_CustomerId_ProductId'. The duplicate key value is (1003, 3).
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9a605b6e-efc4-4684-8fa0-e9f0aad16470
Error Number:2601,State:1,Class:14
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Carts.CartRepository.AddToCartAsync(Cart cartItem) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Cart\CartRepository.cs:line 110
2025-11-10 16:58:47.735 +05:30 [ERR] Failed to add item to cart: Database operation failed
2025-11-10 16:58:47.739 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 16:58:47.741 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 244.8012ms
2025-11-10 16:58:47.755 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 16:58:47.759 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 315.082ms
2025-11-10 17:02:40.599 +05:30 [INF] Application is shutting down...
2025-11-10 17:03:15.612 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 17:03:15.908 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 17:03:15.914 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 17:03:15.916 +05:30 [INF] Hosting environment: Development
2025-11-10 17:03:15.921 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 17:03:55.198 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 17:03:55.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 17:03:55.197 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 17:03:55.198 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 17:03:55.403 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 17:03:55.410 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:55.410 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:55.410 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:55.410 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:55.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 235.413ms
2025-11-10 17:03:55.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 235.4181ms
2025-11-10 17:03:55.425 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 235.5021ms
2025-11-10 17:03:55.426 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 240.548ms
2025-11-10 17:03:55.546 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 17:03:55.562 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 17:03:55.699 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:55.699 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:55.891 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:03:55.891 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:55'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:03:55.931 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:55'.
2025-11-10 17:03:55.932 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:55'.
2025-11-10 17:03:55.945 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 17:03:55.945 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 17:03:55.982 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 17:03:55.982 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 17:03:56.241 +05:30 [INF] Getting all categories
2025-11-10 17:03:56.241 +05:30 [INF] Getting all products started
2025-11-10 17:03:56.246 +05:30 [INF] Getting all categories started
2025-11-10 17:03:56.246 +05:30 [INF] Getting all products started
2025-11-10 17:03:56.256 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 17:03:56.256 +05:30 [INF] Getting all products started
2025-11-10 17:03:56.698 +05:30 [INF] Retrieved 2 categories
2025-11-10 17:03:56.744 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 17:03:56.747 +05:30 [INF] Retrieved 2 categories
2025-11-10 17:03:56.763 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 17:03:56.868 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 17:03:56.874 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 861.2794ms
2025-11-10 17:03:56.930 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:56.960 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 17:03:56.979 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:56'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:03:56.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 1451.6848ms
2025-11-10 17:03:57.013 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:56'.
2025-11-10 17:03:57.049 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 17:03:57.118 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 17:03:57.159 +05:30 [INF] Getting all categories
2025-11-10 17:03:57.166 +05:30 [INF] Getting all categories started
2025-11-10 17:03:57.181 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 17:03:57.224 +05:30 [INF] Retrieved 2 categories
2025-11-10 17:03:57.228 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 17:03:57.231 +05:30 [INF] Retrieved 2 categories
2025-11-10 17:03:57.235 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 17:03:57.248 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 105.385ms
2025-11-10 17:03:57.312 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 17:03:57.348 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 478.9216ms
2025-11-10 17:03:58.661 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 17:03:59.455 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 17:03:59.455 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 17:03:59.471 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:59.476 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:59.479 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 23.8838ms
2025-11-10 17:03:59.483 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 28.5264ms
2025-11-10 17:03:59.714 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 17:03:59.734 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:03:59.742 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:59'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:03:59.760 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:33:59'.
2025-11-10 17:03:59.821 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 17:03:59.836 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 17:03:59.841 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 127.6997ms
2025-11-10 17:03:59.857 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - null null
2025-11-10 17:04:00.162 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 17:04:00.169 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:00.174 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:00.175 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - 204 null null 318.2666ms
2025-11-10 17:04:00.180 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:04:00.205 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:00'.
2025-11-10 17:04:00.192 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 17:04:00.226 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 17:04:00.517 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:00.542 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 17:04:00.576 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:04:00.578 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 415.9569ms
2025-11-10 17:04:00.934 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:00'.
2025-11-10 17:04:00.942 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 17:04:00.945 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 17:04:00.956 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:00.974 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:04:00.988 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 17:04:01.006 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:00'.
2025-11-10 17:04:01.020 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 17:04:01.022 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 17:04:01.124 +05:30 [INF] Executed DbCommand (71ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 17:04:01.133 +05:30 [INF] Token refresh attempt started
2025-11-10 17:04:01.133 +05:30 [INF] Token refresh attempt started
2025-11-10 17:04:01.169 +05:30 [INF] Token refresh attempt started
2025-11-10 17:04:01.169 +05:30 [INF] Token refresh attempt started
2025-11-10 17:04:01.205 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 17:04:01.205 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 17:04:01.321 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 17:04:01.324 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 17:04:01.406 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 17:04:01.420 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 17:04:01.426 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 17:04:01.436 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 17:04:01.461 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 17:04:01.469 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 17:04:01.471 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 17:04:01.472 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 17:04:01.542 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 5555.1387ms
2025-11-10 17:04:01.583 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 17:04:01.726 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 17:04:01.742 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 17:04:01.758 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:01.791 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:01'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 17:04:01.803 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 6241.5483ms
2025-11-10 17:04:01.844 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 11:32:26', Current time (UTC): '10-11-2025 11:34:01'.
2025-11-10 17:04:01.983 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 17:04:02.009 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 17:04:02.024 +05:30 [INF] Getting all products started
2025-11-10 17:04:02.026 +05:30 [INF] Getting all products started
2025-11-10 17:04:02.039 +05:30 [INF] Getting all products started
2025-11-10 17:04:02.084 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 17:04:02.118 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 17:04:02.125 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 17:04:02.134 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 17:04:02.138 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 17:04:02.141 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 17:04:02.150 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 128.0001ms
2025-11-10 17:04:02.200 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 17:04:02.208 +05:30 [INF] Executed DbCommand (139ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 17:04:02.258 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 639.9636ms
2025-11-10 17:04:02.308 +05:30 [INF] Executed DbCommand (240ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 17:04:02.460 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 17:04:02.460 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 17:04:02.643 +05:30 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 17:04:02.706 +05:30 [INF] Executed DbCommand (138ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 17:04:02.723 +05:30 [INF] Refresh token created successfully with Id: 35
2025-11-10 17:04:02.729 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 17:04:02.732 +05:30 [INF] Refresh token created successfully with Id: 34
2025-11-10 17:04:02.738 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 17:04:02.739 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 17:04:02.741 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 17:04:02.749 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 17:04:02.756 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 17:04:02.756 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 1729.684ms
2025-11-10 17:04:02.763 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 1752.516ms
2025-11-10 17:04:02.781 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 17:04:02.773 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 17:04:02.836 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 1893.5757ms
2025-11-10 17:04:02.803 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 2611.5329ms
2025-11-10 17:04:02.872 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 17:04:02.901 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:02.933 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 17:04:02.956 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 17:04:03.034 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 17:04:03.275 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 17:04:03.566 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 17:04:03.579 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 17:04:03.585 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 17:04:03.590 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 17:04:03.634 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 17:04:03.669 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 17:04:03.672 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 17:04:03.674 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 17:04:03.689 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 683.848ms
2025-11-10 17:04:03.699 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 17:04:03.704 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 17:04:03.739 +05:30 [INF] CORS policy execution successful.
2025-11-10 17:04:03.753 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 881.1466ms
2025-11-10 17:04:03.774 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 17:04:03.981 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 17:04:04.010 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 17:04:04.056 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 17:04:04.140 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 17:04:04.164 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 17:04:04.168 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 17:04:04.171 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 17:04:04.218 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 17:04:04.220 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 17:04:04.223 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 17:04:04.231 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 17:04:04.234 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 228.7605ms
2025-11-10 17:04:04.247 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 17:04:04.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 664.8504ms
2025-11-10 17:04:58.386 +05:30 [INF] Application is shutting down...
2025-11-10 17:57:22.464 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 17:57:22.768 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 17:57:22.793 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 17:57:22.797 +05:30 [INF] Hosting environment: Development
2025-11-10 17:57:22.801 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 18:00:18.001 +05:30 [INF] Application is shutting down...
2025-11-10 18:06:59.231 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 18:06:59.444 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 18:06:59.450 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 18:06:59.452 +05:30 [INF] Hosting environment: Development
2025-11-10 18:06:59.454 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 18:08:11.770 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:08:11.773 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:08:11.773 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:08:11.918 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 18:08:11.923 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:11.923 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:11.923 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:11.937 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 178.1685ms
2025-11-10 18:08:11.937 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 165.8133ms
2025-11-10 18:08:11.937 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 162.129ms
2025-11-10 18:08:12.057 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:12.088 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.226 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 18:08:12.253 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
2025-11-10 18:08:12.262 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 18:08:12.275 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 18:08:12.278 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 220.9095ms
2025-11-10 18:08:12.289 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - null null
2025-11-10 18:08:12.299 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:12.303 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.311 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.331 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 18:08:12.370 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
2025-11-10 18:08:12.324 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - 204 null null 34.1494ms
2025-11-10 18:08:12.380 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 18:08:12.389 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 18:08:12.392 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 18:08:12.406 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.407 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 107.9658ms
2025-11-10 18:08:12.413 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 18:08:12.452 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 18:08:12.462 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:12.535 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
2025-11-10 18:08:12.543 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.578 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.626 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 18:08:12.626 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 18:08:12.636 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 18:08:12.654 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
2025-11-10 18:08:12.670 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
2025-11-10 18:08:12.678 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 18:08:12.679 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 18:08:12.689 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 18:08:12.694 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 231.7868ms
2025-11-10 18:08:12.731 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 18:08:12.731 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 18:08:12.731 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 18:08:12.772 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:12.825 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 18:08:12.878 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 12:04:02', Current time (UTC): '10-11-2025 12:38:12'.
2025-11-10 18:08:13.038 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 18:08:13.042 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 18:08:13.409 +05:30 [INF] Token refresh attempt started
2025-11-10 18:08:13.409 +05:30 [INF] Token refresh attempt started
2025-11-10 18:08:13.409 +05:30 [INF] Token refresh attempt started
2025-11-10 18:08:13.416 +05:30 [INF] Token refresh attempt started
2025-11-10 18:08:13.416 +05:30 [INF] Token refresh attempt started
2025-11-10 18:08:13.416 +05:30 [INF] Token refresh attempt started
2025-11-10 18:08:13.426 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 18:08:13.426 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 18:08:13.426 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 18:08:14.013 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 18:08:14.013 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 18:08:14.013 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 18:08:14.030 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 18:08:14.030 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 18:08:14.030 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 18:08:15.241 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 18:08:16.114 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 18:08:16.114 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 18:08:16.114 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 18:08:16.472 +05:30 [INF] Executed DbCommand (72ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 18:08:16.518 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 18:08:16.534 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 18:08:16.560 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 18:08:16.560 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 18:08:16.560 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 18:08:16.716 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 18:08:16.782 +05:30 [INF] Refresh token created successfully with Id: 38
2025-11-10 18:08:16.786 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 18:08:16.789 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 18:08:16.809 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 18:08:16.815 +05:30 [INF] Executed DbCommand (180ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 18:08:16.825 +05:30 [INF] Refresh token created successfully with Id: 37
2025-11-10 18:08:16.828 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 18:08:16.831 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 18:08:16.834 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 18:08:16.839 +05:30 [INF] Executed DbCommand (204ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 18:08:16.879 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 4041.2575ms
2025-11-10 18:08:16.880 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 3895.2111ms
2025-11-10 18:08:16.915 +05:30 [INF] Refresh token created successfully with Id: 36
2025-11-10 18:08:16.919 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 18:08:16.922 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 18:08:16.937 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 18:08:16.978 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 4588.3159ms
2025-11-10 18:08:16.978 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 4526.5945ms
2025-11-10 18:08:17.022 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 18:08:17.213 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:08:17.220 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:08:17.222 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 18:08:17.235 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:17.249 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:17.264 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 44.3204ms
2025-11-10 18:08:17.279 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:17.302 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:17.253 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 39.8045ms
2025-11-10 18:08:17.252 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 4180.3184ms
2025-11-10 18:08:17.382 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 18:08:17.385 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:17.396 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 4665.388ms
2025-11-10 18:08:17.419 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:08:17.464 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:08:17.815 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:08:17.958 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:08:17.961 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.000 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.004 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.286 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.316 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.320 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.325 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:08:18.363 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 915.5058ms
2025-11-10 18:08:18.365 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:18.368 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:18.378 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:18.385 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:18.380 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 1100.863ms
2025-11-10 18:08:18.417 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:08:18.464 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:08:18.470 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:08:18.498 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:08:18.503 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.514 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.529 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.533 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.540 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.544 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.546 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:08:18.549 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 88.3018ms
2025-11-10 18:08:18.551 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:18.553 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:18.562 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:18.564 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 198.8755ms
2025-11-10 18:08:18.650 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:18.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 18:08:18.666 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:08:18.769 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:08:18.778 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:08:18.784 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:08:18.786 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.792 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.795 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:18.797 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.799 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.801 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:18.803 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:08:18.811 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 49.3069ms
2025-11-10 18:08:18.813 +05:30 [INF] The file /images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg was not modified
2025-11-10 18:08:18.815 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:18.826 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 275.4532ms
2025-11-10 18:08:18.818 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 304 null image/jpeg 167.1096ms
2025-11-10 18:08:23.760 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/4 - null null
2025-11-10 18:08:23.790 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:23.818 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/4 - 204 null null 51.9193ms
2025-11-10 18:08:23.860 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5108/api/cart/4 - null null
2025-11-10 18:08:23.994 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:24.038 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.RemoveCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:08:24.055 +05:30 [INF] Route matched with {action = "RemoveCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RemoveCartItem(Int32) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:08:24.068 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:08:24.109 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:08:24.121 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:08:24.124 +05:30 [INF] Removing cart item 4 for CustomerId: 1003
2025-11-10 18:08:24.130 +05:30 [INF] Removing cart item 4 for CustomerId: 1003
2025-11-10 18:08:24.303 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:08:24.641 +05:30 [INF] Removing cart item 4 for CustomerId: 0
2025-11-10 18:08:24.655 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:08:24.962 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Cart]
OUTPUT 1
WHERE [CartId] = @p0;
2025-11-10 18:08:24.975 +05:30 [INF] Cart item removed successfully for CartId: 4
2025-11-10 18:08:24.979 +05:30 [INF] Cart item removed successfully for CartId: 4
2025-11-10 18:08:24.983 +05:30 [INF] Cart item removed successfully for CartId: 4
2025-11-10 18:08:24.987 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 18:08:25.001 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.RemoveCartItem (Kanini.Ecommerce.Api) in 942.2569ms
2025-11-10 18:08:25.024 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.RemoveCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:08:25.041 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5108/api/cart/4 - 200 null application/json; charset=utf-8 1181.5434ms
2025-11-10 18:08:25.116 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:08:25.126 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:25.237 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 121.3787ms
2025-11-10 18:08:25.320 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:08:25.341 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:25.369 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:25.386 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:08:25.396 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:08:25.422 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:08:25.454 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:08:25.487 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:25.489 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:25.504 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:08:25.554 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:25.559 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:25.569 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:08:25.574 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:08:25.586 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 191.3041ms
2025-11-10 18:08:25.675 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:08:25.733 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 413.1341ms
2025-11-10 18:08:38.429 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 18:08:38.436 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 18:08:38.458 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.436 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 18:08:38.479 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.436 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 18:08:38.461 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 24.8958ms
2025-11-10 18:08:38.450 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.547 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 118.4324ms
2025-11-10 18:08:38.496 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 45.0925ms
2025-11-10 18:08:38.585 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 148.926ms
2025-11-10 18:08:38.632 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 18:08:38.631 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 18:08:38.637 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.664 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.668 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 18:08:38.698 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 18:08:38.711 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 18:08:38.749 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 18:08:38.760 +05:30 [INF] Getting all categories
2025-11-10 18:08:38.760 +05:30 [INF] Getting all products started
2025-11-10 18:08:38.780 +05:30 [INF] Getting all categories started
2025-11-10 18:08:38.781 +05:30 [INF] Getting all products started
2025-11-10 18:08:38.786 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 18:08:38.825 +05:30 [INF] Getting all products started
2025-11-10 18:08:38.862 +05:30 [INF] Retrieved 2 categories
2025-11-10 18:08:38.874 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 18:08:38.879 +05:30 [INF] Retrieved 2 categories
2025-11-10 18:08:38.881 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:08:38.899 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 149.0725ms
2025-11-10 18:08:38.903 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 18:08:38.910 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 18:08:38.915 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:38.921 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 18:08:38.951 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 18:08:38.918 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 286.0235ms
2025-11-10 18:08:38.970 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:08:38.983 +05:30 [INF] Getting all categories
2025-11-10 18:08:39.054 +05:30 [INF] Getting all categories started
2025-11-10 18:08:39.064 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:08:39.066 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 18:08:39.078 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 18:08:39.096 +05:30 [INF] Retrieved 2 categories
2025-11-10 18:08:39.098 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 18:08:39.100 +05:30 [INF] Retrieved 2 categories
2025-11-10 18:08:39.103 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:08:39.111 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 18:08:39.112 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 132.773ms
2025-11-10 18:08:39.117 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 18:08:39.114 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 18:08:39.119 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 216.5245ms
2025-11-10 18:08:39.127 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:08:39.185 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 430.3999ms
2025-11-10 18:08:39.197 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 18:08:39.216 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 18:08:39.249 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 618.2652ms
2025-11-10 18:08:39.264 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:08:39.390 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 18:08:39.765 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 18:08:39.780 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 18:08:39.786 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 18:08:39.869 +05:30 [INF] Getting all products started
2025-11-10 18:08:39.883 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 118.1188ms
2025-11-10 18:08:39.885 +05:30 [INF] Getting all products started
2025-11-10 18:08:39.900 +05:30 [INF] Getting all products started
2025-11-10 18:08:40.014 +05:30 [INF] Executed DbCommand (34ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:08:40.117 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:08:40.133 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 18:08:40.137 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 18:08:40.146 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 18:08:40.148 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:08:40.160 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 292.3175ms
2025-11-10 18:08:40.250 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 18:08:40.267 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1070.0828ms
2025-11-10 18:09:14.520 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 18:09:14.527 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:14.545 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 24.4357ms
2025-11-10 18:09:14.558 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 18:09:14.594 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:14.601 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:14.636 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:09:14.694 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:09:14.725 +05:30 [INF] Executed DbCommand (16ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:09:14.761 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:09:14.772 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 18:09:14.779 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 18:09:14.793 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 18:09:14.840 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:09:14.845 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 18:09:14.903 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 18:09:14.921 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 18:09:14.933 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 18:09:14.961 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:09:15.004 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 18:09:15.007 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 18:09:15.010 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:09:15.020 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 363.6541ms
2025-11-10 18:09:15.030 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:15.040 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 481.8342ms
2025-11-10 18:09:18.397 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 18:09:18.413 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:18.416 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:18.420 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:09:18.459 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:09:18.522 +05:30 [INF] Executed DbCommand (23ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:09:18.566 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:09:18.569 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 18:09:18.572 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 18:09:18.582 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 18:09:18.600 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:09:18.606 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 18:09:18.618 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 18:09:18.635 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 18:09:18.649 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 18:09:18.682 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:09:18.716 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 18:09:18.718 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 18:09:18.721 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:09:18.724 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 266.4871ms
2025-11-10 18:09:18.733 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:18.736 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 338.3449ms
2025-11-10 18:09:24.031 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 18:09:24.045 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:24.048 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 16.6085ms
2025-11-10 18:09:24.096 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 18:09:24.134 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:24.423 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:24.426 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:09:24.431 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:09:24.477 +05:30 [INF] Executed DbCommand (38ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:09:24.489 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:09:24.491 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 18:09:24.493 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 18:09:24.495 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 18:09:24.507 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 18:09:24.512 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 18:09:24.523 +05:30 [ERR] Failed to add item to cart: Product already exists in cart
2025-11-10 18:09:24.525 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 18:09:24.547 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 117.1503ms
2025-11-10 18:09:24.557 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:24.560 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 400 null application/json; charset=utf-8 463.7939ms
2025-11-10 18:09:29.701 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:09:29.711 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:09:29.719 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:29.743 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 42.7218ms
2025-11-10 18:09:29.730 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:29.837 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 126.647ms
2025-11-10 18:09:29.855 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:09:29.894 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:29.897 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:29.900 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:09:29.945 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:09:30.027 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:09:30.114 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:09:30.117 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:09:30.122 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:09:30.131 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:09:30.169 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:09:30.171 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:09:30.174 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:09:30.180 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:09:30.184 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 245.016ms
2025-11-10 18:09:30.186 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:09:30.196 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:30.205 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 350.4794ms
2025-11-10 18:09:30.200 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:09:30.403 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:30.416 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:09:30.430 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:09:30.479 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:09:30.635 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:09:30.667 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:09:30.670 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:09:30.682 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:09:30.730 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:09:30.733 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:09:30.735 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:09:30.737 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:09:30.748 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 318.1555ms
2025-11-10 18:09:30.753 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:09:30.765 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 579.1812ms
2025-11-10 18:10:03.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/7 - null null
2025-11-10 18:10:03.127 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:03.129 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/7 - 204 null null 16.2253ms
2025-11-10 18:10:03.195 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/7 - application/json 14
2025-11-10 18:10:03.201 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:03.218 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:03.275 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:03.334 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:03.368 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:03.383 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:03.385 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:03.396 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:03.433 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:03.462 +05:30 [INF] Updating cart item 7 for CustomerId: 0
2025-11-10 18:10:03.467 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:03.596 +05:30 [INF] Executed DbCommand (117ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [CartId] = @p3;
2025-11-10 18:10:03.604 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:03.608 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:03.629 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:03.632 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:03.675 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:10:03.678 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 366.5614ms
2025-11-10 18:10:03.681 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:03.684 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/7 - 200 null application/json; charset=utf-8 489.3747ms
2025-11-10 18:10:03.747 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:10:03.764 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:03.766 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 18.249ms
2025-11-10 18:10:03.867 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:10:03.883 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:03.894 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:03.899 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:03.932 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:03.967 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:03.993 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:03.995 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:03.999 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:04.001 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:04.048 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:04.051 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:04.058 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:04.062 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:10:04.065 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 133.3391ms
2025-11-10 18:10:04.083 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:04.181 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 314.4036ms
2025-11-10 18:10:26.175 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/7 - null null
2025-11-10 18:10:26.182 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:26.189 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/7 - 204 null null 14.5143ms
2025-11-10 18:10:26.341 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/7 - application/json 14
2025-11-10 18:10:26.471 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:26.489 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:26.494 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:26.500 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:26.514 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:26.526 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:26.528 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:26.530 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:26.559 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:26.582 +05:30 [INF] Updating cart item 7 for CustomerId: 0
2025-11-10 18:10:26.592 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:26.662 +05:30 [INF] Executed DbCommand (61ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 18:10:26.673 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:26.678 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:26.703 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:26.707 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:26.709 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:10:26.714 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 216.6042ms
2025-11-10 18:10:26.726 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:26.730 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/7 - 200 null application/json; charset=utf-8 389.1474ms
2025-11-10 18:10:26.792 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:10:26.843 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:26.856 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 63.8492ms
2025-11-10 18:10:26.896 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:10:26.908 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:26.912 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:26.926 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:26.931 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:26.947 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:26.973 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:26.976 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:26.978 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:26.980 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:27.024 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:27.026 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:27.027 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:27.029 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:10:27.036 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 105.6272ms
2025-11-10 18:10:27.043 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:27.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 149.5881ms
2025-11-10 18:10:28.644 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/7 - application/json 14
2025-11-10 18:10:28.654 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:28.657 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:28.666 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:28.686 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:28.691 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:28.744 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:28.755 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:28.761 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:28.787 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:28.811 +05:30 [INF] Updating cart item 7 for CustomerId: 0
2025-11-10 18:10:28.820 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:28.832 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 18:10:28.838 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:28.841 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:28.873 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:28.875 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:28.877 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:10:28.886 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 201.075ms
2025-11-10 18:10:28.893 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:28.902 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/7 - 200 null application/json; charset=utf-8 258.8991ms
2025-11-10 18:10:29.037 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:10:29.061 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:29.103 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:29.106 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:29.122 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:29.170 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:29.188 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:29.191 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:29.197 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:29.202 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:29.206 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:29.210 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:29.215 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:29.219 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:10:29.222 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 100.9413ms
2025-11-10 18:10:29.226 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:29.237 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 199.8628ms
2025-11-10 18:10:30.334 +05:30 [INF] Request starting HTTP/1.1 PUT http://localhost:5108/api/cart/7 - application/json 14
2025-11-10 18:10:30.340 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:30.348 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:30.355 +05:30 [INF] Route matched with {action = "UpdateCartItem", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateCartItem(Int32, Kanini.Ecommerce.Application.DTOs.UpdateCartItemRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:30.389 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:30.405 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:30.458 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:30.471 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:30.473 +05:30 [INF] Updating cart item 7 for CustomerId: 1003
2025-11-10 18:10:30.486 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:30.535 +05:30 [INF] Updating cart item 7 for CustomerId: 0
2025-11-10 18:10:30.542 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:30.570 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Cart] SET [Quantity] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [CartId] = @p2;
2025-11-10 18:10:30.577 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:30.584 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 18:10:30.656 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:30.658 +05:30 [INF] Cart item updated successfully for CartId: 7
2025-11-10 18:10:30.667 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 18:10:30.673 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api) in 285.1011ms
2025-11-10 18:10:30.685 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.UpdateCartItem (Kanini.Ecommerce.Api)'
2025-11-10 18:10:30.692 +05:30 [INF] Request finished HTTP/1.1 PUT http://localhost:5108/api/cart/7 - 200 null application/json; charset=utf-8 357.6837ms
2025-11-10 18:10:30.774 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:10:30.789 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:10:30.803 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:30.840 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:10:30.907 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:10:30.921 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:10:30.952 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:10:30.955 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:30.956 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:30.962 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:10:30.970 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:30.973 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:30.982 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:10:30.984 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:10:30.988 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 81.3868ms
2025-11-10 18:10:31.050 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:10:31.089 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 314.6533ms
2025-11-10 18:14:33.350 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:14:33.351 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:14:33.363 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:14:33.369 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:14:33.375 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 24.3165ms
2025-11-10 18:14:33.374 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 23.2836ms
2025-11-10 18:14:33.382 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:14:33.397 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:14:33.400 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:14:33.408 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:14:33.416 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:14:33.443 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:14:33.455 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:14:33.460 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:14:33.462 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:14:33.464 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:14:33.483 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:14:33.485 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:14:33.487 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:14:33.490 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:14:33.493 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 76.771ms
2025-11-10 18:14:33.495 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:14:33.497 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:14:33.502 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:14:33.506 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 124.3258ms
2025-11-10 18:14:33.510 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:14:33.519 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:14:33.526 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:14:33.541 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:14:33.745 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:14:33.748 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:14:33.750 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:14:33.752 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:14:33.756 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:14:33.760 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:14:33.761 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:14:33.765 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:14:33.769 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 243.4693ms
2025-11-10 18:14:33.777 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:14:33.779 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 284.084ms
2025-11-10 18:15:16.319 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:15:16.334 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:15:16.348 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:15:16.341 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:15:16.337 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 18:15:16.351 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 16.9847ms
2025-11-10 18:15:16.354 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 34.2389ms
2025-11-10 18:15:16.376 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:15:16.359 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:15:16.384 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:15:16.388 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 50.9314ms
2025-11-10 18:15:16.391 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:15:16.405 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:15:16.412 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:15:16.451 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:15:16.473 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:15:16.475 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.477 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.480 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.520 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.523 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.526 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.528 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:15:16.531 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 121.514ms
2025-11-10 18:15:16.533 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:15:16.537 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:15:16.541 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:15:16.543 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 167.3953ms
2025-11-10 18:15:16.546 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:15:16.576 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:15:16.582 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:15:16.587 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:15:16.657 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:15:16.659 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.662 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.665 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.669 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.671 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.676 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.679 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:15:16.692 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 110.5926ms
2025-11-10 18:15:16.696 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 18:15:16.698 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:15:16.707 +05:30 [INF] CORS policy execution successful.
2025-11-10 18:15:16.714 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:15:16.710 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 177.2216ms
2025-11-10 18:15:16.719 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 18:15:16.731 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 18:15:16.735 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 18:15:16.755 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 18:15:16.757 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.759 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.762 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 18:15:16.769 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.772 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.774 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 18:15:16.776 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 18:15:16.783 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 52.5685ms
2025-11-10 18:15:16.788 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 18:15:16.791 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 94.5347ms
2025-11-10 21:17:37.515 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 21:17:38.807 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 21:17:38.814 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 21:17:38.819 +05:30 [INF] Hosting environment: Development
2025-11-10 21:17:38.822 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 21:18:58.682 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:18:58.862 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 21:18:58.866 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:18:58.931 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 318.8157ms
2025-11-10 21:18:59.011 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:18:59.071 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:19:00.118 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 13:08:16', Current time (UTC): '10-11-2025 15:49:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 21:19:00.148 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 13:08:16', Current time (UTC): '10-11-2025 15:49:00'.
2025-11-10 21:19:00.160 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 21:19:00.170 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 21:19:00.180 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 401 0 null 1168.9756ms
2025-11-10 21:19:00.209 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - null null
2025-11-10 21:19:00.219 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:19:00.221 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - 204 null null 12.0223ms
2025-11-10 21:19:00.228 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 21:19:00.240 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:19:00.246 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 13:08:16', Current time (UTC): '10-11-2025 15:49:00'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 21:19:00.256 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 13:08:16', Current time (UTC): '10-11-2025 15:49:00'.
2025-11-10 21:19:00.261 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 21:19:00.508 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 21:19:02.532 +05:30 [INF] Token refresh attempt started
2025-11-10 21:19:02.562 +05:30 [INF] Token refresh attempt started
2025-11-10 21:19:02.734 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 21:19:04.926 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 21:19:04.946 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 21:19:07.388 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 21:19:11.561 +05:30 [INF] Executed DbCommand (236ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 21:19:13.213 +05:30 [INF] Executed DbCommand (1,079ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 21:19:13.388 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 21:19:14.555 +05:30 [INF] Executed DbCommand (1,107ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 21:19:14.636 +05:30 [INF] Refresh token created successfully with Id: 39
2025-11-10 21:19:14.640 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 21:19:14.651 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 21:19:14.723 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 21:19:14.788 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 14271.6145ms
2025-11-10 21:19:14.791 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 21:19:14.807 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 14578.5644ms
2025-11-10 21:19:14.814 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:19:14.824 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:19:14.827 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 13.2741ms
2025-11-10 21:19:14.836 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:19:14.843 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:19:14.864 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:19:14.889 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:19:14.905 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:19:15.173 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:19:15.314 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:19:15.318 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:19:15.333 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:19:15.338 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:19:16.330 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:19:16.359 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:19:16.362 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:19:16.365 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:19:16.420 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1526.2023ms
2025-11-10 21:19:16.425 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:19:16.431 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 1595.2952ms
2025-11-10 21:22:42.593 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 21:22:42.654 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:42.658 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 64.4215ms
2025-11-10 21:22:42.665 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-10 21:22:42.670 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:42.672 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 21:22:42.682 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 21:22:42.836 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 21:22:42.846 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 21:22:42.853 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 21:22:43.255 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1016
2025-11-10 21:22:43.288 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 21:22:43.656 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 21:22:43.934 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 21:22:44.139 +05:30 [INF] Executed DbCommand (171ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 21:22:44.152 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 21:22:44.376 +05:30 [INF] Executed DbCommand (196ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 21:22:44.392 +05:30 [INF] Refresh token created successfully with Id: 40
2025-11-10 21:22:44.542 +05:30 [INF] Executed DbCommand (143ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 21:22:44.583 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 21:22:44.586 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 21:22:44.588 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 21:22:44.596 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 1907.2524ms
2025-11-10 21:22:44.602 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 21:22:44.609 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 1943.4596ms
2025-11-10 21:22:44.918 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:22:44.925 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:44.928 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 9.5086ms
2025-11-10 21:22:44.951 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:22:44.963 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.318 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:22:45.318 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:22:45.319 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:22:45.327 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.333 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.340 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:22:45.342 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.344 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 25.5425ms
2025-11-10 21:22:45.346 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 27.2377ms
2025-11-10 21:22:45.349 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:22:45.352 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 32.4358ms
2025-11-10 21:22:45.364 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:22:45.381 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:22:45.386 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:22:45.393 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.403 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.407 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 42.5143ms
2025-11-10 21:22:45.412 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:22:45.419 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:22:45.428 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.429 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:22:45.431 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:22:45.444 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:22:45.456 +05:30 [INF] Getting all categories
2025-11-10 21:22:45.523 +05:30 [INF] Getting all categories started
2025-11-10 21:22:45.527 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:22:45.611 +05:30 [INF] Executed DbCommand (207ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:22:45.620 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:22:45.625 +05:30 [INF] Getting all products started
2025-11-10 21:22:45.626 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:45.629 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:45.632 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:45.673 +05:30 [INF] Getting all products started
2025-11-10 21:22:45.756 +05:30 [INF] Getting all products started
2025-11-10 21:22:45.842 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:22:45.850 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:22:45.853 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:22:45.860 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:22:45.877 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 426.1635ms
2025-11-10 21:22:45.882 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:22:45.885 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:22:45.893 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:45.896 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 476.5294ms
2025-11-10 21:22:45.898 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:22:45.910 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:22:45.917 +05:30 [INF] Getting all categories
2025-11-10 21:22:45.919 +05:30 [INF] Getting all categories started
2025-11-10 21:22:45.926 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:22:45.935 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:22:45.939 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:22:45.943 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:22:45.945 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:22:45.948 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 32.2098ms
2025-11-10 21:22:45.951 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:22:45.953 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 70.3381ms
2025-11-10 21:22:46.413 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:46.416 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:46.418 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:46.423 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:22:46.429 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1050.388ms
2025-11-10 21:22:46.433 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:22:46.436 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 1485.201ms
2025-11-10 21:22:47.071 +05:30 [INF] Executed DbCommand (613ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:22:47.348 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:22:47.355 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:22:47.375 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:22:47.378 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:22:47.379 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:22:47.392 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 1956.5566ms
2025-11-10 21:22:47.394 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:22:47.395 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:22:47.400 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:47.405 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 2019.7287ms
2025-11-10 21:22:47.409 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:22:47.415 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:22:47.423 +05:30 [INF] Getting all products started
2025-11-10 21:22:47.425 +05:30 [INF] Getting all products started
2025-11-10 21:22:47.427 +05:30 [INF] Getting all products started
2025-11-10 21:22:47.463 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:22:47.480 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:22:47.495 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:22:47.499 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:22:47.507 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:22:47.510 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:22:47.513 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 90.8916ms
2025-11-10 21:22:47.522 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:22:47.526 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 131.9611ms
2025-11-10 21:22:49.123 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 21:22:49.169 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 21:22:49.666 +05:30 [INF] Sending file. Request path: '/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\3\20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg'
2025-11-10 21:22:49.666 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg'
2025-11-10 21:22:49.670 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 200 12112 image/jpeg 500.2621ms
2025-11-10 21:22:49.673 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 200 12112 image/jpeg 549.1575ms
2025-11-10 21:22:52.147 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:22:52.147 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:22:52.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:52.174 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:52.176 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 29.4681ms
2025-11-10 21:22:52.185 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 38.3444ms
2025-11-10 21:22:52.193 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:22:52.208 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:52.212 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:22:52.218 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:22:52.234 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:22:52.307 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:22:52.318 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:22:52.321 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:52.323 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:52.325 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:52.442 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:52.448 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:52.454 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:52.456 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:22:52.460 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 236.5796ms
2025-11-10 21:22:52.464 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:22:52.468 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:22:52.472 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:22:52.476 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 283.0193ms
2025-11-10 21:22:52.480 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:22:52.489 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:22:52.497 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:22:52.533 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:22:52.542 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:22:52.548 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:52.552 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:52.553 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:22:52.558 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:52.566 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:52.568 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:22:52.570 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:22:52.574 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 77.9778ms
2025-11-10 21:22:52.579 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:22:52.583 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 118.8669ms
2025-11-10 21:23:04.057 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/clear - null null
2025-11-10 21:23:04.078 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:04.081 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/clear - 204 null null 24.4702ms
2025-11-10 21:23:04.100 +05:30 [INF] Request starting HTTP/1.1 DELETE http://localhost:5108/api/cart/clear - null null
2025-11-10 21:23:04.107 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:04.116 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.ClearCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:04.127 +05:30 [INF] Route matched with {action = "ClearCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ClearCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:04.140 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:04.274 +05:30 [INF] Executed DbCommand (125ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:04.284 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:04.287 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 21:23:04.290 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 21:23:04.341 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 21:23:04.366 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CustomerId] = @__customerId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:06.307 +05:30 [INF] Executed DbCommand (1,315ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
OUTPUT 1
WHERE [CartId] = @p0;
DELETE FROM [Cart]
OUTPUT 1
WHERE [CartId] = @p1;
2025-11-10 21:23:06.403 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 21:23:06.407 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 21:23:06.409 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 21:23:06.411 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-10 21:23:06.423 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.ClearCart (Kanini.Ecommerce.Api) in 2286.4052ms
2025-11-10 21:23:06.426 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.ClearCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:06.428 +05:30 [INF] Request finished HTTP/1.1 DELETE http://localhost:5108/api/cart/clear - 200 null application/json; charset=utf-8 2328.3345ms
2025-11-10 21:23:06.441 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:23:06.450 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:06.452 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 10.2806ms
2025-11-10 21:23:06.460 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:23:06.466 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:06.468 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:06.470 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:06.481 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:06.503 +05:30 [INF] Executed DbCommand (17ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:06.540 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:06.578 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:06.580 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:06.581 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:06.619 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:06.623 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:06.628 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:06.631 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:23:06.634 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 153.541ms
2025-11-10 21:23:06.637 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:06.642 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 181.8508ms
2025-11-10 21:23:11.107 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:23:11.112 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:23:11.113 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:23:11.116 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:23:11.141 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.145 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.154 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.159 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.173 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 56.5506ms
2025-11-10 21:23:11.168 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 55.6163ms
2025-11-10 21:23:11.171 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 57.793ms
2025-11-10 21:23:11.161 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 53.9147ms
2025-11-10 21:23:11.186 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:23:11.208 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:23:11.223 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.225 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:23:11.213 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.229 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:23:11.236 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:23:11.343 +05:30 [INF] Getting all products started
2025-11-10 21:23:11.343 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:23:11.345 +05:30 [INF] Getting all products started
2025-11-10 21:23:11.353 +05:30 [INF] Getting all products started
2025-11-10 21:23:11.355 +05:30 [INF] Getting all categories
2025-11-10 21:23:11.357 +05:30 [INF] Getting all categories started
2025-11-10 21:23:11.359 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:23:11.842 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:23:11.906 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:23:11.909 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:23:11.911 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:23:11.918 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 566.7161ms
2025-11-10 21:23:11.921 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:23:11.924 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:23:11.933 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:11.936 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 750.5094ms
2025-11-10 21:23:11.940 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:23:11.957 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:23:11.968 +05:30 [INF] Getting all categories
2025-11-10 21:23:11.970 +05:30 [INF] Getting all categories started
2025-11-10 21:23:11.971 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:23:11.986 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:23:11.989 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:23:11.993 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:23:11.995 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:23:12.003 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 35.6128ms
2025-11-10 21:23:12.007 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:23:12.009 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 87.6886ms
2025-11-10 21:23:12.069 +05:30 [INF] Executed DbCommand (230ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:23:12.085 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:23:12.105 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:23:12.119 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:23:12.121 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:23:12.124 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:23:12.127 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 881.4554ms
2025-11-10 21:23:12.135 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:23:12.138 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:23:12.142 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:12.145 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 937.0033ms
2025-11-10 21:23:12.154 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:23:12.190 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:23:12.207 +05:30 [INF] Getting all products started
2025-11-10 21:23:12.215 +05:30 [INF] Getting all products started
2025-11-10 21:23:12.216 +05:30 [INF] Getting all products started
2025-11-10 21:23:12.252 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:23:12.258 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:23:12.265 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:23:12.267 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:23:12.270 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:23:12.272 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:23:12.278 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 73.4959ms
2025-11-10 21:23:12.286 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:23:12.288 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 153.9174ms
2025-11-10 21:23:14.886 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:23:14.887 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:23:14.913 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:14.938 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:15.040 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 153.1563ms
2025-11-10 21:23:15.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 222.7629ms
2025-11-10 21:23:15.132 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:23:15.222 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:15.226 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:15.294 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:15.299 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:15.495 +05:30 [INF] Executed DbCommand (118ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:15.512 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:15.525 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:15.528 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:15.530 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:15.553 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:15.556 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:15.707 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:15.742 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:23:15.965 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 666.5016ms
2025-11-10 21:23:15.970 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:23:15.978 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:15.991 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:16.124 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 991.869ms
2025-11-10 21:23:16.124 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:16.179 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:16.281 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:16.298 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:16.310 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:16.313 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:16.327 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:16.329 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:16.364 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:16.367 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:16.369 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:16.371 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:23:16.378 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 97.8455ms
2025-11-10 21:23:16.382 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:16.384 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 413.9985ms
2025-11-10 21:23:48.789 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:23:48.831 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:48.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 45.3537ms
2025-11-10 21:23:48.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:23:48.877 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:48.881 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:48.885 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:48.899 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:48.935 +05:30 [INF] Executed DbCommand (24ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:48.967 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:48.969 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:48.978 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:48.980 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.047 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.050 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.051 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.059 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:23:49.063 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 166.5157ms
2025-11-10 21:23:49.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:23:49.071 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:49.077 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:49.080 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 219.2702ms
2025-11-10 21:23:49.083 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:49.093 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:49.099 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:49.117 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:49.129 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:49.131 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.133 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.135 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.142 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.144 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.146 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.148 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:23:49.150 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 52.29ms
2025-11-10 21:23:49.151 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:23:49.154 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:49.159 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:23:49.161 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 93.7731ms
2025-11-10 21:23:49.163 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:49.171 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:23:49.176 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:23:49.183 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:23:49.191 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:23:49.193 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.194 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.196 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:23:49.198 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.200 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.202 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:23:49.204 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:23:49.208 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 32.2605ms
2025-11-10 21:23:49.211 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:23:49.213 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 61.5996ms
2025-11-10 21:24:06.829 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:24:06.830 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:24:06.833 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:24:06.864 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:06.845 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:06.868 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 38.7496ms
2025-11-10 21:24:06.833 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:24:06.884 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:06.853 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:06.866 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 33.3116ms
2025-11-10 21:24:06.885 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:24:06.887 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 53.2692ms
2025-11-10 21:24:06.888 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 58.7674ms
2025-11-10 21:24:06.902 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:24:06.903 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:06.931 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:06.933 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:24:06.935 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:24:06.936 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:24:06.939 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:24:06.948 +05:30 [INF] Getting all products started
2025-11-10 21:24:06.952 +05:30 [INF] Getting all categories
2025-11-10 21:24:06.953 +05:30 [INF] Getting all products started
2025-11-10 21:24:06.955 +05:30 [INF] Getting all categories started
2025-11-10 21:24:06.956 +05:30 [INF] Getting all products started
2025-11-10 21:24:06.963 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:24:07.286 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:24:07.288 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:24:07.291 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:24:07.294 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:24:07.298 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 346.0542ms
2025-11-10 21:24:07.300 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:24:07.301 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:24:07.306 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:07.311 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 408.6333ms
2025-11-10 21:24:07.314 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:24:07.322 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:24:07.329 +05:30 [INF] Getting all categories
2025-11-10 21:24:07.331 +05:30 [INF] Getting all categories started
2025-11-10 21:24:07.334 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:24:07.336 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:24:07.339 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:24:07.342 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:24:07.345 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:24:07.349 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 19.8144ms
2025-11-10 21:24:07.353 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:24:07.355 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 55.8192ms
2025-11-10 21:24:07.367 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:07.376 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:07.382 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:24:07.385 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:24:07.386 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:24:07.389 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:24:07.393 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 445.623ms
2025-11-10 21:24:07.396 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:24:07.400 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 515.2124ms
2025-11-10 21:24:07.410 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:24:07.420 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:07.422 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:24:07.437 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:24:07.450 +05:30 [INF] Getting all products started
2025-11-10 21:24:07.451 +05:30 [INF] Getting all products started
2025-11-10 21:24:07.453 +05:30 [INF] Getting all products started
2025-11-10 21:24:07.480 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:07.493 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:07.502 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:24:07.504 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:24:07.506 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:24:07.509 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:24:07.513 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 63.4755ms
2025-11-10 21:24:07.521 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:24:07.523 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 112.7383ms
2025-11-10 21:24:52.275 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - null null
2025-11-10 21:24:52.279 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - null null
2025-11-10 21:24:52.291 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:52.301 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:52.307 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - 204 null null 27.6175ms
2025-11-10 21:24:52.301 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product/4 - 204 null null 25.7538ms
2025-11-10 21:24:52.323 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/4 - null null
2025-11-10 21:24:52.329 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:52.332 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 21:24:52.361 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:24:52.368 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:52.406 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:52.412 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:53.057 +05:30 [INF] Executed DbCommand (98ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:53.064 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:53.081 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:53.086 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:53.090 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 21:24:53.110 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 745.0795ms
2025-11-10 21:24:53.112 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product/4 - null null
2025-11-10 21:24:53.114 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 21:24:53.123 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:53.128 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/4 - 200 null application/json; charset=utf-8 804.3634ms
2025-11-10 21:24:53.128 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 21:24:53.143 +05:30 [INF] Route matched with {action = "GetProductById", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetProductById(Int32) on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:24:53.149 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:53.152 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:53.154 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:53.160 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:53.166 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:53.170 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:53.173 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:53.175 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.ProductResponseDto'.
2025-11-10 21:24:53.177 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api) in 29.9786ms
2025-11-10 21:24:53.180 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetProductById (Kanini.Ecommerce.Api)'
2025-11-10 21:24:53.182 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product/4 - 200 null application/json; charset=utf-8 70.2149ms
2025-11-10 21:24:53.286 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - null null
2025-11-10 21:24:53.536 +05:30 [INF] Sending file. Request path: '/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'. Physical path: 'C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api\wwwroot\images\4\20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg'
2025-11-10 21:24:53.540 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_38e4878f1575459495626f1f617b252b_pickle.jpg - 200 1115297 image/jpeg 254.4658ms
2025-11-10 21:24:59.551 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 21:24:59.563 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:59.565 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 13.8926ms
2025-11-10 21:24:59.578 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 21:24:59.586 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:24:59.588 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 21:24:59.601 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:24:59.617 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:24:59.633 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:24:59.643 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:24:59.649 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 21:24:59.654 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 21:24:59.658 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 21:24:59.664 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:24:59.670 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 21:24:59.744 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 21:24:59.881 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 21:24:59.898 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 21:25:00.091 +05:30 [INF] Executed DbCommand (30ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 21:25:00.353 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 21:25:00.356 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 21:25:00.359 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:25:00.364 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 756.9566ms
2025-11-10 21:25:00.367 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:00.371 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 792.3069ms
2025-11-10 21:25:06.533 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:25:06.534 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:25:06.534 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:25:06.535 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:25:06.573 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.560 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.568 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.553 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.576 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 40.4512ms
2025-11-10 21:25:06.577 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 43.5947ms
2025-11-10 21:25:06.582 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 47.7859ms
2025-11-10 21:25:06.584 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 50.4349ms
2025-11-10 21:25:06.612 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:25:06.620 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:25:06.638 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.644 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.647 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:25:06.649 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:25:06.654 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:25:06.651 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:25:06.661 +05:30 [INF] Getting all categories
2025-11-10 21:25:06.669 +05:30 [INF] Getting all categories started
2025-11-10 21:25:06.670 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:25:06.667 +05:30 [INF] Getting all products started
2025-11-10 21:25:06.674 +05:30 [INF] Getting all products started
2025-11-10 21:25:06.675 +05:30 [INF] Getting all products started
2025-11-10 21:25:06.841 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:25:06.846 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:25:06.849 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:25:06.852 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:25:06.856 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 195.4033ms
2025-11-10 21:25:06.859 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:25:06.861 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:25:06.873 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.875 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 254.8464ms
2025-11-10 21:25:06.877 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:25:06.892 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:25:06.901 +05:30 [INF] Getting all categories
2025-11-10 21:25:06.904 +05:30 [INF] Getting all categories started
2025-11-10 21:25:06.907 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:25:06.909 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:25:06.918 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:25:06.920 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:25:06.923 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:25:06.923 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:25:06.934 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:25:06.938 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:25:06.939 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:25:06.943 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 42.4542ms
2025-11-10 21:25:06.946 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:25:06.952 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:25:06.955 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:25:06.957 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 98.4749ms
2025-11-10 21:25:06.962 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 295.2517ms
2025-11-10 21:25:06.971 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:25:06.973 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:25:06.980 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:06.984 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 372.3049ms
2025-11-10 21:25:06.988 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:25:07.014 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:25:07.036 +05:30 [INF] Getting all products started
2025-11-10 21:25:07.040 +05:30 [INF] Getting all products started
2025-11-10 21:25:07.054 +05:30 [INF] Getting all products started
2025-11-10 21:25:07.067 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:25:07.076 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:25:07.092 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:25:07.094 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:25:07.106 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:25:07.109 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:25:07.121 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 85.8007ms
2025-11-10 21:25:07.125 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:25:07.132 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 161.4022ms
2025-11-10 21:25:08.751 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 21:25:08.762 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:08.771 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 18.8406ms
2025-11-10 21:25:08.786 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 21:25:08.791 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:08.799 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:08.802 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:25:08.806 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:25:08.815 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:25:08.823 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:25:08.832 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 21:25:08.834 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 21:25:08.838 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 21:25:08.847 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:25:08.853 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 21:25:08.856 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 21:25:08.886 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 21:25:08.891 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 21:25:08.901 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 21:25:08.918 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 21:25:08.919 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 21:25:08.921 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:25:08.923 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 117.6194ms
2025-11-10 21:25:08.932 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:08.936 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 149.178ms
2025-11-10 21:25:12.129 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:25:12.130 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:25:12.144 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:12.150 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:12.153 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 23.6725ms
2025-11-10 21:25:12.158 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 28.2452ms
2025-11-10 21:25:12.176 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:25:12.183 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:12.185 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:12.192 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:25:12.196 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:25:12.200 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:25:12.212 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:25:12.215 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:25:12.217 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:25:12.218 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:25:12.244 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:25:12.246 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:25:12.248 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:25:12.250 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:25:12.253 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 56.9403ms
2025-11-10 21:25:12.260 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:12.262 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:25:12.263 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 86.142ms
2025-11-10 21:25:12.267 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:25:12.279 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:12.283 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:25:12.290 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:25:12.301 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:25:12.326 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:25:12.331 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:25:12.334 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:25:12.336 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:25:12.341 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:25:12.343 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:25:12.344 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:25:12.350 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:25:12.353 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 63.9314ms
2025-11-10 21:25:12.361 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:25:12.364 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 102.044ms
2025-11-10 21:36:19.156 +05:30 [INF] Application is shutting down...
2025-11-10 21:39:27.573 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 21:39:27.851 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 21:39:27.857 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 21:39:27.860 +05:30 [INF] Hosting environment: Development
2025-11-10 21:39:27.863 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 21:40:09.905 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 21:40:10.279 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 21:40:10.346 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:10.386 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 499.0075ms
2025-11-10 21:40:10.454 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 56
2025-11-10 21:40:10.478 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:10.747 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 21:40:10.857 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 21:40:11.713 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 21:40:11.722 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 21:40:11.793 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 21:40:13.037 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1016
2025-11-10 21:40:13.065 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 21:40:13.106 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - false
2025-11-10 21:40:15.089 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 21:40:16.814 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 21:40:17.261 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 21:40:17.312 +05:30 [WRN] Login failed: Invalid credentials
2025-11-10 21:40:17.316 +05:30 [ERR] Login failed: Invalid email or password
2025-11-10 21:40:17.337 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 21:40:17.416 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 6485.7893ms
2025-11-10 21:40:17.430 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 21:40:17.494 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 7039.8139ms
2025-11-10 21:40:37.742 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 21:40:37.751 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:37.754 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 12.1044ms
2025-11-10 21:40:37.784 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-10 21:40:37.920 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:37.950 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 21:40:37.979 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 21:40:37.996 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 21:40:37.999 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 21:40:38.001 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 21:40:38.016 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1016
2025-11-10 21:40:38.018 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 21:40:38.030 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 21:40:38.084 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 21:40:38.104 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 21:40:38.266 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 21:40:38.513 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 21:40:38.550 +05:30 [INF] Refresh token created successfully with Id: 41
2025-11-10 21:40:38.560 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 21:40:38.566 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 21:40:38.568 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 21:40:38.575 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 21:40:38.601 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 615.9297ms
2025-11-10 21:40:38.606 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 21:40:38.613 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 830.0015ms
2025-11-10 21:40:38.793 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:40:38.873 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:40:38.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:40:38.874 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:40:38.876 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:38.880 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:38.889 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:38.895 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:38.909 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 35.29ms
2025-11-10 21:40:38.921 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:40:38.907 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 33.0463ms
2025-11-10 21:40:38.898 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 105.059ms
2025-11-10 21:40:38.903 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 29.6411ms
2025-11-10 21:40:38.938 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:38.962 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:40:39.009 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:40:39.027 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:40:39.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 107.747ms
2025-11-10 21:40:39.409 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:39.409 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:39.409 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:40.146 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:40:40.146 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:40:40.160 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:40:42.958 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:40:42.963 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:40:42.966 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:40:42.986 +05:30 [INF] Getting all products started
2025-11-10 21:40:42.984 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:40:42.991 +05:30 [INF] Getting all categories
2025-11-10 21:40:43.060 +05:30 [INF] Getting all categories started
2025-11-10 21:40:43.068 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:40:43.084 +05:30 [INF] Getting all products started
2025-11-10 21:40:43.100 +05:30 [INF] Getting all products started
2025-11-10 21:40:43.222 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:40:43.252 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:40:43.254 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:40:43.258 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:40:43.287 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 302.4217ms
2025-11-10 21:40:43.294 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:40:43.297 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:40:43.301 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:43.306 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 4279.0146ms
2025-11-10 21:40:43.310 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:40:43.419 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:40:43.427 +05:30 [INF] Getting all categories
2025-11-10 21:40:43.432 +05:30 [INF] Getting all categories started
2025-11-10 21:40:43.437 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:40:43.519 +05:30 [INF] Executed DbCommand (135ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:40:43.625 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:40:43.635 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:40:43.643 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:40:43.649 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:40:43.654 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 228.9842ms
2025-11-10 21:40:43.800 +05:30 [INF] Executed DbCommand (164ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:40:43.891 +05:30 [INF] Executed DbCommand (250ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:40:43.968 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:40:44.020 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:40:44.024 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 730.241ms
2025-11-10 21:40:44.085 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:40:44.170 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:40:44.175 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:40:44.197 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:40:44.233 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:44.240 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:44.250 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:44.297 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:44.831 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:44.834 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:44.836 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:40:44.857 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 1880.9982ms
2025-11-10 21:40:44.873 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1904.525ms
2025-11-10 21:40:44.877 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:40:44.888 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:40:44.892 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 5882.6733ms
2025-11-10 21:40:44.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 5976.7814ms
2025-11-10 21:40:45.190 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:40:45.232 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:45.257 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:40:45.408 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:40:45.436 +05:30 [INF] Getting all products started
2025-11-10 21:40:45.438 +05:30 [INF] Getting all products started
2025-11-10 21:40:45.441 +05:30 [INF] Getting all products started
2025-11-10 21:40:45.487 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:40:45.547 +05:30 [INF] Executed DbCommand (45ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:40:45.583 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:40:45.589 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:40:45.599 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:40:45.604 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:40:45.610 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 176.3935ms
2025-11-10 21:40:45.639 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:40:45.659 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 469.1647ms
2025-11-10 21:40:48.303 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:40:48.303 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:40:48.315 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:48.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 22.7681ms
2025-11-10 21:40:48.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:40:48.320 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:48.362 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 58.6354ms
2025-11-10 21:40:48.354 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:48.389 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:40:48.410 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:40:48.494 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:40:48.627 +05:30 [INF] Executed DbCommand (112ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:40:48.637 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:40:48.645 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:48.648 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:48.650 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:48.693 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:48.696 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:48.699 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:48.702 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:40:48.712 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 228.1605ms
2025-11-10 21:40:48.716 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:40:48.744 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:48.720 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:40:48.759 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:40:48.816 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:40:48.799 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 462.6538ms
2025-11-10 21:40:48.853 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:40:48.892 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:40:48.911 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:40:48.930 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:48.932 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:48.935 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:40:48.943 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:48.948 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:48.953 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:40:48.963 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:40:48.968 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 125.7331ms
2025-11-10 21:40:48.983 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:40:48.997 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 281.3684ms
2025-11-10 21:40:52.610 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:40:52.611 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:40:52.619 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:52.626 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:52.639 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 27.4835ms
2025-11-10 21:40:52.651 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:40:52.662 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:52.676 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:40:52.636 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 25.7403ms
2025-11-10 21:40:52.727 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 21:40:52.830 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 21:40:52.877 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 21:40:52.883 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 21:40:52.895 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 72.4991ms
2025-11-10 21:40:52.907 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:40:52.911 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:40:52.930 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:40:52.946 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:40:52.942 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 290.3484ms
2025-11-10 21:40:52.989 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 21:40:53.029 +05:30 [INF] Getting cart for CustomerId: 1016
2025-11-10 21:40:53.036 +05:30 [INF] Cart retrieved successfully for CustomerId: 1016
2025-11-10 21:40:53.040 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 21:40:53.044 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 16.8517ms
2025-11-10 21:40:53.047 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:40:53.053 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 145.887ms
2025-11-10 21:43:31.438 +05:30 [INF] Application is shutting down...
2025-11-10 21:44:30.009 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 21:44:30.370 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 21:44:30.395 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 21:44:30.403 +05:30 [INF] Hosting environment: Development
2025-11-10 21:44:30.414 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 21:45:54.029 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:45:54.029 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 21:45:54.029 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:45:54.029 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:45:54.075 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 21:45:54.148 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 21:45:54.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 170.3415ms
2025-11-10 21:45:54.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 169.7965ms
2025-11-10 21:45:54.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 170.3837ms
2025-11-10 21:45:54.192 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 170.3905ms
2025-11-10 21:45:54.230 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.273 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:45:54.306 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:45:54.323 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:45:54.326 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 250.2645ms
2025-11-10 21:45:54.526 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.526 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.528 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:54.911 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:45:54.911 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:45:54.923 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:45:54.961 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:45:54.961 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:45:54.961 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:45:55.532 +05:30 [INF] Getting all categories
2025-11-10 21:45:55.534 +05:30 [INF] Getting all products started
2025-11-10 21:45:55.537 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:45:55.538 +05:30 [INF] Getting all categories started
2025-11-10 21:45:55.540 +05:30 [INF] Getting all products started
2025-11-10 21:45:55.577 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:45:55.577 +05:30 [INF] Getting all products started
2025-11-10 21:45:56.441 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:45:56.527 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:45:56.535 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:45:56.556 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:45:56.670 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 1682.5145ms
2025-11-10 21:45:56.674 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 21:45:56.817 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:45:56.857 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:56.884 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 2611.3019ms
2025-11-10 21:45:56.900 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:45:56.959 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 21:45:56.984 +05:30 [INF] Getting all categories
2025-11-10 21:45:56.988 +05:30 [INF] Getting all categories started
2025-11-10 21:45:57.020 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 21:45:57.052 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:45:57.055 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 21:45:57.057 +05:30 [INF] Retrieved 2 categories
2025-11-10 21:45:57.092 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:45:57.103 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 128.433ms
2025-11-10 21:45:57.110 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 21:45:57.204 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 530.2921ms
2025-11-10 21:45:57.966 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 21:45:59.176 +05:30 [INF] Executed DbCommand (48ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:45:59.176 +05:30 [INF] Executed DbCommand (55ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:45:59.359 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:45:59.371 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:45:59.418 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:45:59.420 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:45:59.423 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:45:59.468 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 4497.2858ms
2025-11-10 21:45:59.471 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:45:59.488 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 5164.9874ms
2025-11-10 21:45:59.489 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:45:59.500 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 21:45:59.514 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:45:59.518 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:45:59.588 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 21:45:59.503 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:45:59.625 +05:30 [INF] Getting all products started
2025-11-10 21:45:59.654 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:45:59.666 +05:30 [INF] Getting all products started
2025-11-10 21:45:59.672 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:45:59.672 +05:30 [INF] Getting all products started
2025-11-10 21:45:59.904 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:00.122 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:00.130 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:00.132 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:46:00.149 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 5169.3503ms
2025-11-10 21:46:00.155 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:46:00.170 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 5865.1141ms
2025-11-10 21:46:00.249 +05:30 [INF] Executed DbCommand (84ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:46:00.485 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 21:46:00.500 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:46:00.503 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:46:00.513 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 21:46:00.517 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 21:46:00.533 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 911.8733ms
2025-11-10 21:46:00.536 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 21:46:00.547 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1046.1833ms
2025-11-10 21:46:02.978 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:46:02.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 21:46:03.083 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:46:03.132 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:46:03.134 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 156.2414ms
2025-11-10 21:46:03.145 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 166.1918ms
2025-11-10 21:46:03.166 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:46:03.177 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:46:03.184 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:46:03.189 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:46:03.210 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:46:03.259 +05:30 [INF] Executed DbCommand (31ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:46:03.552 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:46:03.556 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:46:03.561 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:46:03.564 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:46:03.623 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:03.627 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:03.629 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:03.633 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:46:03.693 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 486.2828ms
2025-11-10 21:46:03.716 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 21:46:03.791 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:46:03.815 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:46:03.820 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 653.262ms
2025-11-10 21:46:03.842 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:46:03.858 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 21:46:04.073 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:46:04.360 +05:30 [INF] Executed DbCommand (271ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:46:04.398 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:46:04.406 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:46:04.408 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:46:04.412 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:46:04.501 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:04.504 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:04.506 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:46:04.508 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 21:46:04.513 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 452.5022ms
2025-11-10 21:46:04.524 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 21:46:04.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 810.9993ms
2025-11-10 21:47:48.805 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:47:48.806 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:47:48.816 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:47:48.831 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:47:48.835 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 30.4338ms
2025-11-10 21:47:48.839 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 32.9679ms
2025-11-10 21:47:48.891 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:47:48.925 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:47:48.950 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:47:48.979 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 21:47:49.048 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:47:49.066 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:47:49.076 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:47:49.092 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:47:49.125 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:47:49.130 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 21:47:49.141 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 152.9504ms
2025-11-10 21:47:49.145 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 21:47:49.147 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:47:49.154 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:47:49.164 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:47:49.194 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 21:47:49.156 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 265.3322ms
2025-11-10 21:47:49.237 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:47:49.261 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:47:49.297 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:47:49.301 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:47:49.312 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:47:49.317 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 21:47:49.321 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 91.4576ms
2025-11-10 21:47:49.335 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 21:47:49.338 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 193.3535ms
2025-11-10 21:49:59.752 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 21:49:59.773 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:49:59.775 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 22.9147ms
2025-11-10 21:49:59.794 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 252
2025-11-10 21:49:59.811 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:49:59.815 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 21:49:59.846 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 21:50:00.763 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:50:00.798 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:50:00.814 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:50:00.819 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 21:50:00.829 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 21:50:00.833 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:50:00.865 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:50:01.068 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 21:50:06.417 +05:30 [INF] Executed DbCommand (3,517ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 21:50:06.729 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:42696212-85cf-44a2-b270-e6c813753654
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:42696212-85cf-44a2-b270-e6c813753654
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 21:50:06.841 +05:30 [ERR] Order creation failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:42696212-85cf-44a2-b270-e6c813753654
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.CreateOrderAsync(Order order) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 193
2025-11-10 21:50:06.972 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 21:50:06.974 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 21:50:07.013 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 7099.1637ms
2025-11-10 21:50:07.023 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 21:50:07.026 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 7231.7883ms
2025-11-10 21:53:05.331 +05:30 [INF] Application is shutting down...
2025-11-10 21:53:21.026 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 21:53:21.458 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 21:53:21.501 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 21:53:21.520 +05:30 [INF] Hosting environment: Development
2025-11-10 21:53:21.541 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 21:53:24.469 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 21:53:24.570 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 21:53:24.574 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:53:24.586 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 123.144ms
2025-11-10 21:53:24.619 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 252
2025-11-10 21:53:24.654 +05:30 [INF] CORS policy execution successful.
2025-11-10 21:53:24.855 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 21:53:24.885 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 21:53:25.225 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 21:53:26.445 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 21:53:27.874 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 21:53:28.251 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 21:53:28.255 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 21:53:28.283 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 21:53:28.288 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 21:53:28.330 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 21:53:28.341 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 21:53:28.958 +05:30 [INF] Executed DbCommand (191ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 21:53:29.080 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2ea66624-d9b1-458e-ad3a-4b945c35b0f2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2ea66624-d9b1-458e-ad3a-4b945c35b0f2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 21:53:29.186 +05:30 [ERR] Order creation failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:2ea66624-d9b1-458e-ad3a-4b945c35b0f2
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.CreateOrderAsync(Order order) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 193
2025-11-10 21:53:29.298 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 21:53:29.329 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 21:53:29.405 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 4507.5603ms
2025-11-10 21:53:29.476 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 21:53:29.562 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 4942.2338ms
2025-11-10 22:02:15.604 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:02:15.616 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:15.641 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 36.7851ms
2025-11-10 22:02:15.668 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 252
2025-11-10 22:02:15.784 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:15.822 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:02:15.825 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:02:15.854 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:02:16.093 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:02:16.105 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:02:16.109 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:02:16.112 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:02:16.115 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:02:16.238 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:02:16.241 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:02:16.564 +05:30 [INF] Executed DbCommand (313ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 22:02:16.574 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c206160c-8315-449b-a7ae-5bf88a4fda8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c206160c-8315-449b-a7ae-5bf88a4fda8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 22:02:16.654 +05:30 [ERR] Order creation failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:c206160c-8315-449b-a7ae-5bf88a4fda8f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.CreateOrderAsync(Order order) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 193
2025-11-10 22:02:16.698 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 22:02:16.703 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 22:02:16.707 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 873.8603ms
2025-11-10 22:02:16.718 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:02:16.722 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 1053.9909ms
2025-11-10 22:02:26.723 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:02:26.756 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 22:02:26.770 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:02:26.859 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:26.868 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:26.915 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:26.936 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 166.7114ms
2025-11-10 22:02:26.926 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 169.7193ms
2025-11-10 22:02:26.916 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 193.27ms
2025-11-10 22:02:27.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:02:27.067 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 22:02:27.115 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:27.118 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:27.168 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:02:27.168 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:02:27.185 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:02:27.185 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 22:02:27.258 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:02:27.262 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:02:27.435 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:02:27.455 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:02:27.474 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:02:27.556 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:02:27.558 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:02:27.574 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:02:27.585 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:02:27.592 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:02:27.603 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:02:27.615 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:02:27.619 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 22:02:27.633 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:02:27.650 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:02:27.654 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 22:02:27.725 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 525.8224ms
2025-11-10 22:02:27.727 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 536.2115ms
2025-11-10 22:02:27.735 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:02:27.737 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:02:27.737 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:02:27.740 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 672.7679ms
2025-11-10 22:02:27.751 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 684.1933ms
2025-11-10 22:02:28.117 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 22:02:28.122 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:02:28.201 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:02:28.205 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:02:28.235 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:02:28.267 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:02:28.321 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:02:28.327 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:02:28.372 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:02:28.375 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 22:02:28.379 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 146.2171ms
2025-11-10 22:02:28.382 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:02:28.385 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 648.6892ms
2025-11-10 22:02:29.592 +05:30 [INF] The file /images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg was not modified
2025-11-10 22:02:29.595 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 304 null image/jpeg 1478.1635ms
2025-11-10 22:05:45.890 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:05:45.897 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:05:45.899 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 9.2275ms
2025-11-10 22:05:45.905 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 212
2025-11-10 22:05:45.912 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:05:45.915 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:05:45.918 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:05:45.924 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:05:46.039 +05:30 [INF] Executed DbCommand (101ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:05:46.088 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:05:46.091 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:05:46.104 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:05:46.106 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:05:46.224 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:05:46.228 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:05:46.478 +05:30 [INF] Executed DbCommand (245ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 22:05:46.495 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9140ef20-6375-4b8c-9c1a-230afaf2bd6f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9140ef20-6375-4b8c-9c1a-230afaf2bd6f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 22:05:46.532 +05:30 [ERR] Order creation failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:9140ef20-6375-4b8c-9c1a-230afaf2bd6f
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.CreateOrderAsync(Order order) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 193
2025-11-10 22:05:46.567 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 22:05:46.570 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 22:05:46.573 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 650.3256ms
2025-11-10 22:05:46.583 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:05:46.586 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 680.2018ms
2025-11-10 22:10:20.345 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:10:20.359 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:10:20.361 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 16.2674ms
2025-11-10 22:10:20.413 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 212
2025-11-10 22:10:20.546 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:10:20.559 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:10:20.562 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:10:20.574 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:10:20.615 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:10:20.627 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:10:20.629 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:10:20.630 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:10:20.632 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:10:20.659 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:10:20.661 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:10:20.714 +05:30 [INF] Executed DbCommand (50ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 22:10:20.727 +05:30 [ERR] An exception occurred in the database while saving changes for context type 'Kanini.Ecommerce.Data.DatabaseContext.EcommerceDatabaseContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f2c7353f-b9eb-42ca-967c-4e8a4e5840e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f2c7353f-b9eb-42ca-967c-4e8a4e5840e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-11-10 22:10:20.777 +05:30 [ERR] Order creation failed: An error occurred while saving the entity changes. See the inner exception for details.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint "FK_Orders_Vendors_VendorId". The conflict occurred in database "Vendor_Ecommerce", table "dbo.Vendors", column 'VendorId'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f2c7353f-b9eb-42ca-967c-4e8a4e5840e6
Error Number:547,State:0,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.CreateOrderAsync(Order order) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 193
2025-11-10 22:10:20.822 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 22:10:20.825 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 22:10:20.828 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 254.6584ms
2025-11-10 22:10:20.837 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:10:20.839 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 426.2421ms
2025-11-10 22:10:27.440 +05:30 [INF] Application is shutting down...
2025-11-10 22:11:28.003 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 22:11:28.348 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 22:11:28.354 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 22:11:28.357 +05:30 [INF] Hosting environment: Development
2025-11-10 22:11:28.359 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 22:11:31.435 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:11:31.586 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 22:11:31.593 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:11:31.670 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 231.5758ms
2025-11-10 22:11:31.816 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 212
2025-11-10 22:11:31.834 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:11:32.125 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 16:40:38', Current time (UTC): '10-11-2025 16:41:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 22:11:32.211 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 16:40:38', Current time (UTC): '10-11-2025 16:41:32'.
2025-11-10 22:11:32.244 +05:30 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Customer)
2025-11-10 22:11:32.275 +05:30 [INF] AuthenticationScheme: Bearer was challenged.
2025-11-10 22:11:32.286 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 401 0 null 470.2117ms
2025-11-10 22:11:32.559 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - null null
2025-11-10 22:11:32.567 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:11:32.575 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/refresh - 204 null null 15.4643ms
2025-11-10 22:11:32.593 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/refresh - application/json 107
2025-11-10 22:11:32.642 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:11:32.660 +05:30 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 16:40:38', Current time (UTC): '10-11-2025 16:41:32'.
   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)
2025-11-10 22:11:32.676 +05:30 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '10-11-2025 16:40:38', Current time (UTC): '10-11-2025 16:41:32'.
2025-11-10 22:11:32.684 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 22:11:32.739 +05:30 [INF] Route matched with {action = "RefreshToken", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RefreshToken(Kanini.Ecommerce.Application.DTOs.RefreshTokenRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 22:11:33.355 +05:30 [INF] Token refresh attempt started
2025-11-10 22:11:33.379 +05:30 [INF] Token refresh attempt started
2025-11-10 22:11:33.490 +05:30 [INF] Executing stored procedure sp_GetUserByRefreshToken
2025-11-10 22:11:34.402 +05:30 [INF] User found for refresh token, UserId: 1016
2025-11-10 22:11:34.419 +05:30 [INF] Token refresh started for UserId: 1016
2025-11-10 22:11:36.144 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 22:11:37.393 +05:30 [INF] Executed DbCommand (35ms) [Parameters=[@__refreshToken_0='?' (Size = 500)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[Token] = @__refreshToken_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-10 22:11:37.815 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-10 22:11:37.886 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 22:11:38.040 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 22:11:38.085 +05:30 [INF] Refresh token created successfully with Id: 42
2025-11-10 22:11:38.090 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 22:11:38.094 +05:30 [INF] Token refresh successful for UserId: 1016
2025-11-10 22:11:38.106 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 22:11:38.157 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api) in 5405.3927ms
2025-11-10 22:11:38.223 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RefreshToken (Kanini.Ecommerce.Api)'
2025-11-10 22:11:38.302 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/refresh - 200 null application/json; charset=utf-8 5709.0036ms
2025-11-10 22:11:38.327 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:11:38.341 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:11:38.349 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 21.6564ms
2025-11-10 22:11:38.401 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 212
2025-11-10 22:11:38.468 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:11:38.518 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:11:38.538 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:11:38.584 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:11:38.831 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:11:39.069 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:11:39.073 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:11:39.123 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:11:39.130 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:11:39.172 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:11:39.386 +05:30 [INF] Using VendorId: 1007 for order creation
2025-11-10 22:11:39.391 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:11:39.824 +05:30 [INF] Executed DbCommand (88ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 22:11:39.862 +05:30 [INF] Order created successfully with OrderId: 6
2025-11-10 22:11:40.561 +05:30 [INF] Executed DbCommand (582ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Boolean), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 1)) AS i ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn])
VALUES (i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DiscountAmount], i.[IsDeleted], i.[OrderId], i.[ProductId], i.[Quantity], i.[TenantId], i.[TotalPrice], i.[UnitPrice], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[OrderItemId], i._Position;
2025-11-10 22:11:40.589 +05:30 [INF] Clearing cart for CustomerId: 1003
2025-11-10 22:11:40.714 +05:30 [INF] Executed DbCommand (63ms) [Parameters=[@__customerId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn]
FROM [Cart] AS [c]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CustomerId] = @__customerId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:11:40.925 +05:30 [INF] Executed DbCommand (60ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
DELETE FROM [Cart]
OUTPUT 1
WHERE [CartId] = @p0;
DELETE FROM [Cart]
OUTPUT 1
WHERE [CartId] = @p1;
2025-11-10 22:11:40.955 +05:30 [INF] Cart cleared successfully for CustomerId: 1003
2025-11-10 22:11:40.963 +05:30 [INF] Getting order details for OrderId: 6
2025-11-10 22:11:40.968 +05:30 [INF] Getting order details for OrderId: 6
2025-11-10 22:11:41.078 +05:30 [ERR] Failed to get order details: Could not find stored procedure 'sp_GetOrderById'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_GetOrderById'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteReader(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteReaderInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteReaderAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteReaderAsyncCallback(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.GetOrderByIdAsync(Int32 orderId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 99
ClientConnectionId:deb3f975-19fb-45b8-a90b-a40b65594af4
Error Number:2812,State:62,Class:16
2025-11-10 22:11:41.133 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 22:11:41.137 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 22:11:41.167 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 2615.3007ms
2025-11-10 22:11:41.172 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:11:41.183 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 2781.2485ms
2025-11-10 22:16:50.747 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:16:50.805 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:16:50.809 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 61.7916ms
2025-11-10 22:16:50.824 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 212
2025-11-10 22:16:50.832 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:16:50.877 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:16:50.893 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:16:50.915 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:16:51.080 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:16:51.088 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:16:51.091 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:16:51.097 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:16:51.099 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:16:51.122 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:16:51.124 +05:30 [ERR] Order creation failed: Cart is empty
2025-11-10 22:16:51.126 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 22:16:51.133 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 228.5026ms
2025-11-10 22:16:51.136 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:16:51.140 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 315.3997ms
2025-11-10 22:16:57.406 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 22:16:57.416 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:16:57.421 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 15.2167ms
2025-11-10 22:16:57.504 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 212
2025-11-10 22:16:57.526 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:16:57.549 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:16:57.579 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:16:57.608 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:16:57.622 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:16:57.631 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:16:57.632 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:16:57.639 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 22:16:57.641 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:16:57.804 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:16:57.811 +05:30 [ERR] Order creation failed: Cart is empty
2025-11-10 22:16:57.819 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 22:16:57.828 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 241.8156ms
2025-11-10 22:16:57.837 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 22:16:57.842 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 338.0108ms
2025-11-10 22:17:09.477 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 22:17:09.486 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:17:09.500 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:17:09.538 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:09.530 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:09.524 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:09.622 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 144.4612ms
2025-11-10 22:17:09.605 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 117.1401ms
2025-11-10 22:17:09.594 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 92.9698ms
2025-11-10 22:17:09.737 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 22:17:09.788 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:17:09.823 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:09.823 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:09.828 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:09.829 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:17:09.850 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:17:09.850 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 22:17:09.871 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:17:09.876 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:17:09.896 +05:30 [INF] Executed DbCommand (19ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:17:09.910 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:17:09.911 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:17:09.925 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:17:09.931 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:09.930 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:09.969 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:10.000 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:10.002 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 22:17:10.002 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:10.056 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:10.060 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:10.062 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:10.066 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 22:17:10.083 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 219.9956ms
2025-11-10 22:17:10.087 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:10.083 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 225.7448ms
2025-11-10 22:17:10.095 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:17:10.092 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 354.1935ms
2025-11-10 22:17:10.111 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 322.913ms
2025-11-10 22:17:10.165 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 22:17:10.213 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:10.227 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:17:10.240 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 22:17:10.255 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:17:10.322 +05:30 [INF] Executed DbCommand (62ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:17:10.332 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:17:10.336 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:10.358 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:10.360 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 22:17:10.370 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 117.0873ms
2025-11-10 22:17:10.394 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 22:17:10.406 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 240.5835ms
2025-11-10 22:17:14.067 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 22:17:14.069 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 22:17:14.109 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 22:17:14.120 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 22:17:14.122 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 22:17:14.130 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.221 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.238 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.246 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.266 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 145.5027ms
2025-11-10 22:17:14.254 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 186.7456ms
2025-11-10 22:17:14.255 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 186.9606ms
2025-11-10 22:17:14.262 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 153.9289ms
2025-11-10 22:17:14.251 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.286 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 22:17:14.336 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 22:17:14.353 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.364 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.370 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.372 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 22:17:14.376 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.379 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.388 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:17:14.403 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 22:17:14.410 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 22:17:14.414 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:17:14.425 +05:30 [INF] Getting all products started
2025-11-10 22:17:14.429 +05:30 [INF] Getting all categories
2025-11-10 22:17:14.437 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:17:14.442 +05:30 [INF] Getting all products started
2025-11-10 22:17:14.443 +05:30 [INF] Getting all categories started
2025-11-10 22:17:14.445 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:14.452 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:14.453 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 22:17:14.454 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:14.469 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:14.472 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:14.474 +05:30 [INF] Getting all products started
2025-11-10 22:17:14.475 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:14.479 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 22:17:14.483 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 96.7253ms
2025-11-10 22:17:14.487 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.491 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 368.8463ms
2025-11-10 22:17:14.518 +05:30 [INF] Retrieved 2 categories
2025-11-10 22:17:14.553 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 22:17:14.558 +05:30 [INF] Retrieved 2 categories
2025-11-10 22:17:14.560 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 22:17:14.602 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 175.7113ms
2025-11-10 22:17:14.610 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 22:17:14.617 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.632 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 296.1093ms
2025-11-10 22:17:14.628 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:14.654 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.663 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 22:17:14.687 +05:30 [INF] Getting all categories
2025-11-10 22:17:14.699 +05:30 [INF] Getting all categories started
2025-11-10 22:17:14.704 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 22:17:14.747 +05:30 [INF] Retrieved 2 categories
2025-11-10 22:17:14.753 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 22:17:14.758 +05:30 [INF] Retrieved 2 categories
2025-11-10 22:17:14.761 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 22:17:14.770 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 85.9322ms
2025-11-10 22:17:14.784 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 22:17:14.788 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 178.6104ms
2025-11-10 22:17:14.821 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 22:17:14.925 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 22:17:14.933 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 22:17:14.962 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 22:17:14.970 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 22:17:14.975 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 22:17:15.048 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 629.4127ms
2025-11-10 22:17:15.052 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 22:17:15.060 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 22:17:15.060 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:15.066 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 780.1862ms
2025-11-10 22:17:15.070 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 22:17:15.196 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 22:17:15.228 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 22:17:15.360 +05:30 [INF] Getting all products started
2025-11-10 22:17:15.365 +05:30 [INF] Getting all products started
2025-11-10 22:17:15.368 +05:30 [INF] Getting all products started
2025-11-10 22:17:15.380 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 22:17:15.391 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 22:17:15.400 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 22:17:15.402 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 22:17:15.406 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 22:17:15.409 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 22:17:15.415 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 56.513ms
2025-11-10 22:17:15.424 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 22:17:15.426 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 374.7045ms
2025-11-10 22:17:15.519 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 22:17:15.524 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 328.0754ms
2025-11-10 22:17:18.589 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 22:17:18.594 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 22:17:18.606 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:18.614 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:18.623 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 28.5923ms
2025-11-10 22:17:18.619 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 29.7577ms
2025-11-10 22:17:18.641 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 22:17:18.677 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:18.690 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:18.698 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 22:17:18.718 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:17:18.730 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:17:18.751 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:17:18.755 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:18.760 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:18.762 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:18.779 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:18.784 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:18.788 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:18.794 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 22:17:18.797 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 85.2568ms
2025-11-10 22:17:18.803 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 22:17:18.805 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:18.810 +05:30 [INF] CORS policy execution successful.
2025-11-10 22:17:18.818 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:18.814 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 172.538ms
2025-11-10 22:17:18.831 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 22:17:18.845 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 22:17:18.850 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 22:17:18.860 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 22:17:18.863 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:18.865 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:18.869 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 22:17:18.872 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:18.878 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:18.880 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 22:17:18.883 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 22:17:18.889 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 43.2873ms
2025-11-10 22:17:18.898 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 22:17:18.905 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 102.4249ms
2025-11-10 22:24:51.183 +05:30 [INF] Application is shutting down...
2025-11-10 23:08:52.242 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:08:52.577 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:08:52.586 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:08:52.589 +05:30 [INF] Hosting environment: Development
2025-11-10 23:08:52.592 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:09:52.193 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 23:09:52.407 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:09:52.412 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:09:52.468 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 276.9497ms
2025-11-10 23:09:52.558 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-10 23:09:52.584 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:09:52.899 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 23:09:53.091 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 23:09:54.041 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 23:09:54.088 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 23:09:54.194 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 23:09:57.232 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1016
2025-11-10 23:09:57.253 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 23:09:57.398 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 23:09:59.279 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:10:01.218 +05:30 [INF] Executed DbCommand (131ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 23:10:02.159 +05:30 [INF] Executed DbCommand (589ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 23:10:02.433 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 23:10:03.450 +05:30 [INF] Executed DbCommand (851ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 23:10:03.512 +05:30 [INF] Refresh token created successfully with Id: 43
2025-11-10 23:10:03.538 +05:30 [INF] Executed DbCommand (21ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 23:10:03.548 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 23:10:03.550 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 23:10:03.614 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 23:10:03.656 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 10548.1859ms
2025-11-10 23:10:03.663 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 23:10:03.805 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 11246.655ms
2025-11-10 23:10:03.876 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:10:03.891 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:03.898 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 22.0491ms
2025-11-10 23:10:03.953 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 23:10:03.958 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 23:10:03.962 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 23:10:03.962 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 23:10:03.973 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:10:03.978 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.009 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.016 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.022 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.063 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 109.1042ms
2025-11-10 23:10:04.064 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 105.6283ms
2025-11-10 23:10:04.066 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 103.2509ms
2025-11-10 23:10:04.074 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 111.0355ms
2025-11-10 23:10:04.095 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 23:10:04.101 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 23:10:04.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.157 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:04.411 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:04.411 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:04.507 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 23:10:04.507 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 23:10:04.519 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:04.520 +05:30 [INF] Getting all products started
2025-11-10 23:10:04.530 +05:30 [INF] Getting all products started
2025-11-10 23:10:04.532 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:04.552 +05:30 [INF] Getting all products started
2025-11-10 23:10:04.553 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:04.553 +05:30 [INF] Getting all categories
2025-11-10 23:10:04.562 +05:30 [INF] Getting all categories started
2025-11-10 23:10:04.569 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 23:10:05.177 +05:30 [INF] Executed DbCommand (314ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:05.269 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:05.273 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:05.276 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:05.280 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:05.340 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:05.362 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 23:10:05.372 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:05.376 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:05.429 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 908.2324ms
2025-11-10 23:10:05.438 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 23:10:05.446 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:05.493 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:05.496 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 1395.3964ms
2025-11-10 23:10:05.502 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:05.516 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 23:10:05.522 +05:30 [INF] Getting all categories
2025-11-10 23:10:05.526 +05:30 [INF] Getting all categories started
2025-11-10 23:10:05.528 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 23:10:05.576 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:05.636 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:05.647 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:05.655 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:10:05.675 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:05.693 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 23:10:05.703 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:05.705 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:05.707 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:05.710 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 188.6759ms
2025-11-10 23:10:05.727 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:05.742 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 303.0182ms
2025-11-10 23:10:05.772 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 1233.509ms
2025-11-10 23:10:05.777 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:05.784 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 1810.1296ms
2025-11-10 23:10:05.936 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:05.945 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:05.972 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:06.003 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:06.005 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:06.013 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 1500.8935ms
2025-11-10 23:10:06.017 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:06.019 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1923.959ms
2025-11-10 23:10:06.093 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 23:10:06.108 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:06.173 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:06.284 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - null null
2025-11-10 23:10:06.284 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 23:10:06.318 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - null null
2025-11-10 23:10:06.407 +05:30 [INF] Getting all products started
2025-11-10 23:10:06.455 +05:30 [INF] Getting all products started
2025-11-10 23:10:06.457 +05:30 [INF] Getting all products started
2025-11-10 23:10:06.523 +05:30 [INF] The file /images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg was not modified
2025-11-10 23:10:06.523 +05:30 [INF] The file /images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg was not modified
2025-11-10 23:10:06.549 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/3/20251110080235_e00ad1b406034785b68b0acacf4c2b30_pic_naruto.jpg - 304 null image/jpeg 264.2395ms
2025-11-10 23:10:06.577 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/images/4/20251110105450_8f372259ad7243d394682858c51e9ca3_pic_naruto.jpg - 304 null image/jpeg 259.5894ms
2025-11-10 23:10:06.922 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:07.028 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:07.039 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:07.042 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:07.045 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:07.052 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:07.058 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 682.3844ms
2025-11-10 23:10:07.074 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:07.078 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 984.6825ms
2025-11-10 23:10:09.879 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:10:09.889 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:10:09.918 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:09.930 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:09.932 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 52.5701ms
2025-11-10 23:10:09.946 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 56.8435ms
2025-11-10 23:10:09.977 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:10:10.000 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:10.014 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:10.026 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:10.040 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:10.183 +05:30 [INF] Executed DbCommand (119ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:10.215 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:10.221 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:10.223 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:10.229 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:10.643 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:10.646 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:10.648 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:10.651 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:10:10.662 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 624.8071ms
2025-11-10 23:10:10.665 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:10:10.667 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:10.676 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:10.682 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 706.4259ms
2025-11-10 23:10:10.750 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:10.764 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:10.792 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:10.828 +05:30 [INF] Executed DbCommand (28ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:10.860 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:10.866 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:10.869 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:10.871 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:10.921 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:10.925 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:10.928 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:10.930 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:10:10.934 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 155.6279ms
2025-11-10 23:10:10.938 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:10.946 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 281.3015ms
2025-11-10 23:10:12.260 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 23:10:12.266 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.297 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 23:10:12.309 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 23:10:12.405 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.411 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 101.9428ms
2025-11-10 23:10:12.385 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.323 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 23:10:12.378 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 117.989ms
2025-11-10 23:10:12.434 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 136.8787ms
2025-11-10 23:10:12.479 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 23:10:12.451 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.450 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 23:10:12.496 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.503 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 179.0171ms
2025-11-10 23:10:12.525 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.793 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:12.800 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:12.802 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 23:10:12.806 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 23:10:12.811 +05:30 [INF] Getting all products started
2025-11-10 23:10:12.814 +05:30 [INF] Getting all products started
2025-11-10 23:10:12.815 +05:30 [INF] Getting all categories
2025-11-10 23:10:12.816 +05:30 [INF] Getting all products started
2025-11-10 23:10:12.817 +05:30 [INF] Getting all categories started
2025-11-10 23:10:12.821 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 23:10:12.832 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:12.833 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 23:10:12.835 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:12.839 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:12.843 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 29.6599ms
2025-11-10 23:10:12.845 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 23:10:12.846 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:12.851 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:12.854 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 404.713ms
2025-11-10 23:10:12.858 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:12.881 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 23:10:12.897 +05:30 [INF] Getting all categories
2025-11-10 23:10:12.899 +05:30 [INF] Getting all categories started
2025-11-10 23:10:12.902 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 23:10:12.912 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:12.914 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 23:10:12.917 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:10:12.932 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:12.944 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 48.1793ms
2025-11-10 23:10:12.968 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:10:13.016 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 171.3751ms
2025-11-10 23:10:13.408 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:13.416 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:13.427 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:13.429 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:13.431 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:13.434 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:13.465 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 655.5361ms
2025-11-10 23:10:13.469 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 23:10:13.476 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:13.482 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:13.514 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:13.562 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 23:10:13.484 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1005.3727ms
2025-11-10 23:10:13.583 +05:30 [INF] Getting all products started
2025-11-10 23:10:13.828 +05:30 [INF] Getting all products started
2025-11-10 23:10:13.830 +05:30 [INF] Getting all products started
2025-11-10 23:10:13.944 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:13.951 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:13.957 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:13.959 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:13.966 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:10:13.969 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:13.974 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 391.37ms
2025-11-10 23:10:13.981 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:10:13.984 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 514.3476ms
2025-11-10 23:10:16.122 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - null null
2025-11-10 23:10:16.158 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:16.177 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart/add - 204 null null 54.0662ms
2025-11-10 23:10:16.219 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 23:10:16.229 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:16.273 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:16.295 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:16.359 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:16.391 +05:30 [INF] Executed DbCommand (27ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:16.408 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:16.411 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 23:10:16.423 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 23:10:16.427 +05:30 [INF] Getting product started for ProductId: 4
2025-11-10 23:10:16.456 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:16.461 +05:30 [INF] Getting product completed for ProductId: 4
2025-11-10 23:10:16.537 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 4
2025-11-10 23:10:16.788 +05:30 [INF] Executed DbCommand (68ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 23:10:16.806 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 23:10:17.227 +05:30 [INF] Executed DbCommand (243ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 23:10:17.437 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/cart/add - application/json 28
2025-11-10 23:10:17.450 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:17.486 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:17.499 +05:30 [INF] Route matched with {action = "AddToCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddToCart(Kanini.Ecommerce.Application.DTOs.AddToCartRequestDto) on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:17.515 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:17.573 +05:30 [INF] Executed DbCommand (47ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:17.593 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:17.600 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 23:10:17.609 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 23:10:17.618 +05:30 [INF] Getting product started for ProductId: 3
2025-11-10 23:10:17.670 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:10:17.685 +05:30 [INF] Getting product completed for ProductId: 3
2025-11-10 23:10:17.694 +05:30 [INF] Adding item to cart for CustomerId: 1003, ProductId: 3
2025-11-10 23:10:17.702 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 23:10:17.705 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 23:10:17.707 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:17.726 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (Size = 100), @p9='?' (Size = 100), @p10='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Cart] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [IsDeleted], [ProductId], [Quantity], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[CartId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10);
2025-11-10 23:10:17.727 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 1418.751ms
2025-11-10 23:10:17.742 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 23:10:17.743 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:17.751 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 1531.4992ms
2025-11-10 23:10:17.869 +05:30 [INF] Executed DbCommand (122ms) [Parameters=[@__cartId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[CartId], [s].[CreatedBy], [s].[CreatedOn], [s].[CustomerId], [s].[DeletedBy], [s].[DeletedOn], [s].[IsDeleted], [s].[ProductId], [s].[Quantity], [s].[TenantId], [s].[UpdatedBy], [s].[UpdatedOn], [s].[ProductId0], [s].[Brand], [s].[CategoryId], [s].[CreatedBy0], [s].[CreatedOn0], [s].[DeletedBy0], [s].[DeletedOn0], [s].[Description], [s].[Dimensions], [s].[DiscountPrice], [s].[IsActive], [s].[IsDeleted0], [s].[MinStockLevel], [s].[Name], [s].[Price], [s].[SKU], [s].[Status], [s].[StockQuantity], [s].[TenantId0], [s].[UpdatedBy0], [s].[UpdatedOn0], [s].[VendorId], [s].[Weight], [s].[VendorId0], [s].[BusinessAddress], [s].[BusinessLicenseNumber], [s].[BusinessName], [s].[City], [s].[CreatedBy1], [s].[CreatedOn1], [s].[CurrentPlan], [s].[DeletedBy1], [s].[DeletedOn1], [s].[DocumentPath], [s].[DocumentStatus], [s].[IsActive0], [s].[IsDeleted1], [s].[OwnerName], [s].[PinCode], [s].[RejectionReason], [s].[State], [s].[Status0], [s].[TaxRegistrationNumber], [s].[TenantId1], [s].[UpdatedBy1], [s].[UpdatedOn1], [s].[UserId], [s].[VerifiedBy], [s].[VerifiedOn], [p2].[ImageId], [p2].[AltText], [p2].[CreatedBy], [p2].[CreatedOn], [p2].[DeletedBy], [p2].[DeletedOn], [p2].[DisplayOrder], [p2].[ImagePath], [p2].[IsDeleted], [p2].[IsPrimary], [p2].[ProductId], [p2].[TenantId], [p2].[UpdatedBy], [p2].[UpdatedOn]
FROM (
    SELECT TOP(1) [c].[CartId], [c].[CreatedBy], [c].[CreatedOn], [c].[CustomerId], [c].[DeletedBy], [c].[DeletedOn], [c].[IsDeleted], [c].[ProductId], [c].[Quantity], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [p0].[ProductId] AS [ProductId0], [p0].[Brand], [p0].[CategoryId], [p0].[CreatedBy] AS [CreatedBy0], [p0].[CreatedOn] AS [CreatedOn0], [p0].[DeletedBy] AS [DeletedBy0], [p0].[DeletedOn] AS [DeletedOn0], [p0].[Description], [p0].[Dimensions], [p0].[DiscountPrice], [p0].[IsActive], [p0].[IsDeleted] AS [IsDeleted0], [p0].[MinStockLevel], [p0].[Name], [p0].[Price], [p0].[SKU], [p0].[Status], [p0].[StockQuantity], [p0].[TenantId] AS [TenantId0], [p0].[UpdatedBy] AS [UpdatedBy0], [p0].[UpdatedOn] AS [UpdatedOn0], [p0].[VendorId], [p0].[Weight], [v0].[VendorId] AS [VendorId0], [v0].[BusinessAddress], [v0].[BusinessLicenseNumber], [v0].[BusinessName], [v0].[City], [v0].[CreatedBy] AS [CreatedBy1], [v0].[CreatedOn] AS [CreatedOn1], [v0].[CurrentPlan], [v0].[DeletedBy] AS [DeletedBy1], [v0].[DeletedOn] AS [DeletedOn1], [v0].[DocumentPath], [v0].[DocumentStatus], [v0].[IsActive] AS [IsActive0], [v0].[IsDeleted] AS [IsDeleted1], [v0].[OwnerName], [v0].[PinCode], [v0].[RejectionReason], [v0].[State], [v0].[Status] AS [Status0], [v0].[TaxRegistrationNumber], [v0].[TenantId] AS [TenantId1], [v0].[UpdatedBy] AS [UpdatedBy1], [v0].[UpdatedOn] AS [UpdatedOn1], [v0].[UserId], [v0].[VerifiedBy], [v0].[VerifiedOn]
    FROM [Cart] AS [c]
    INNER JOIN (
        SELECT [p].[ProductId], [p].[Brand], [p].[CategoryId], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[Description], [p].[Dimensions], [p].[DiscountPrice], [p].[IsActive], [p].[IsDeleted], [p].[MinStockLevel], [p].[Name], [p].[Price], [p].[SKU], [p].[Status], [p].[StockQuantity], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn], [p].[VendorId], [p].[Weight]
        FROM [Products] AS [p]
        WHERE [p].[IsDeleted] = CAST(0 AS BIT)
    ) AS [p0] ON [c].[ProductId] = [p0].[ProductId]
    INNER JOIN (
        SELECT [v].[VendorId], [v].[BusinessAddress], [v].[BusinessLicenseNumber], [v].[BusinessName], [v].[City], [v].[CreatedBy], [v].[CreatedOn], [v].[CurrentPlan], [v].[DeletedBy], [v].[DeletedOn], [v].[DocumentPath], [v].[DocumentStatus], [v].[IsActive], [v].[IsDeleted], [v].[OwnerName], [v].[PinCode], [v].[RejectionReason], [v].[State], [v].[Status], [v].[TaxRegistrationNumber], [v].[TenantId], [v].[UpdatedBy], [v].[UpdatedOn], [v].[UserId], [v].[VerifiedBy], [v].[VerifiedOn]
        FROM [Vendors] AS [v]
        WHERE [v].[IsDeleted] = CAST(0 AS BIT)
    ) AS [v0] ON [p0].[VendorId] = [v0].[VendorId]
    WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[CartId] = @__cartId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
) AS [s]
LEFT JOIN (
    SELECT [p1].[ImageId], [p1].[AltText], [p1].[CreatedBy], [p1].[CreatedOn], [p1].[DeletedBy], [p1].[DeletedOn], [p1].[DisplayOrder], [p1].[ImagePath], [p1].[IsDeleted], [p1].[IsPrimary], [p1].[ProductId], [p1].[TenantId], [p1].[UpdatedBy], [p1].[UpdatedOn]
    FROM [ProductImages] AS [p1]
    WHERE [p1].[IsDeleted] = CAST(0 AS BIT)
) AS [p2] ON [s].[ProductId0] = [p2].[ProductId]
ORDER BY [s].[CartId], [s].[ProductId0], [s].[VendorId0]
2025-11-10 23:10:18.209 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 23:10:18.224 +05:30 [INF] Item added to cart successfully for CustomerId: 1003
2025-11-10 23:10:18.226 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType2`2[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[Kanini.Ecommerce.Application.DTOs.CartItemDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:10:18.277 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api) in 766.8746ms
2025-11-10 23:10:18.367 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.AddToCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:18.376 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/cart/add - 200 null application/json; charset=utf-8 938.4459ms
2025-11-10 23:10:23.441 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:10:23.447 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:23.441 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:10:23.452 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 10.6562ms
2025-11-10 23:10:23.464 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:23.476 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:10:23.481 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 39.1941ms
2025-11-10 23:10:23.578 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:23.712 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:23.716 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:23.733 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:23.755 +05:30 [INF] Executed DbCommand (11ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:23.765 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:23.767 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:23.772 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:23.774 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:23.798 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:23.804 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:23.807 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:23.810 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:10:23.814 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 85.141ms
2025-11-10 23:10:23.818 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:10:23.821 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:23.826 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:23.833 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 356.4677ms
2025-11-10 23:10:23.897 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:23.913 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:10:23.919 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:23.930 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:23.959 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:23.964 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:23.966 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:23.973 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:24.022 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:24.025 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:24.026 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:24.028 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:10:24.031 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 113.2714ms
2025-11-10 23:10:24.034 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:10:24.041 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 223.4363ms
2025-11-10 23:10:27.343 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:10:27.343 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:10:27.354 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:27.369 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:27.371 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 27.9241ms
2025-11-10 23:10:27.373 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 30.5226ms
2025-11-10 23:10:27.468 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:10:27.493 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:27.504 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:10:27.523 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:10:27.545 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:27.593 +05:30 [INF] Executed DbCommand (36ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:27.612 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:27.636 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:27.678 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:27.687 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:10:27.694 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 156.9262ms
2025-11-10 23:10:27.704 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:10:27.718 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:10:27.721 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:10:27.736 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:10:27.738 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:10:27.766 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 298.4449ms
2025-11-10 23:10:27.785 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:10:27.860 +05:30 [INF] Executed DbCommand (49ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:10:28.091 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:10:28.101 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:10:28.177 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:10:28.188 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:10:28.244 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 483.72ms
2025-11-10 23:10:28.291 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:10:28.309 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 604.3393ms
2025-11-10 23:11:06.578 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 23:11:06.690 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:11:06.847 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 269.6234ms
2025-11-10 23:11:06.888 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 236
2025-11-10 23:11:06.913 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:11:06.931 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:11:06.963 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:11:07.026 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:11:07.039 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:11:07.046 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:11:07.048 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:11:07.131 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:11:07.135 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:11:07.157 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:11:07.430 +05:30 [ERR] Failed to check stock availability for ProductId: 3, Quantity: 1
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_CheckStockAvailability'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteNonQuery(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteNonQueryAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<InternalExecuteNonQueryAsync>b__210_1(IAsyncResult result)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Kanini.Ecommerce.Data.Repositories.Products.InventoryRepository.CheckStockAvailabilityAsync(Int32 productId, Int32 quantity) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Product\InventoryRepository.cs:line 170
ClientConnectionId:68743f78-4df6-4f90-8fd7-4cfd7eed5dd2
Error Number:2812,State:62,Class:16
2025-11-10 23:11:07.577 +05:30 [ERR] Order creation failed: Insufficient stock for product Hp laptop
2025-11-10 23:11:07.584 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 23:11:07.606 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 624.209ms
2025-11-10 23:11:07.614 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:11:07.678 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 789.3215ms
2025-11-10 23:14:18.832 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 23:14:18.841 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:14:18.843 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 11.3472ms
2025-11-10 23:14:18.851 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 236
2025-11-10 23:14:18.857 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:14:18.861 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:14:18.864 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:14:18.873 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:14:18.885 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:14:18.893 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:14:18.895 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:14:18.901 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:14:18.902 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:14:18.925 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:14:19.985 +05:30 [INF] Using VendorId: 1007 for order creation
2025-11-10 23:14:19.993 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:14:22.544 +05:30 [INF] Executed DbCommand (1,128ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 23:14:22.641 +05:30 [INF] Order created successfully with OrderId: 7
2025-11-10 23:14:25.954 +05:30 [INF] Executed DbCommand (2,990ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Boolean), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 1)) AS i ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn])
VALUES (i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DiscountAmount], i.[IsDeleted], i.[OrderId], i.[ProductId], i.[Quantity], i.[TenantId], i.[TotalPrice], i.[UnitPrice], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[OrderItemId], i._Position;
2025-11-10 23:14:26.107 +05:30 [INF] Getting order details for OrderId: 7
2025-11-10 23:14:26.112 +05:30 [INF] Getting order details for OrderId: 7
2025-11-10 23:14:27.944 +05:30 [INF] Order details retrieved for OrderId: 7
2025-11-10 23:14:28.072 +05:30 [ERR] Failed to get order items: Could not find stored procedure 'sp_GetOrderItems'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Could not find stored procedure 'sp_GetOrderItems'.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()
   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()
   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)
   at Microsoft.Data.SqlClient.SqlCommand.CompleteAsyncExecuteReader(Boolean isInternal, Boolean forDescribeParameterEncryption)
   at Microsoft.Data.SqlClient.SqlCommand.InternalEndExecuteReader(IAsyncResult asyncResult, Boolean isInternal, String endMethod)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteReaderInternal(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteReaderAsync(IAsyncResult asyncResult)
   at Microsoft.Data.SqlClient.SqlCommand.EndExecuteReaderAsyncCallback(IAsyncResult asyncResult)
   at System.Threading.Tasks.TaskFactory`1.FromAsyncCoreLogic(IAsyncResult iar, Func`2 endFunction, Action`1 endAction, Task`1 promise, Boolean requiresSynchronization)
--- End of stack trace from previous location ---
   at Kanini.Ecommerce.Data.Repositories.Orders.OrderRepository.GetOrderItemsAsync(Int32 orderId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Data\Repositories\Order\OrderRepository.cs:line 154
ClientConnectionId:4062d33d-b712-45ca-94f7-0ae06edd8ff7
Error Number:2812,State:62,Class:16
2025-11-10 23:14:28.512 +05:30 [ERR] Order creation failed: Database operation failed
2025-11-10 23:14:28.523 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 23:14:28.526 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 9654.5276ms
2025-11-10 23:14:28.600 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:14:28.648 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 9796.7671ms
2025-11-10 23:15:40.717 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 23:15:40.740 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:15:40.810 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 93.0051ms
2025-11-10 23:15:40.836 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 236
2025-11-10 23:15:40.843 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:15:40.851 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:15:40.859 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:15:40.876 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:15:40.964 +05:30 [INF] Executed DbCommand (78ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:15:40.972 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:15:40.975 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:15:41.001 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:15:41.003 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:15:41.091 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:15:41.100 +05:30 [INF] Using VendorId: 1007 for order creation
2025-11-10 23:15:41.102 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:15:41.197 +05:30 [INF] Executed DbCommand (89ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 23:15:41.205 +05:30 [INF] Order created successfully with OrderId: 8
2025-11-10 23:15:41.373 +05:30 [INF] Executed DbCommand (148ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Boolean), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 1)) AS i ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn])
VALUES (i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DiscountAmount], i.[IsDeleted], i.[OrderId], i.[ProductId], i.[Quantity], i.[TenantId], i.[TotalPrice], i.[UnitPrice], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[OrderItemId], i._Position;
2025-11-10 23:15:41.392 +05:30 [INF] Getting order details for OrderId: 8
2025-11-10 23:15:41.396 +05:30 [INF] Getting order details for OrderId: 8
2025-11-10 23:15:41.422 +05:30 [INF] Order details retrieved for OrderId: 8
2025-11-10 23:15:41.707 +05:30 [ERR] Failed to get order details: Missing type map configuration or unsupported mapping.

Mapping types:
Order -> OrderDetailsResponseDto
Kanini.Ecommerce.Domain.Entities.Order -> Kanini.Ecommerce.Application.DTOs.OrderDetailsResponseDto
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
Order -> OrderDetailsResponseDto
Kanini.Ecommerce.Domain.Entities.Order -> Kanini.Ecommerce.Application.DTOs.OrderDetailsResponseDto
   at lambda_method1777(Closure, Object, OrderDetailsResponseDto, ResolutionContext)
   at Kanini.Ecommerce.Application.Services.Orders.OrderService.GetOrderByIdAsync(Int32 orderId) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Order\OrderService.cs:line 358
2025-11-10 23:15:41.779 +05:30 [ERR] Order creation failed: An unexpected error occurred
2025-11-10 23:15:41.781 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 23:15:41.784 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 915.5057ms
2025-11-10 23:15:41.787 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:15:41.790 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 400 null application/json; charset=utf-8 953.9477ms
2025-11-10 23:17:18.920 +05:30 [INF] Application is shutting down...
2025-11-10 23:17:51.540 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:17:51.742 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:17:51.747 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:17:51.749 +05:30 [INF] Hosting environment: Development
2025-11-10 23:17:51.753 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:18:06.023 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 23:18:06.151 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:18:06.155 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:18:06.194 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 169.5675ms
2025-11-10 23:18:06.258 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 236
2025-11-10 23:18:06.272 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:18:06.590 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:18:06.653 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:18:07.071 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:18:08.541 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:18:10.501 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:18:10.751 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:18:10.756 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:18:11.019 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:18:11.025 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:18:11.066 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:18:11.120 +05:30 [INF] Using VendorId: 1007 for order creation
2025-11-10 23:18:11.126 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:18:11.523 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 23:18:11.571 +05:30 [INF] Order created successfully with OrderId: 9
2025-11-10 23:18:11.663 +05:30 [INF] Executed DbCommand (15ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Boolean), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 1)) AS i ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn])
VALUES (i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DiscountAmount], i.[IsDeleted], i.[OrderId], i.[ProductId], i.[Quantity], i.[TenantId], i.[TotalPrice], i.[UnitPrice], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[OrderItemId], i._Position;
2025-11-10 23:18:11.685 +05:30 [INF] Getting order details for OrderId: 9
2025-11-10 23:18:11.691 +05:30 [INF] Getting order details for OrderId: 9
2025-11-10 23:18:11.727 +05:30 [INF] Order details retrieved for OrderId: 9
2025-11-10 23:18:11.999 +05:30 [INF] Order details retrieved for OrderId: 9
2025-11-10 23:18:12.002 +05:30 [INF] Order created with Pending status. OrderId: 9. Payment required for confirmation.
2025-11-10 23:18:12.009 +05:30 [INF] Order created successfully with OrderId: 9
2025-11-10 23:18:12.090 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OrderDetailsResponseDto'.
2025-11-10 23:18:12.554 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 5887.6558ms
2025-11-10 23:18:12.559 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:18:12.619 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 201 null application/json; charset=utf-8 6359.8266ms
2025-11-10 23:21:31.229 +05:30 [INF] Application is shutting down...
2025-11-10 23:31:36.675 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:31:40.708 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:31:40.745 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:31:40.749 +05:30 [INF] Hosting environment: Development
2025-11-10 23:31:40.751 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:35:52.671 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-10 23:35:53.259 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:35:53.262 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:35:53.683 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 1029.5191ms
2025-11-10 23:35:53.741 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-10 23:35:53.757 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:35:54.945 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 23:35:55.588 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-10 23:35:59.006 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 23:35:59.102 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-10 23:36:00.168 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-10 23:36:05.540 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1016
2025-11-10 23:36:05.561 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-10 23:36:05.903 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-10 23:36:10.862 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:36:12.285 +05:30 [INF] Executed DbCommand (33ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-10 23:36:12.653 +05:30 [INF] Executed DbCommand (102ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-10 23:36:12.784 +05:30 [INF] Creating refresh token for UserId: 1016
2025-11-10 23:36:13.079 +05:30 [INF] Executed DbCommand (176ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-10 23:36:13.155 +05:30 [INF] Refresh token created successfully with Id: 44
2025-11-10 23:36:13.404 +05:30 [INF] Executed DbCommand (243ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-10 23:36:13.426 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 23:36:13.432 +05:30 [INF] Login successful for UserId: 1016
2025-11-10 23:36:13.448 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-10 23:36:13.546 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 17944.2121ms
2025-11-10 23:36:13.551 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-10 23:36:13.575 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 19833.5752ms
2025-11-10 23:36:13.700 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:36:13.709 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.713 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 11.5951ms
2025-11-10 23:36:13.720 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:36:13.758 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.799 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 23:36:13.804 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 23:36:13.807 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/product - null null
2025-11-10 23:36:13.814 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.817 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/category - null null
2025-11-10 23:36:13.818 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.823 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.826 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 26.6989ms
2025-11-10 23:36:13.832 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.834 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 30.0059ms
2025-11-10 23:36:13.836 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/product - 204 null null 28.8941ms
2025-11-10 23:36:13.845 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/category - 204 null null 28.0747ms
2025-11-10 23:36:13.860 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 23:36:13.870 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 23:36:13.882 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.877 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:13.947 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:36:13.947 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:36:13.961 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:36:13.999 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:36:14.011 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 23:36:14.013 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 23:36:14.024 +05:30 [INF] Getting all products started
2025-11-10 23:36:14.025 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:36:14.030 +05:30 [INF] Getting all categories
2025-11-10 23:36:14.033 +05:30 [INF] Getting all products started
2025-11-10 23:36:14.043 +05:30 [INF] Getting all categories started
2025-11-10 23:36:14.056 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 23:36:14.061 +05:30 [INF] Getting all products started
2025-11-10 23:36:14.141 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:36:14.168 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 23:36:14.172 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:36:14.219 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:36:14.255 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 228.0697ms
2025-11-10 23:36:14.269 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:36:14.271 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/category - null null
2025-11-10 23:36:14.298 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 437.4726ms
2025-11-10 23:36:14.312 +05:30 [INF] Executed DbCommand (81ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:36:14.313 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:14.350 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:36:14.362 +05:30 [INF] Route matched with {action = "GetAllCategories", controller = "Category"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllCategories() on controller Kanini.Ecommerce.Api.Controllers.CategoryController (Kanini.Ecommerce.Api).
2025-11-10 23:36:14.385 +05:30 [INF] Getting all categories
2025-11-10 23:36:14.390 +05:30 [INF] Getting all categories started
2025-11-10 23:36:14.395 +05:30 [INF] Executing stored procedure sp_GetAllCategories
2025-11-10 23:36:14.491 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:36:14.495 +05:30 [INF] Getting all categories completed. Found 2 categories
2025-11-10 23:36:14.501 +05:30 [INF] Retrieved 2 categories
2025-11-10 23:36:14.502 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:36:14.507 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.CategoryDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:36:14.512 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:14.514 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api) in 130.7354ms
2025-11-10 23:36:14.519 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:14.522 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CategoryController.GetAllCategories (Kanini.Ecommerce.Api)'
2025-11-10 23:36:14.527 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/category - 200 null application/json; charset=utf-8 257.1812ms
2025-11-10 23:36:14.539 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:14.644 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:14.687 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:14.692 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:14.695 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:36:14.763 +05:30 [INF] Executed DbCommand (20ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:36:14.776 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 765.3275ms
2025-11-10 23:36:14.780 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:36:14.794 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 1074.6057ms
2025-11-10 23:36:14.905 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:36:14.911 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:36:14.940 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:36:14.943 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:36:14.948 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:36:14.966 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 949.7534ms
2025-11-10 23:36:14.969 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/product - null null
2025-11-10 23:36:14.971 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:36:14.979 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:14.981 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 1111.3434ms
2025-11-10 23:36:14.984 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:36:14.998 +05:30 [INF] Route matched with {action = "GetAllProducts", controller = "Product"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAllProducts() on controller Kanini.Ecommerce.Api.Controllers.ProductController (Kanini.Ecommerce.Api).
2025-11-10 23:36:15.006 +05:30 [INF] Getting all products started
2025-11-10 23:36:15.008 +05:30 [INF] Getting all products started
2025-11-10 23:36:15.010 +05:30 [INF] Getting all products started
2025-11-10 23:36:15.179 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:36:15.193 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__productId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [p].[ImageId], [p].[AltText], [p].[CreatedBy], [p].[CreatedOn], [p].[DeletedBy], [p].[DeletedOn], [p].[DisplayOrder], [p].[ImagePath], [p].[IsDeleted], [p].[IsPrimary], [p].[ProductId], [p].[TenantId], [p].[UpdatedBy], [p].[UpdatedOn]
FROM [ProductImages] AS [p]
WHERE [p].[IsDeleted] = CAST(0 AS BIT) AND [p].[ProductId] = @__productId_0 AND [p].[IsDeleted] = CAST(0 AS BIT)
ORDER BY [p].[DisplayOrder]
2025-11-10 23:36:15.205 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:36:15.209 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:36:15.212 +05:30 [INF] Getting all products completed. Found 2 products
2025-11-10 23:36:15.223 +05:30 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[Kanini.Ecommerce.Application.DTOs.ProductListDto, Kanini.Ecommerce.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-11-10 23:36:15.228 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api) in 224.271ms
2025-11-10 23:36:15.233 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.ProductController.GetAllProducts (Kanini.Ecommerce.Api)'
2025-11-10 23:36:15.250 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/product - 200 null application/json; charset=utf-8 280.9967ms
2025-11-10 23:36:23.762 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:36:23.762 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:36:23.776 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:23.798 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 36.2238ms
2025-11-10 23:36:23.769 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:23.830 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 68.1998ms
2025-11-10 23:36:23.849 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:36:23.866 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:23.879 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:36:23.881 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:36:23.894 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:36:24.064 +05:30 [INF] Executed DbCommand (163ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:36:24.075 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:36:24.078 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:24.081 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:24.084 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:24.279 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:24.284 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:24.286 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:24.290 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:36:24.295 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 402.9467ms
2025-11-10 23:36:24.298 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:36:24.303 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:36:24.309 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:24.311 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 462.9065ms
2025-11-10 23:36:24.776 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:36:24.778 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:36:24.812 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:36:24.858 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:36:24.877 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:36:24.880 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:24.883 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:24.890 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:24.924 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:24.928 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:24.930 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:24.932 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:36:24.937 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 135.329ms
2025-11-10 23:36:24.950 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:36:24.994 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 696.5106ms
2025-11-10 23:36:48.979 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:36:48.980 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:36:49.008 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:49.018 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 34.5922ms
2025-11-10 23:36:48.992 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:49.029 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 50.328ms
2025-11-10 23:36:49.029 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:36:49.107 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:49.111 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:36:49.125 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:36:49.160 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:36:49.178 +05:30 [INF] Executed DbCommand (14ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:36:49.192 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:36:49.221 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:49.243 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:49.246 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:36:49.257 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 116.3217ms
2025-11-10 23:36:49.258 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:36:49.268 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:36:49.261 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:36:49.273 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 244.4357ms
2025-11-10 23:36:49.271 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:36:49.330 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:36:49.345 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:36:49.355 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:36:49.364 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:36:49.370 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:36:49.377 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:36:49.379 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:36:49.389 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 46.5308ms
2025-11-10 23:36:49.395 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:36:49.411 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 152.8548ms
2025-11-10 23:38:43.412 +05:30 [INF] Application is shutting down...
2025-11-10 23:39:25.729 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:39:25.936 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:39:25.941 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:39:25.943 +05:30 [INF] Hosting environment: Development
2025-11-10 23:39:25.945 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:39:31.175 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:39:31.179 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:39:31.179 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:39:31.415 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:39:31.532 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:39:31.532 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:39:31.532 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:39:31.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 386.1689ms
2025-11-10 23:39:31.551 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 385.9463ms
2025-11-10 23:39:31.552 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 386.0397ms
2025-11-10 23:39:31.677 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:39:31.677 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:39:31.767 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:39:31.768 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:39:32.060 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:39:32.060 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:39:32.128 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:39:32.128 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:39:32.681 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:39:32.683 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:39:34.197 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:39:35.543 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:39:35.543 +05:30 [INF] Executed DbCommand (76ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:39:35.883 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:39:35.883 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:39:35.893 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:39:35.912 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:39:35.922 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:39:35.914 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:39:36.023 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:39:36.092 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:39:36.136 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:39:36.143 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:39:36.145 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:39:36.152 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:39:36.190 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 3981.7233ms
2025-11-10 23:39:36.190 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 4042.0709ms
2025-11-10 23:39:36.212 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:39:36.229 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:39:36.238 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:39:36.258 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:39:36.311 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 4633.977ms
2025-11-10 23:39:36.312 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 4634.5514ms
2025-11-10 23:39:36.408 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:39:36.460 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:39:36.561 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:39:36.987 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:39:37.033 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:39:37.040 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:39:37.061 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:39:37.074 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:39:37.219 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 698.4311ms
2025-11-10 23:39:37.315 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:39:37.344 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 1131.2322ms
2025-11-10 23:40:58.862 +05:30 [INF] Application is shutting down...
2025-11-10 23:41:12.152 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:41:12.689 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:41:12.694 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:41:12.697 +05:30 [INF] Hosting environment: Development
2025-11-10 23:41:12.699 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:41:28.696 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:41:28.696 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/cart - null null
2025-11-10 23:41:28.696 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:41:28.875 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:41:28.879 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:41:28.879 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:41:28.879 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:41:28.896 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 203.261ms
2025-11-10 23:41:28.896 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/cart - 204 null null 203.2467ms
2025-11-10 23:41:28.896 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order/checkout-summary - 204 null null 203.2459ms
2025-11-10 23:41:29.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/cart - null null
2025-11-10 23:41:29.010 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:41:29.039 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:41:29.039 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:41:29.360 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:41:29.360 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:41:29.407 +05:30 [INF] Route matched with {action = "GetCart", controller = "Cart"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCart() on controller Kanini.Ecommerce.Api.Controllers.CartController (Kanini.Ecommerce.Api).
2025-11-10 23:41:29.407 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:41:29.840 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:41:29.842 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:41:32.127 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:41:34.165 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:41:34.165 +05:30 [INF] Executed DbCommand (74ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:41:34.488 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:41:34.488 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:41:34.495 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:41:34.501 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:41:34.502 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:41:34.505 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:41:34.557 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:41:34.557 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:41:34.602 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:41:34.605 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:41:34.612 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:41:34.615 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CartSummaryDto'.
2025-11-10 23:41:34.702 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - null null
2025-11-10 23:41:34.706 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 5265.5266ms
2025-11-10 23:41:34.706 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api) in 5268.9008ms
2025-11-10 23:41:34.709 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:41:34.713 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:41:34.716 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.CartController.GetCart (Kanini.Ecommerce.Api)'
2025-11-10 23:41:34.738 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:41:34.930 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 5909.5225ms
2025-11-10 23:41:34.969 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/cart - 200 null application/json; charset=utf-8 5957.7642ms
2025-11-10 23:41:34.979 +05:30 [INF] Route matched with {action = "GetCheckoutSummary", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetCheckoutSummary() on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:41:35.134 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:41:35.379 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:41:35.394 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:41:35.399 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:41:35.452 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:41:35.455 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.CheckoutSummaryDto'.
2025-11-10 23:41:35.462 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api) in 349.9307ms
2025-11-10 23:41:35.467 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.GetCheckoutSummary (Kanini.Ecommerce.Api)'
2025-11-10 23:41:35.472 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/api/order/checkout-summary - 200 null application/json; charset=utf-8 772.8542ms
2025-11-10 23:42:09.687 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/order - null null
2025-11-10 23:42:09.762 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:42:09.777 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/order - 204 null null 89.5228ms
2025-11-10 23:42:09.846 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/order - application/json 211
2025-11-10 23:42:09.853 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:42:09.859 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:42:09.883 +05:30 [INF] Route matched with {action = "CreateOrder", controller = "Order"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateOrder(Kanini.Ecommerce.Application.DTOs.CreateOrderRequestDto) on controller Kanini.Ecommerce.Api.Controllers.OrderController (Kanini.Ecommerce.Api).
2025-11-10 23:42:10.002 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:42:10.028 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:42:10.043 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:42:10.045 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:42:10.142 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:42:10.145 +05:30 [INF] Getting cart for CustomerId: 1003
2025-11-10 23:42:10.165 +05:30 [INF] Cart retrieved successfully for CustomerId: 1003
2025-11-10 23:42:10.233 +05:30 [INF] Using VendorId: 1007 for order creation
2025-11-10 23:42:10.241 +05:30 [INF] Order creation started for CustomerId: 1003
2025-11-10 23:42:10.838 +05:30 [INF] Executed DbCommand (41ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (DbType = DateTime2), @p6='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p7='?' (DbType = Boolean), @p8='?' (Size = 500), @p9='?' (Size = 20), @p10='?' (DbType = DateTime2), @p11='?' (Size = 500), @p12='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p13='?' (Size = 100), @p14='?' (Size = 15), @p15='?' (Size = 10), @p16='?' (Size = 100), @p17='?' (DbType = Int32), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (Size = 100), @p20='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p21='?' (Size = 100), @p22='?' (DbType = DateTime2), @p23='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Orders] ([CreatedBy], [CreatedOn], [CustomerId], [DeletedBy], [DeletedOn], [DeliveredDate], [DiscountAmount], [IsDeleted], [Notes], [OrderNumber], [ShippedDate], [ShippingAddress], [ShippingAmount], [ShippingCity], [ShippingPhone], [ShippingPinCode], [ShippingState], [Status], [TaxAmount], [TenantId], [TotalAmount], [UpdatedBy], [UpdatedOn], [VendorId])
OUTPUT INSERTED.[OrderId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23);
2025-11-10 23:42:10.913 +05:30 [INF] Order created successfully with OrderId: 10
2025-11-10 23:42:11.055 +05:30 [INF] Executed DbCommand (40ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p5='?' (DbType = Boolean), @p6='?' (DbType = Int32), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 100), @p10='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p11='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p12='?' (Size = 100), @p13='?' (DbType = DateTime2), @p14='?' (Size = 100), @p15='?' (DbType = DateTime2), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p19='?' (DbType = Boolean), @p20='?' (DbType = Int32), @p21='?' (DbType = Int32), @p22='?' (DbType = Int32), @p23='?' (Size = 100), @p24='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p25='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p26='?' (Size = 100), @p27='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
MERGE [OrderItems] USING (
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, 0),
(@p14, @p15, @p16, @p17, @p18, @p19, @p20, @p21, @p22, @p23, @p24, @p25, @p26, @p27, 1)) AS i ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn], _Position) ON 1=0
WHEN NOT MATCHED THEN
INSERT ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [DiscountAmount], [IsDeleted], [OrderId], [ProductId], [Quantity], [TenantId], [TotalPrice], [UnitPrice], [UpdatedBy], [UpdatedOn])
VALUES (i.[CreatedBy], i.[CreatedOn], i.[DeletedBy], i.[DeletedOn], i.[DiscountAmount], i.[IsDeleted], i.[OrderId], i.[ProductId], i.[Quantity], i.[TenantId], i.[TotalPrice], i.[UnitPrice], i.[UpdatedBy], i.[UpdatedOn])
OUTPUT INSERTED.[OrderItemId], i._Position;
2025-11-10 23:42:11.091 +05:30 [INF] Getting order details for OrderId: 10
2025-11-10 23:42:11.095 +05:30 [INF] Getting order details for OrderId: 10
2025-11-10 23:42:11.112 +05:30 [INF] Order details retrieved for OrderId: 10
2025-11-10 23:42:11.174 +05:30 [INF] Order details retrieved for OrderId: 10
2025-11-10 23:42:11.176 +05:30 [INF] Order created with Pending status. OrderId: 10. Payment required for confirmation.
2025-11-10 23:42:11.181 +05:30 [INF] Order created successfully with OrderId: 10
2025-11-10 23:42:11.258 +05:30 [INF] Executing CreatedAtActionResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OrderDetailsResponseDto'.
2025-11-10 23:42:11.626 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api) in 1729.7616ms
2025-11-10 23:42:11.629 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.OrderController.CreateOrder (Kanini.Ecommerce.Api)'
2025-11-10 23:42:11.635 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/order - 201 null application/json; charset=utf-8 1788.8685ms
2025-11-10 23:42:25.348 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/payment/initiate - null null
2025-11-10 23:42:25.454 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:42:25.539 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/payment/initiate - 204 null null 191.1868ms
2025-11-10 23:42:25.569 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/payment/initiate - application/json 41
2025-11-10 23:42:25.580 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:42:25.624 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api)'
2025-11-10 23:42:25.639 +05:30 [INF] Route matched with {action = "InitiatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitiatePayment(Kanini.Ecommerce.Application.DTOs.InitiatePaymentRequestDto) on controller Kanini.Ecommerce.Api.Controllers.PaymentController (Kanini.Ecommerce.Api).
2025-11-10 23:42:25.812 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:42:26.238 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:42:26.246 +05:30 [INF] Getting order details for OrderId: 10
2025-11-10 23:42:26.272 +05:30 [INF] Order details retrieved for OrderId: 10
2025-11-10 23:42:26.277 +05:30 [ERR] Payment initiation failed: Order does not belong to customer
2025-11-10 23:42:26.280 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 23:42:26.304 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api) in 655.2331ms
2025-11-10 23:42:26.313 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api)'
2025-11-10 23:42:26.316 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/payment/initiate - 400 null application/json; charset=utf-8 747.6028ms
2025-11-10 23:55:53.810 +05:30 [INF] Application is shutting down...
2025-11-10 23:57:00.024 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:57:00.277 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:57:00.283 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:57:00.285 +05:30 [INF] Hosting environment: Development
2025-11-10 23:57:00.287 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:57:05.969 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/payment/initiate - null null
2025-11-10 23:57:06.094 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:57:06.097 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:57:06.110 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/payment/initiate - 204 null null 144.3248ms
2025-11-10 23:57:06.313 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/payment/initiate - application/json 41
2025-11-10 23:57:06.330 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:57:06.505 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api)'
2025-11-10 23:57:06.645 +05:30 [INF] Route matched with {action = "InitiatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitiatePayment(Kanini.Ecommerce.Application.DTOs.InitiatePaymentRequestDto) on controller Kanini.Ecommerce.Api.Controllers.PaymentController (Kanini.Ecommerce.Api).
2025-11-10 23:57:06.974 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:57:08.291 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:57:09.990 +05:30 [INF] Executed DbCommand (69ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:57:10.324 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:57:10.331 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:57:10.342 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:57:10.351 +05:30 [INF] Getting order details for OrderId: 10
2025-11-10 23:57:10.375 +05:30 [INF] Order details retrieved for OrderId: 10
2025-11-10 23:57:12.804 +05:30 [ERR] Payment initiation failed: Requested value 'Razorpay' was not found.
System.ArgumentException: Requested value 'Razorpay' was not found.
   at System.Enum.TryParseByName[TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TStorage& result)
   at System.Enum.TryParseByValueOrName[TUnderlying,TStorage](RuntimeType enumType, ReadOnlySpan`1 value, Boolean ignoreCase, Boolean throwOnFailure, TUnderlying& result)
   at System.Enum.Parse[TEnum](String value, Boolean ignoreCase)
   at System.Enum.Parse[TEnum](String value)
   at Kanini.Ecommerce.Application.Services.Payments.PaymentService.InitiatePaymentAsync(Int32 customerId, InitiatePaymentRequestDto request, String createdBy) in C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Application\Services\Payment\PaymentService.cs:line 95
2025-11-10 23:57:12.882 +05:30 [ERR] Payment initiation failed: An unexpected error occurred
2025-11-10 23:57:12.899 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-10 23:57:12.948 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api) in 6289.4743ms
2025-11-10 23:57:12.961 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api)'
2025-11-10 23:57:12.995 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/payment/initiate - 400 null application/json; charset=utf-8 6682.42ms
2025-11-10 23:57:51.114 +05:30 [INF] Application is shutting down...
2025-11-10 23:58:10.839 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-10 23:58:11.125 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-10 23:58:11.150 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-10 23:58:11.155 +05:30 [INF] Hosting environment: Development
2025-11-10 23:58:11.159 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-10 23:58:13.161 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/payment/initiate - null null
2025-11-10 23:58:13.271 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-10 23:58:13.275 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:58:13.299 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/payment/initiate - 204 null null 147.9464ms
2025-11-10 23:58:13.361 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/payment/initiate - application/json 41
2025-11-10 23:58:13.381 +05:30 [INF] CORS policy execution successful.
2025-11-10 23:58:13.635 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api)'
2025-11-10 23:58:13.700 +05:30 [INF] Route matched with {action = "InitiatePayment", controller = "Payment"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] InitiatePayment(Kanini.Ecommerce.Application.DTOs.InitiatePaymentRequestDto) on controller Kanini.Ecommerce.Api.Controllers.PaymentController (Kanini.Ecommerce.Api).
2025-11-10 23:58:14.056 +05:30 [INF] Looking up customer for UserId: 1016
2025-11-10 23:58:15.801 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-10 23:58:17.975 +05:30 [INF] Executed DbCommand (82ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [c].[CustomerId], [c].[Address], [c].[City], [c].[CreatedBy], [c].[CreatedOn], [c].[DateOfBirth], [c].[DeletedBy], [c].[DeletedOn], [c].[FirstName], [c].[Gender], [c].[IsActive], [c].[IsDeleted], [c].[LastName], [c].[MiddleName], [c].[PinCode], [c].[State], [c].[TenantId], [c].[UpdatedBy], [c].[UpdatedOn], [c].[UserId], [u0].[UserId], [u0].[CreatedBy], [u0].[CreatedOn], [u0].[DeletedBy], [u0].[DeletedOn], [u0].[Email], [u0].[FailedLoginAttempts], [u0].[IsActive], [u0].[IsDeleted], [u0].[IsEmailVerified], [u0].[LastLogin], [u0].[LockoutEnd], [u0].[PasswordHash], [u0].[Phone], [u0].[Role], [u0].[TenantId], [u0].[UpdatedBy], [u0].[UpdatedOn]
FROM [Customers] AS [c]
INNER JOIN (
    SELECT [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
    FROM [Users] AS [u]
    WHERE [u].[IsDeleted] = CAST(0 AS BIT)
) AS [u0] ON [c].[UserId] = [u0].[UserId]
WHERE [c].[IsDeleted] = CAST(0 AS BIT) AND [c].[UserId] = @__userId_0 AND [c].[IsDeleted] = CAST(0 AS BIT)
2025-11-10 23:58:18.367 +05:30 [INF] Found CustomerId: 1003 for UserId: 1016
2025-11-10 23:58:18.376 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:58:18.558 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:58:18.563 +05:30 [INF] Getting order details for OrderId: 10
2025-11-10 23:58:18.605 +05:30 [INF] Order details retrieved for OrderId: 10
2025-11-10 23:58:19.431 +05:30 [INF] Payment initiation started for OrderId: 10
2025-11-10 23:58:19.901 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (Precision = 18) (Scale = 2) (DbType = Decimal), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2), @p3='?' (Size = 100), @p4='?' (DbType = DateTime2), @p5='?' (Size = 500), @p6='?' (DbType = Boolean), @p7='?' (DbType = Int32), @p8='?' (DbType = DateTime2), @p9='?' (DbType = Int32), @p10='?' (DbType = Int32), @p11='?' (Size = 100), @p12='?' (Size = 100), @p13='?' (Size = 100), @p14='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Payments] ([Amount], [CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [FailureReason], [IsDeleted], [OrderId], [PaymentDate], [PaymentMethod], [Status], [TenantId], [TransactionId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[PaymentId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14);
2025-11-10 23:58:19.974 +05:30 [INF] Payment initiated successfully with PaymentId: 1
2025-11-10 23:58:19.978 +05:30 [INF] Payment initiated successfully with PaymentId: 1
2025-11-10 23:58:19.980 +05:30 [INF] Payment initiated successfully with PaymentId: RazorpayOrder
2025-11-10 23:58:19.993 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RazorpayOrderResponseDto'.
2025-11-10 23:58:20.037 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api) in 6324.0526ms
2025-11-10 23:58:20.044 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.PaymentController.InitiatePayment (Kanini.Ecommerce.Api)'
2025-11-10 23:58:20.088 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/payment/initiate - 200 null application/json; charset=utf-8 6726.6172ms
