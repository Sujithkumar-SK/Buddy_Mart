2025-11-08 19:22:05.705 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-08 19:22:07.317 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-08 19:22:07.357 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-08 19:22:07.361 +05:30 [INF] Hosting environment: Development
2025-11-08 19:22:07.364 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-08 19:30:11.360 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 19:30:11.703 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-08 19:30:11.707 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:30:11.828 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 470.1041ms
2025-11-08 19:34:31.490 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 19:34:31.506 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:34:31.509 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 19.3874ms
2025-11-08 19:38:09.778 +05:30 [INF] Application is shutting down...
2025-11-08 19:40:04.362 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-08 19:40:14.036 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-08 19:40:14.042 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-08 19:40:14.045 +05:30 [INF] Hosting environment: Development
2025-11-08 19:40:14.047 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-08 19:40:50.968 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 19:40:51.446 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-08 19:40:51.515 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:40:51.571 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 615.1411ms
2025-11-08 19:43:18.218 +05:30 [INF] Application is shutting down...
2025-11-08 19:43:32.261 +05:30 [INF] User profile is available. Using 'C:\Users\SUJITH KUMAR\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-11-08 19:43:32.552 +05:30 [INF] Now listening on: http://localhost:5108
2025-11-08 19:43:32.559 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-11-08 19:43:32.562 +05:30 [INF] Hosting environment: Development
2025-11-08 19:43:32.564 +05:30 [INF] Content root path: C:\Users\SUJITH KUMAR\OneDrive\Documents\Kanini\Ecommerce_React_Api\Backend\Kanini.Ecommerce.Api
2025-11-08 19:43:41.749 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 19:43:41.935 +05:30 [WRN] Failed to determine the https port for redirect.
2025-11-08 19:43:41.939 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:43:41.959 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 204.5456ms
2025-11-08 19:43:41.994 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-08 19:43:42.009 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:43:42.350 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 19:43:42.477 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 19:43:43.477 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 19:43:43.484 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 19:43:43.566 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 19:43:47.726 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 6
2025-11-08 19:43:47.745 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 19:43:47.898 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-08 19:43:49.961 +05:30 [WRN] Entity 'User' has a global query filter defined and is the required end of a relationship with the entity 'RefreshToken'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-11-08 19:43:52.005 +05:30 [INF] Executed DbCommand (129ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 19:43:52.828 +05:30 [INF] Executed DbCommand (470ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-08 19:43:53.098 +05:30 [INF] Creating refresh token for UserId: 6
2025-11-08 19:43:54.709 +05:30 [INF] Executed DbCommand (1,356ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-08 19:43:54.777 +05:30 [INF] Refresh token created successfully with Id: 5
2025-11-08 19:43:54.794 +05:30 [INF] Executed DbCommand (7ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 19:43:54.804 +05:30 [INF] Login successful for UserId: 6
2025-11-08 19:43:54.807 +05:30 [INF] Login successful for UserId: 6
2025-11-08 19:43:54.860 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-08 19:43:54.907 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 12412.0523ms
2025-11-08 19:43:54.913 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 19:43:54.987 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 12993.254ms
2025-11-08 19:54:47.574 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 19:54:47.714 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:54:47.718 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 143.97ms
2025-11-08 19:54:47.737 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 64
2025-11-08 19:54:47.745 +05:30 [INF] CORS policy execution successful.
2025-11-08 19:54:47.749 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 19:54:47.752 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 19:54:47.769 +05:30 [INF] Login attempt started for Email: sujithkumar.kanini@outlook.com
2025-11-08 19:54:47.771 +05:30 [INF] Login attempt started for Email: sujithkumar.kanini@outlook.com
2025-11-08 19:54:47.775 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumar.kanini@outlook.com
2025-11-08 19:54:48.157 +05:30 [INF] User found for Email: sujithkumar.kanini@outlook.com, UserId: 4
2025-11-08 19:54:48.160 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumar.kanini@outlook.com
2025-11-08 19:54:48.224 +05:30 [INF] Credential validation result for Email: sujithkumar.kanini@outlook.com - true
2025-11-08 19:54:48.315 +05:30 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 19:54:48.360 +05:30 [INF] Executed DbCommand (32ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-08 19:54:48.367 +05:30 [INF] Creating refresh token for UserId: 4
2025-11-08 19:54:48.460 +05:30 [INF] Executed DbCommand (85ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-08 19:54:48.481 +05:30 [INF] Refresh token created successfully with Id: 6
2025-11-08 19:54:48.496 +05:30 [INF] Executed DbCommand (10ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 19:54:48.503 +05:30 [INF] Login successful for UserId: 4
2025-11-08 19:54:48.508 +05:30 [INF] Login successful for UserId: 4
2025-11-08 19:54:48.512 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-08 19:54:48.517 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 758.3898ms
2025-11-08 19:54:48.526 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 19:54:48.529 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 792.5503ms
2025-11-08 20:10:54.793 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 20:10:54.799 +05:30 [INF] CORS policy execution successful.
2025-11-08 20:10:54.802 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 8.2575ms
2025-11-08 20:10:54.935 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 64
2025-11-08 20:10:54.973 +05:30 [INF] CORS policy execution successful.
2025-11-08 20:10:54.993 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 20:10:54.997 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 20:10:55.018 +05:30 [INF] Login attempt started for Email: sujithkumar.kanini@outlook.com
2025-11-08 20:10:55.021 +05:30 [INF] Login attempt started for Email: sujithkumar.kanini@outlook.com
2025-11-08 20:10:55.026 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumar.kanini@outlook.com
2025-11-08 20:10:55.512 +05:30 [INF] User found for Email: sujithkumar.kanini@outlook.com, UserId: 4
2025-11-08 20:10:55.515 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumar.kanini@outlook.com
2025-11-08 20:10:55.570 +05:30 [INF] Credential validation result for Email: sujithkumar.kanini@outlook.com - true
2025-11-08 20:10:55.803 +05:30 [INF] Executed DbCommand (124ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 20:10:56.163 +05:30 [INF] Executed DbCommand (347ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-08 20:10:56.169 +05:30 [INF] Creating refresh token for UserId: 4
2025-11-08 20:10:56.275 +05:30 [INF] Executed DbCommand (100ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-08 20:10:56.283 +05:30 [INF] Refresh token created successfully with Id: 7
2025-11-08 20:10:56.295 +05:30 [INF] Executed DbCommand (9ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 20:10:56.301 +05:30 [INF] Login successful for UserId: 4
2025-11-08 20:10:56.303 +05:30 [INF] Login successful for UserId: 4
2025-11-08 20:10:56.307 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-08 20:10:56.310 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 1308.1037ms
2025-11-08 20:10:56.315 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 20:10:56.318 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 1382.1564ms
2025-11-08 20:11:46.648 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 20:11:46.667 +05:30 [INF] CORS policy execution successful.
2025-11-08 20:11:46.669 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 20.9582ms
2025-11-08 20:11:46.690 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 73
2025-11-08 20:11:46.702 +05:30 [INF] CORS policy execution successful.
2025-11-08 20:11:46.704 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 20:11:46.707 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 20:11:46.721 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 20:11:46.743 +05:30 [INF] Login attempt started for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 20:11:46.746 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 20:11:46.771 +05:30 [INF] User found for Email: sujithkumarsenthilkumar777@gmail.com, UserId: 6
2025-11-08 20:11:46.779 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: sujithkumarsenthilkumar777@gmail.com
2025-11-08 20:11:46.790 +05:30 [INF] Credential validation result for Email: sujithkumarsenthilkumar777@gmail.com - true
2025-11-08 20:11:46.803 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 20:11:46.832 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-08 20:11:46.839 +05:30 [INF] Creating refresh token for UserId: 6
2025-11-08 20:11:46.866 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-08 20:11:46.919 +05:30 [INF] Refresh token created successfully with Id: 8
2025-11-08 20:11:47.101 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 20:11:47.110 +05:30 [INF] Login successful for UserId: 6
2025-11-08 20:11:47.167 +05:30 [INF] Login successful for UserId: 6
2025-11-08 20:11:47.170 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-08 20:11:47.177 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 457.2592ms
2025-11-08 20:11:47.187 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 20:11:47.192 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 499.2943ms
2025-11-08 20:13:53.542 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-08 20:13:53.559 +05:30 [INF] CORS policy execution successful.
2025-11-08 20:13:53.562 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 20.4416ms
2025-11-08 20:13:53.590 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 127
2025-11-08 20:13:53.601 +05:30 [INF] CORS policy execution successful.
2025-11-08 20:13:53.607 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 20:13:53.647 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 20:13:53.757 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 20:13:53.783 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 20:13:53.787 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 20:13:53.802 +05:30 [WRN] No user found for Email: skempire69@gmail.com
2025-11-08 20:13:53.815 +05:30 [INF] OTP generated successfully
2025-11-08 20:13:53.833 +05:30 [INF] OTP JWT token with registration data created for email: skempire69@gmail.com, type: Registration_1
2025-11-08 20:13:53.837 +05:30 [INF] Email sending started to: skempire69@gmail.com
2025-11-08 20:13:58.031 +05:30 [INF] Email sent successfully to: skempire69@gmail.com
2025-11-08 20:13:58.035 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 20:13:58.037 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 20:13:58.039 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-08 20:13:58.045 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 4394.9012ms
2025-11-08 20:13:58.048 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 20:13:58.051 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 4460.6139ms
2025-11-08 21:06:18.775 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-08 21:06:18.845 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:06:18.847 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 83.8833ms
2025-11-08 21:06:18.892 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 128
2025-11-08 21:06:18.992 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:06:19.066 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:06:19.103 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:06:19.351 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 21:06:19.354 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 21:06:19.358 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:06:19.762 +05:30 [WRN] No user found for Email: skempire69@gmail.com
2025-11-08 21:06:19.766 +05:30 [INF] OTP generated successfully
2025-11-08 21:06:19.791 +05:30 [INF] OTP JWT token with registration data created for email: skempire69@gmail.com, type: Registration_1
2025-11-08 21:06:19.793 +05:30 [INF] Email sending started to: skempire69@gmail.com
2025-11-08 21:06:23.307 +05:30 [INF] Email sent successfully to: skempire69@gmail.com
2025-11-08 21:06:23.311 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 21:06:23.313 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 21:06:23.317 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-08 21:06:23.320 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 4207.5824ms
2025-11-08 21:06:23.328 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:06:23.331 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 4438.9312ms
2025-11-08 21:06:47.269 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-08 21:06:47.275 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:06:47.279 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 9.5117ms
2025-11-08 21:06:47.314 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1033
2025-11-08 21:06:47.325 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:06:47.332 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:06:47.569 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:06:47.738 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:06:47.900 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:06:48.387 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - false
2025-11-08 21:06:48.391 +05:30 [WRN] OTP validation failed for Email: skempire69@gmail.com
2025-11-08 21:06:48.395 +05:30 [ERR] OTP validation failed for Email: skempire69@gmail.com
2025-11-08 21:06:48.512 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-08 21:06:48.696 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 1121.5383ms
2025-11-08 21:06:48.700 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:06:48.781 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 400 null application/json; charset=utf-8 1467.3444ms
2025-11-08 21:07:02.152 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-08 21:07:02.162 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:07:02.165 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 12.4707ms
2025-11-08 21:07:02.193 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1033
2025-11-08 21:07:02.202 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:07:02.208 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:07:02.215 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:07:02.229 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:07:02.232 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:07:02.251 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - true
2025-11-08 21:07:02.333 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: skempire69@gmail.com
2025-11-08 21:07:02.660 +05:30 [INF] Email exists check result for skempire69@gmail.com: false
2025-11-08 21:07:02.663 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-08 21:07:02.694 +05:30 [INF] Registration data extracted from token successfully
2025-11-08 21:07:02.733 +05:30 [INF] Creating user for Email: skempire69@gmail.com
2025-11-08 21:07:03.227 +05:30 [INF] Executed DbCommand (146ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-08 21:07:03.280 +05:30 [INF] User created successfully with UserId: 1001
2025-11-08 21:07:03.308 +05:30 [INF] Creating customer for UserId: 1001
2025-11-08 21:07:03.557 +05:30 [INF] Executed DbCommand (42ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (Size = 50), @p13='?' (Size = 10), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Address], [City], [CreatedBy], [CreatedOn], [DateOfBirth], [DeletedBy], [DeletedOn], [FirstName], [Gender], [IsActive], [IsDeleted], [LastName], [MiddleName], [PinCode], [State], [TenantId], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-11-08 21:07:03.582 +05:30 [INF] Customer created successfully with CustomerId: 1001
2025-11-08 21:07:03.590 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-08 21:07:03.594 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-08 21:07:03.620 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 1391.6695ms
2025-11-08 21:07:03.630 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:07:03.633 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 1439.2049ms
2025-11-08 21:07:46.042 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 21:07:46.051 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:07:46.224 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 182.2733ms
2025-11-08 21:07:46.239 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 56
2025-11-08 21:07:46.245 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:07:46.248 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:07:46.254 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:07:46.260 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:07:46.261 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:07:46.263 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:07:46.476 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1001
2025-11-08 21:07:46.478 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-08 21:07:46.677 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - false
2025-11-08 21:07:46.729 +05:30 [INF] Executed DbCommand (18ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 21:07:46.879 +05:30 [INF] Executed DbCommand (111ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (Size = 100), @p2='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedBy] = @p1, [UpdatedOn] = @p2
OUTPUT 1
WHERE [UserId] = @p3;
2025-11-08 21:07:46.887 +05:30 [WRN] Login failed: Invalid credentials
2025-11-08 21:07:46.890 +05:30 [ERR] Login failed: Invalid email or password
2025-11-08 21:07:46.893 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-08 21:07:46.896 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 638.077ms
2025-11-08 21:07:46.910 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:07:46.914 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 674.2151ms
2025-11-08 21:07:56.546 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 21:07:56.590 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:07:56.592 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 45.6207ms
2025-11-08 21:07:56.622 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 58
2025-11-08 21:07:56.629 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:07:56.631 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:07:56.637 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:07:56.682 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:07:56.694 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:07:56.697 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:07:56.711 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1001
2025-11-08 21:07:56.714 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-08 21:07:56.731 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - false
2025-11-08 21:07:56.756 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 21:07:57.120 +05:30 [INF] Executed DbCommand (293ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 21:07:57.126 +05:30 [WRN] Login failed: Invalid credentials
2025-11-08 21:07:57.128 +05:30 [ERR] Login failed: Invalid email or password
2025-11-08 21:07:57.130 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-08 21:07:57.138 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 457.5208ms
2025-11-08 21:07:57.146 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:07:57.151 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 529.0617ms
2025-11-08 21:08:30.320 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 21:08:30.327 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:08:30.332 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 12.1096ms
2025-11-08 21:08:30.404 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-08 21:08:30.431 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:08:30.469 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:08:30.473 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:08:30.477 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:08:30.482 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:08:30.487 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:08:30.587 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1001
2025-11-08 21:08:30.589 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-08 21:08:30.603 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - false
2025-11-08 21:08:30.610 +05:30 [INF] Executed DbCommand (3ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 21:08:30.635 +05:30 [INF] Executed DbCommand (13ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [FailedLoginAttempts] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 21:08:30.644 +05:30 [WRN] Login failed: Invalid credentials
2025-11-08 21:08:30.649 +05:30 [ERR] Login failed: Invalid email or password
2025-11-08 21:08:30.652 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-08 21:08:30.656 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 179.5408ms
2025-11-08 21:08:30.671 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:08:30.684 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 400 null application/json; charset=utf-8 279.3764ms
2025-11-08 21:20:26.071 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-08 21:20:26.077 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:20:26.081 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 9.6906ms
2025-11-08 21:20:26.170 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 143
2025-11-08 21:20:26.180 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:20:26.211 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:20:26.214 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:20:26.222 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 21:20:26.227 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 21:20:26.230 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:20:26.348 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1001
2025-11-08 21:20:26.354 +05:30 [WRN] Registration OTP failed: Email already exists - skempire69@gmail.com
2025-11-08 21:20:26.384 +05:30 [ERR] Registration OTP failed: Email already exists
2025-11-08 21:20:26.415 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-08 21:20:26.423 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 202.7405ms
2025-11-08 21:20:26.431 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:20:26.440 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 400 null application/json; charset=utf-8 269.9474ms
2025-11-08 21:21:09.347 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - null null
2025-11-08 21:21:09.357 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:21:09.360 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/register-with-otp - 204 null null 14.0309ms
2025-11-08 21:21:09.496 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - application/json 143
2025-11-08 21:21:09.526 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:21:09.528 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:21:09.540 +05:30 [INF] Route matched with {action = "RegisterWithOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterWithOtp(Kanini.Ecommerce.Application.DTOs.RegisterWithOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:21:09.553 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 21:21:09.556 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: Registration
2025-11-08 21:21:09.558 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:21:09.572 +05:30 [WRN] No user found for Email: skempire69@gmail.com
2025-11-08 21:21:09.575 +05:30 [INF] OTP generated successfully
2025-11-08 21:21:09.577 +05:30 [INF] OTP JWT token with registration data created for email: skempire69@gmail.com, type: Registration_1
2025-11-08 21:21:09.580 +05:30 [INF] Email sending started to: skempire69@gmail.com
2025-11-08 21:21:13.250 +05:30 [INF] Email sent successfully to: skempire69@gmail.com
2025-11-08 21:21:13.254 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 21:21:13.257 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 21:21:13.264 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-08 21:21:13.268 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api) in 3721.7121ms
2025-11-08 21:21:13.289 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.RegisterWithOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:21:13.412 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/register-with-otp - 200 null application/json; charset=utf-8 3916.2668ms
2025-11-08 21:21:31.526 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - null null
2025-11-08 21:21:31.575 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:21:31.584 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-registration-otp - 204 null null 58.0824ms
2025-11-08 21:21:31.658 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - application/json 1025
2025-11-08 21:21:31.784 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:21:31.787 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:21:31.790 +05:30 [INF] Route matched with {action = "VerifyRegistrationOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyRegistrationOtp(Kanini.Ecommerce.Application.DTOs.VerifyRegistrationOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:21:31.804 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:21:31.807 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:21:31.811 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - true
2025-11-08 21:21:31.823 +05:30 [INF] Executing stored procedure sp_CheckEmailExists for Email: skempire69@gmail.com
2025-11-08 21:21:31.892 +05:30 [INF] Email exists check result for skempire69@gmail.com: false
2025-11-08 21:21:31.898 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-08 21:21:31.902 +05:30 [INF] Registration data extracted from token successfully
2025-11-08 21:21:31.903 +05:30 [INF] Creating user for Email: skempire69@gmail.com
2025-11-08 21:21:31.932 +05:30 [INF] Executed DbCommand (25ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (Size = 150), @p5='?' (DbType = Int32), @p6='?' (DbType = Boolean), @p7='?' (DbType = Boolean), @p8='?' (DbType = Boolean), @p9='?' (DbType = DateTime2), @p10='?' (DbType = DateTime2), @p11='?' (Size = 256), @p12='?' (Size = 10), @p13='?' (DbType = Int32), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Users] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [Email], [FailedLoginAttempts], [IsActive], [IsDeleted], [IsEmailVerified], [LastLogin], [LockoutEnd], [PasswordHash], [Phone], [Role], [TenantId], [UpdatedBy], [UpdatedOn])
OUTPUT INSERTED.[UserId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2025-11-08 21:21:31.940 +05:30 [INF] User created successfully with UserId: 1002
2025-11-08 21:21:31.942 +05:30 [INF] Creating customer for UserId: 1002
2025-11-08 21:21:31.987 +05:30 [INF] Executed DbCommand (37ms) [Parameters=[@p0='?' (Size = 500), @p1='?' (Size = 100), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = Date), @p5='?' (Size = 100), @p6='?' (DbType = DateTime2), @p7='?' (Size = 50), @p8='?' (DbType = Int32), @p9='?' (DbType = Boolean), @p10='?' (DbType = Boolean), @p11='?' (Size = 50), @p12='?' (Size = 50), @p13='?' (Size = 10), @p14='?' (Size = 100), @p15='?' (Size = 100), @p16='?' (Size = 100), @p17='?' (DbType = DateTime2), @p18='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Customers] ([Address], [City], [CreatedBy], [CreatedOn], [DateOfBirth], [DeletedBy], [DeletedOn], [FirstName], [Gender], [IsActive], [IsDeleted], [LastName], [MiddleName], [PinCode], [State], [TenantId], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[CustomerId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18);
2025-11-08 21:21:31.993 +05:30 [INF] Customer created successfully with CustomerId: 1002
2025-11-08 21:21:32.002 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-08 21:21:32.003 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.RegistrationResponseDto'.
2025-11-08 21:21:32.005 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api) in 205.3916ms
2025-11-08 21:21:32.009 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyRegistrationOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:21:32.017 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-registration-otp - 200 null application/json; charset=utf-8 359.414ms
2025-11-08 21:21:50.605 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 21:21:50.727 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:21:50.730 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 124.683ms
2025-11-08 21:21:50.748 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 57
2025-11-08 21:21:50.829 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:21:50.871 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:21:50.896 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:21:50.924 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:21:50.940 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:21:50.943 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:21:50.946 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-08 21:21:50.956 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-08 21:21:50.964 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-08 21:21:50.977 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 21:21:51.010 +05:30 [INF] Executed DbCommand (22ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 100), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedBy] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 21:21:51.021 +05:30 [INF] Creating refresh token for UserId: 1002
2025-11-08 21:21:51.355 +05:30 [INF] Executed DbCommand (44ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-08 21:21:51.377 +05:30 [INF] Refresh token created successfully with Id: 9
2025-11-08 21:21:51.437 +05:30 [INF] Executed DbCommand (54ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 21:21:51.443 +05:30 [INF] Login successful for UserId: 1002
2025-11-08 21:21:51.445 +05:30 [INF] Login successful for UserId: 1002
2025-11-08 21:21:51.451 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-08 21:21:51.455 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 531.5132ms
2025-11-08 21:21:51.459 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:21:51.462 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 713.8095ms
2025-11-08 21:24:52.731 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.html - null null
2025-11-08 21:24:54.154 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.html - 200 null text/html;charset=utf-8 1422.2276ms
2025-11-08 21:24:54.691 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui.css - null null
2025-11-08 21:24:54.696 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.css - null null
2025-11-08 21:24:54.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-bundle.js - null null
2025-11-08 21:24:54.697 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-standalone-preset.js - null null
2025-11-08 21:24:55.695 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/index.js - null null
2025-11-08 21:24:55.702 +05:30 [INF] Sending file. Request path: '/index.css'. Physical path: 'N/A'
2025-11-08 21:24:55.706 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.css - 200 202 text/css 1009.2447ms
2025-11-08 21:24:55.708 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/index.js - 200 null application/javascript;charset=utf-8 12.7527ms
2025-11-08 21:24:56.027 +05:30 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2025-11-08 21:24:56.027 +05:30 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2025-11-08 21:24:56.045 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui.css - 200 152035 text/css 1354.281ms
2025-11-08 21:24:56.048 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-standalone-preset.js - 200 230007 text/javascript 1351.173ms
2025-11-08 21:24:56.249 +05:30 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-11-08 21:24:56.254 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/swagger-ui-bundle.js - 200 1426050 text/javascript 1557.3044ms
2025-11-08 21:24:56.861 +05:30 [INF] Request starting HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - null null
2025-11-08 21:24:59.608 +05:30 [INF] Request finished HTTP/1.1 GET http://localhost:5108/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2747.7172ms
2025-11-08 21:38:45.052 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/forgot-password - null null
2025-11-08 21:38:45.088 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:38:45.104 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/forgot-password - 204 null null 52.5048ms
2025-11-08 21:38:45.113 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/forgot-password - application/json 32
2025-11-08 21:38:45.120 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:38:45.123 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ForgotPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:38:45.139 +05:30 [INF] Route matched with {action = "ForgotPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ForgotPassword(Kanini.Ecommerce.Application.DTOs.ForgotPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:38:45.184 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: ForgotPassword
2025-11-08 21:38:45.188 +05:30 [INF] OTP generation started for Email: skempire69@gmail.com, Type: ForgotPassword
2025-11-08 21:38:45.190 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:38:45.888 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-08 21:38:45.896 +05:30 [INF] OTP generated successfully
2025-11-08 21:38:45.899 +05:30 [INF] OTP JWT token created for email: skempire69@gmail.com, type: ForgotPassword
2025-11-08 21:38:45.902 +05:30 [INF] Email sending started to: skempire69@gmail.com
2025-11-08 21:38:48.966 +05:30 [INF] Email sent successfully to: skempire69@gmail.com
2025-11-08 21:38:48.975 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 21:38:48.983 +05:30 [INF] OTP sent successfully to Email: skempire69@gmail.com
2025-11-08 21:38:48.993 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.OtpResponseDto'.
2025-11-08 21:38:49.004 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ForgotPassword (Kanini.Ecommerce.Api) in 3857.3802ms
2025-11-08 21:38:49.008 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ForgotPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:38:49.012 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/forgot-password - 200 null application/json; charset=utf-8 3899.5753ms
2025-11-08 21:39:06.667 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-forgot-password-otp - null null
2025-11-08 21:39:06.672 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:39:06.676 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-forgot-password-otp - 204 null null 8.9135ms
2025-11-08 21:39:06.692 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-forgot-password-otp - application/json 422
2025-11-08 21:39:06.746 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:39:06.748 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyForgotPasswordOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:39:06.765 +05:30 [INF] Route matched with {action = "VerifyForgotPasswordOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyForgotPasswordOtp(Kanini.Ecommerce.Application.DTOs.VerifyForgotPasswordOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:39:06.916 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:39:07.010 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:39:07.014 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - false
2025-11-08 21:39:07.018 +05:30 [WRN] OTP validation failed for Email: skempire69@gmail.com
2025-11-08 21:39:07.049 +05:30 [ERR] OTP validation failed for Email: skempire69@gmail.com
2025-11-08 21:39:07.051 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Kanini.Ecommerce.Common.Error'.
2025-11-08 21:39:07.054 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyForgotPasswordOtp (Kanini.Ecommerce.Api) in 222.2724ms
2025-11-08 21:39:07.058 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyForgotPasswordOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:39:07.062 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-forgot-password-otp - 400 null application/json; charset=utf-8 370.5136ms
2025-11-08 21:39:12.739 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-forgot-password-otp - null null
2025-11-08 21:39:12.854 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:39:13.092 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/verify-forgot-password-otp - 204 null null 353.5047ms
2025-11-08 21:39:13.104 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/verify-forgot-password-otp - application/json 422
2025-11-08 21:39:13.177 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:39:13.179 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyForgotPasswordOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:39:13.185 +05:30 [INF] Route matched with {action = "VerifyForgotPasswordOtp", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] VerifyForgotPasswordOtp(Kanini.Ecommerce.Application.DTOs.VerifyForgotPasswordOtpRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:39:13.190 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:39:13.195 +05:30 [INF] OTP validation started for Email: skempire69@gmail.com
2025-11-08 21:39:13.201 +05:30 [INF] OTP validation result for email: skempire69@gmail.com - true
2025-11-08 21:39:13.204 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-08 21:39:13.206 +05:30 [INF] OTP validation successful for Email: skempire69@gmail.com
2025-11-08 21:39:13.208 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-08 21:39:13.216 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.VerifyForgotPasswordOtp (Kanini.Ecommerce.Api) in 26.9979ms
2025-11-08 21:39:13.219 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.VerifyForgotPasswordOtp (Kanini.Ecommerce.Api)'
2025-11-08 21:39:13.222 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/verify-forgot-password-otp - 200 null application/json; charset=utf-8 117.3674ms
2025-11-08 21:39:35.402 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:39:35.410 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:39:35.424 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 21.9924ms
2025-11-08 21:39:35.521 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 61
2025-11-08 21:39:35.597 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:39:35.624 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:39:35.675 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:39:35.899 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-08 21:39:36.025 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 321.3889ms
2025-11-08 21:39:36.033 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:39:36.036 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 400 null application/problem+json; charset=utf-8 514.5228ms
2025-11-08 21:43:44.310 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:43:44.321 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:43:44.379 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 69.2696ms
2025-11-08 21:43:44.428 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 94
2025-11-08 21:43:44.475 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:43:44.478 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:43:44.510 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:43:44.540 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-08 21:43:44.543 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 6.2454ms
2025-11-08 21:43:44.554 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:43:44.556 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 400 null application/problem+json; charset=utf-8 127.4933ms
2025-11-08 21:44:15.375 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:44:15.384 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:44:15.386 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 10.5019ms
2025-11-08 21:44:15.455 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 98
2025-11-08 21:44:15.470 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:44:15.472 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:44:15.485 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:44:15.506 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-08 21:44:15.511 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 8.8537ms
2025-11-08 21:44:15.525 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:44:15.529 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 400 null application/problem+json; charset=utf-8 73.4221ms
2025-11-08 21:44:47.953 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:44:47.958 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:44:47.966 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 12.6403ms
2025-11-08 21:44:48.024 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 88
2025-11-08 21:44:48.044 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:44:48.061 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:44:48.072 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:44:48.136 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-08 21:44:48.155 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 36.5836ms
2025-11-08 21:44:48.204 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:44:48.208 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 400 null application/problem+json; charset=utf-8 184.2837ms
2025-11-08 21:45:02.748 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:45:02.768 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:45:02.801 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 53.7366ms
2025-11-08 21:45:02.857 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 88
2025-11-08 21:45:02.880 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:45:02.883 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:45:02.894 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:45:02.902 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-08 21:45:02.945 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 44.5557ms
2025-11-08 21:45:02.962 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:45:02.993 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 400 null application/problem+json; charset=utf-8 135.9882ms
2025-11-08 21:45:31.273 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:45:31.295 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:45:31.317 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 44.1469ms
2025-11-08 21:45:31.397 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 94
2025-11-08 21:45:31.403 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:45:31.406 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:45:31.412 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:45:31.420 +05:30 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-11-08 21:45:31.424 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 5.3959ms
2025-11-08 21:45:31.466 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:45:31.471 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 400 null application/problem+json; charset=utf-8 74.0107ms
2025-11-08 21:47:37.294 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - null null
2025-11-08 21:47:37.299 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:47:37.301 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/reset-password - 204 null null 7.0464ms
2025-11-08 21:47:37.368 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - application/json 94
2025-11-08 21:47:37.373 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:47:37.382 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:47:37.390 +05:30 [INF] Route matched with {action = "ResetPassword", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ResetPassword(Kanini.Ecommerce.Application.DTOs.ResetPasswordRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:47:37.446 +05:30 [INF] Password reset started for Email: skempire69@gmail.com
2025-11-08 21:47:37.471 +05:30 [INF] Password reset started for Email: skempire69@gmail.com
2025-11-08 21:47:37.481 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:47:37.706 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-08 21:47:37.820 +05:30 [INF] Executed DbCommand (5ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 21:47:38.069 +05:30 [INF] Executed DbCommand (240ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (Size = 256), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [PasswordHash] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 21:47:38.931 +05:30 [INF] Executed DbCommand (133ms) [Parameters=[@__userId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [r].[RefreshTokenId], [r].[CreatedBy], [r].[CreatedOn], [r].[DeletedBy], [r].[DeletedOn], [r].[ExpiresAt], [r].[IsDeleted], [r].[IsRevoked], [r].[RevokedAt], [r].[RevokedBy], [r].[RevokedReason], [r].[TenantId], [r].[Token], [r].[UpdatedBy], [r].[UpdatedOn], [r].[UserId]
FROM [RefreshTokens] AS [r]
WHERE [r].[UserId] = @__userId_0 AND [r].[IsRevoked] = CAST(0 AS BIT)
2025-11-08 21:47:38.999 +05:30 [INF] Executed DbCommand (52ms) [Parameters=[@p6='?' (DbType = Int32), @p0='?' (DbType = Boolean), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (Size = 200), @p4='?' (Size = 100), @p5='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [RefreshTokens] SET [IsRevoked] = @p0, [RevokedAt] = @p1, [RevokedBy] = @p2, [RevokedReason] = @p3, [UpdatedBy] = @p4, [UpdatedOn] = @p5
OUTPUT 1
WHERE [RefreshTokenId] = @p6;
2025-11-08 21:47:39.010 +05:30 [INF] Password reset successful for Email: skempire69@gmail.com
2025-11-08 21:47:39.011 +05:30 [INF] Password reset successful for Email: skempire69@gmail.com
2025-11-08 21:47:39.013 +05:30 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType1`1[[System.String, System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-11-08 21:47:39.016 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api) in 1578.4357ms
2025-11-08 21:47:39.020 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.ResetPassword (Kanini.Ecommerce.Api)'
2025-11-08 21:47:39.028 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/reset-password - 200 null application/json; charset=utf-8 1659.7926ms
2025-11-08 21:47:57.764 +05:30 [INF] Request starting HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - null null
2025-11-08 21:47:57.773 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:47:57.779 +05:30 [INF] Request finished HTTP/1.1 OPTIONS http://localhost:5108/api/auth/login - 204 null null 15.8991ms
2025-11-08 21:47:57.837 +05:30 [INF] Request starting HTTP/1.1 POST http://localhost:5108/api/auth/login - application/json 58
2025-11-08 21:47:57.903 +05:30 [INF] CORS policy execution successful.
2025-11-08 21:47:57.911 +05:30 [INF] Executing endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:47:57.915 +05:30 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Kanini.Ecommerce.Application.DTOs.LoginRequestDto) on controller Kanini.Ecommerce.Api.Controllers.AuthController (Kanini.Ecommerce.Api).
2025-11-08 21:47:57.923 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:47:57.930 +05:30 [INF] Login attempt started for Email: skempire69@gmail.com
2025-11-08 21:47:57.938 +05:30 [INF] Executing stored procedure sp_GetUserByEmail for Email: skempire69@gmail.com
2025-11-08 21:47:57.980 +05:30 [INF] User found for Email: skempire69@gmail.com, UserId: 1002
2025-11-08 21:47:57.986 +05:30 [INF] Executing stored procedure sp_ValidateUserCredentials for Email: skempire69@gmail.com
2025-11-08 21:47:58.226 +05:30 [INF] Credential validation result for Email: skempire69@gmail.com - true
2025-11-08 21:47:58.230 +05:30 [INF] Executed DbCommand (1ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[UserId], [u].[CreatedBy], [u].[CreatedOn], [u].[DeletedBy], [u].[DeletedOn], [u].[Email], [u].[FailedLoginAttempts], [u].[IsActive], [u].[IsDeleted], [u].[IsEmailVerified], [u].[LastLogin], [u].[LockoutEnd], [u].[PasswordHash], [u].[Phone], [u].[Role], [u].[TenantId], [u].[UpdatedBy], [u].[UpdatedOn]
FROM [Users] AS [u]
WHERE [u].[IsDeleted] = CAST(0 AS BIT) AND [u].[UserId] = @__p_0
2025-11-08 21:47:58.249 +05:30 [INF] Executed DbCommand (12ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [UpdatedOn] = @p0
OUTPUT 1
WHERE [UserId] = @p1;
2025-11-08 21:47:58.254 +05:30 [INF] Creating refresh token for UserId: 1002
2025-11-08 21:47:58.478 +05:30 [INF] Executed DbCommand (206ms) [Parameters=[@p0='?' (Size = 100), @p1='?' (DbType = DateTime2), @p2='?' (Size = 100), @p3='?' (DbType = DateTime2), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Boolean), @p6='?' (DbType = DateTime2), @p7='?' (Size = 100), @p8='?' (Size = 200), @p9='?' (Size = 100), @p10='?' (Size = 500), @p11='?' (Size = 100), @p12='?' (DbType = DateTime2), @p13='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [RefreshTokens] ([CreatedBy], [CreatedOn], [DeletedBy], [DeletedOn], [ExpiresAt], [IsDeleted], [RevokedAt], [RevokedBy], [RevokedReason], [TenantId], [Token], [UpdatedBy], [UpdatedOn], [UserId])
OUTPUT INSERTED.[RefreshTokenId], INSERTED.[IsRevoked]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13);
2025-11-08 21:47:58.497 +05:30 [INF] Refresh token created successfully with Id: 10
2025-11-08 21:47:58.512 +05:30 [INF] Executed DbCommand (8ms) [Parameters=[@p2='?' (DbType = Int32), @p0='?' (DbType = DateTime2), @p1='?' (DbType = DateTime2)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Users] SET [LastLogin] = @p0, [UpdatedOn] = @p1
OUTPUT 1
WHERE [UserId] = @p2;
2025-11-08 21:47:58.518 +05:30 [INF] Login successful for UserId: 1002
2025-11-08 21:47:58.520 +05:30 [INF] Login successful for UserId: 1002
2025-11-08 21:47:58.522 +05:30 [INF] Executing OkObjectResult, writing value of type 'Kanini.Ecommerce.Application.DTOs.LoginResponseDto'.
2025-11-08 21:47:58.531 +05:30 [INF] Executed action Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api) in 610.2369ms
2025-11-08 21:47:58.536 +05:30 [INF] Executed endpoint 'Kanini.Ecommerce.Api.Controllers.AuthController.Login (Kanini.Ecommerce.Api)'
2025-11-08 21:47:58.538 +05:30 [INF] Request finished HTTP/1.1 POST http://localhost:5108/api/auth/login - 200 null application/json; charset=utf-8 701.4441ms
2025-11-08 21:54:39.128 +05:30 [INF] Application is shutting down...
